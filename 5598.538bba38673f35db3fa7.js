(self.webpackChunkwebadmin=self.webpackChunkwebadmin||[]).push([[5598],{5598:(i,t,e)=>{"use strict";e.r(t),e.d(t,{AvisosPageModule:()=>Z});var o=e(8583),n=e(665),s=e(2859),r=e(7405),a=e(7841),l=e(6738),c=e(8720);function u(i,t){if(1&i){const i=c.EpF();c.TgZ(0,"ion-card"),c.TgZ(1,"ion-card-header"),c._UZ(2,"img",6),c.TgZ(3,"ion-card-title"),c._uU(4),c.qZA(),c.TgZ(5,"ion-card-subtitle"),c.TgZ(6,"i"),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.TgZ(8,"ion-card-content"),c.TgZ(9,"p"),c._uU(10),c.qZA(),c.qZA(),c._UZ(11,"hr"),c.TgZ(12,"ion-row"),c.TgZ(13,"ion-col",7),c.TgZ(14,"ion-button",8),c.NdJ("click",function(){return c.CHM(i),c.oxw().likes()}),c._UZ(15,"ion-icon",9),c.TgZ(16,"small"),c._uU(17,"Like"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"ion-col",7),c.TgZ(19,"ion-button",10),c._UZ(20,"ion-icon",11),c.TgZ(21,"small"),c._uU(22),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",12),c.TgZ(24,"small"),c.TgZ(25,"ion-button",10),c._UZ(26,"ion-icon",13),c.TgZ(27,"span",14),c._uU(28),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&i){const i=t.$implicit,e=c.oxw();c.xp6(2),c.Q6J("src",i.data().image_src,c.LSH),c.xp6(2),c.Oqu(i.data().title),c.xp6(3),c.hij(" ",i.data().subtitle,""),c.xp6(3),c.hij(" ",i.data().note," "),c.xp6(5),c.Q6J("name",e.like?"thumbs-up-outline":"thumbs-up"),c.xp6(7),c.hij(" ",e.publicationTimeb(i.data().date.toDate()),""),c.xp6(6),c.hij(" Publicado por ",i.data().name," ")}}const h=[{path:"",component:(()=>{class i{constructor(){this.noticias=[],this.listaCompleta=[],this.numberofpost=2,this.like=!0,this.recuperarInfo()}ngOnInit(){}publicationTime(i){l.locale("es");let t=l(i).diff(l());return l.duration(t).humanize()}publicationTimeb(i){return l.locale("es"),l(i,"dddd MMMM dd yy h:mm:ss").fromNow()}recuperarInfo(){a.Z.firestore().collection("noticias").orderBy("date","desc").limit(this.numberofpost).get().then(i=>{i.forEach(i=>{this.noticias.push(i)}),this.cursor=this.noticias[this.noticias.length-1]}).catch(i=>{})}getDate(i){return i.toDate().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}loadData(i){a.Z.firestore().collection("noticias").orderBy("date","desc").startAfter(this.cursor).limit(this.numberofpost).get().then(i=>{console.log(this.listaCompleta.length),i.forEach(i=>{this.noticias.push(i)}),this.cursor=this.noticias[this.noticias.length-1]}).catch(i=>{}),setTimeout(()=>{this.infiniteScroll.complete(),console.log(this.noticias.length),this.respLista-this.noticias.length<1&&(this.infiniteScroll.complete(),this.infiniteScroll.disabled=!0,this.infiniteEvent=i)},1500)}doRefresh(i){console.log("Begin async operation"),this.noticias=[],this.recuperarInfo(),setTimeout(()=>{console.log("Async operation has ended"),i.target.complete()},2e3)}likes(){this.like=!this.like}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=c.Xpm({type:i,selectors:[["app-avisos"]],viewQuery:function(i,t){if(1&i&&(c.Gf(s.ju,5),c.Gf(s.nJ,5)),2&i){let i;c.iGM(i=c.CRH())&&(t.infiniteScroll=i.first),c.iGM(i=c.CRH())&&(t.refresher=i.first)}},decls:12,vars:1,consts:[["slot","end"],["menu","first"],["slot","fixed","pullFactor","0.8","pullMin","60","pullMax","120",3,"ionRefresh"],[4,"ngFor","ngForOf"],["threshold","25%","position","bottom","disabled","false",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["alt","",1,"centrado",3,"src"],["size","6"],["fill","clear","color","light",3,"click"],["slot","start",3,"name"],["fill","clear","color","light","size","small"],["slot","start","name","time-outline"],[1,"ion-margin-horizontal"],["slot","start","name","person-outline"],[2,"font-size","small"]],template:function(i,t){1&i&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-title"),c._uU(3,"Aviso"),c.qZA(),c.TgZ(4,"ion-buttons",0),c._UZ(5,"ion-menu-button",1),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.TgZ(7,"ion-refresher",2),c.NdJ("ionRefresh",function(i){return t.doRefresh(i)}),c._UZ(8,"ion-refresher-content"),c.qZA(),c.YNc(9,u,29,7,"ion-card",3),c.TgZ(10,"ion-infinite-scroll",4),c.NdJ("ionInfinite",function(i){return t.loadData(i)}),c._UZ(11,"ion-infinite-scroll-content",5),c.qZA(),c.qZA()),2&i&&(c.xp6(9),c.Q6J("ngForOf",t.noticias))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.fG,s.W2,s.nJ,s.Wo,o.sg,s.ju,s.MB,s.PM,s.Zi,s.gZ,s.tO,s.FN,s.Nd,s.wI,s.YG,s.gu],styles:[""]}),i})()},{path:"nuevoaviso",loadChildren:()=>e.e(4121).then(e.bind(e,4121)).then(i=>i.NuevoavisoPageModule)}];let d=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[r.Bz.forChild(h)],r.Bz]}),i})(),Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=c.oAB({type:i}),i.\u0275inj=c.cJS({imports:[[o.ez,n.u5,s.Pc,d]]}),i})()}}]);