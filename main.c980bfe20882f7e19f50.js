(self.webpackChunkwebadmin=self.webpackChunkwebadmin||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},8583:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,ez:()=>F,K0:()=>c,Do:()=>I,V_:()=>h,Ye:()=>E,S$:()=>v,sg:()=>R,O5:()=>P,b0:()=>_,lw:()=>l,EM:()=>j,JF:()=>B,NF:()=>V,PM:()=>U,w_:()=>a,bD:()=>M,q:()=>i,Mx:()=>O,HT:()=>o});var r=n(8720);let s=null;function i(){return s}function o(e){s||(s=e)}class a{}const c=new r.OlP("DocumentToken");let l=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return i().getBaseHref(this._doc)}onPopState(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=i().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:w,token:e,providedIn:"root"}),e})();function w(e){const t=(0,r.LFG)(c).location;return new _((0,r.LFG)(l),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+y(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(l))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:S,token:e,providedIn:"root"}),e})();function S(){return new E((0,r.LFG)(v),(0,r.LFG)(l))}function T(e){return e.replace(/\/index.html$/,"")}var C=(()=>((C=C||{})[C.Zero=0]="Zero",C[C.One=1]="One",C[C.Two=2]="Two",C[C.Few=3]="Few",C[C.Many=4]="Many",C[C.Other=5]="Other",C))();const k=r.kL8;class A{}let x=(()=>{class e extends A{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(k(t||this.locale)(e)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function O(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class N{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new N(null,this._ngForOf,-1,-1),null===r?void 0:r),s=new D(e,n);t.push(s)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const i=new D(e,s);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class D{constructor(e,t){this.record=e,this.view=t}}let P=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function $(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:A,useClass:x}]}),e})();const M="browser";function V(e){return e===M}function U(e){return"server"===e}let j=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new q((0,r.LFG)(c),window)}),e})();class q{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function z(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class B{}},8720:(e,t,n)=>{"use strict";n.d(t,{deG:()=>an,tb:()=>vc,AFp:()=>fc,ip1:()=>hc,CZH:()=>dc,hGG:()=>hl,z2F:()=>tl,ahi:()=>sn,sBO:()=>ga,Sil:()=>xc,_Vd:()=>Uo,aQ5:()=>ln,EJc:()=>_c,SBq:()=>Bo,qLn:()=>Ar,vpe:()=>Ba,L6J:()=>uc,gxx:()=>fi,tBr:()=>On,XFs:()=>N,OlP:()=>on,zs3:()=>Ai,ZZ4:()=>la,aQg:()=>ha,soG:()=>bc,YKP:()=>Ca,v3s:()=>rl,h0i:()=>Ta,PXZ:()=>Xc,R0b:()=>Rc,FiY:()=>Nn,r_U:()=>lc,Lbi:()=>yc,g9A:()=>gc,Qsj:()=>Yo,FYo:()=>Go,JOm:()=>Nr,Tiy:()=>Ko,q3G:()=>br,tp0:()=>Rn,EAV:()=>ol,Rgc:()=>_a,dDg:()=>Vc,DyG:()=>hn,q4F:()=>Qo,GfV:()=>Xo,i9L:()=>un,s_b:()=>Aa,ifc:()=>F,eFA:()=>Qc,G48:()=>Wc,Gpc:()=>m,X6Q:()=>Yc,_c5:()=>ll,VLi:()=>qc,c2e:()=>wc,zSh:()=>mi,wAp:()=>Co,vHH:()=>v,EiD:()=>vr,mCW:()=>tr,qzn:()=>Bn,JVY:()=>Gn,pB0:()=>Xn,eBb:()=>Wn,L6k:()=>Yn,LAX:()=>Kn,cg1:()=>Eo,Tjo:()=>cl,kL8:()=>So,yhl:()=>Hn,dqk:()=>q,sIi:()=>Fi,CqO:()=>Zi,QGY:()=>Qi,F4k:()=>Ji,RDi:()=>Ce,AaK:()=>d,z3N:()=>zn,qOj:()=>Oi,TTD:()=>be,_Bn:()=>Fo,xp6:()=>vs,uIk:()=>ji,ekj:()=>lo,Suo:()=>sc,Xpm:()=>Z,lG2:()=>oe,Yz7:()=>I,cJS:()=>E,oAB:()=>re,Yjl:()=>ae,Y36:()=>zi,_UZ:()=>Ki,qZA:()=>Wi,TgZ:()=>Yi,EpF:()=>Xi,n5z:()=>Xt,Ikx:()=>wo,LFG:()=>kn,$8M:()=>Jt,$Z:()=>Bi,NdJ:()=>eo,CRH:()=>ic,oxw:()=>ro,Hsn:()=>oo,F$t:()=>io,Q6J:()=>Hi,iGM:()=>nc,CHM:()=>Be,oJD:()=>_r,LSH:()=>Ir,kYT:()=>se,YNc:()=>qi,_uU:()=>mo,Oqu:()=>go,hij:()=>yo,HOy:()=>vo,Gf:()=>rc});var r=n(9765),s=n(5319),i=n(7574),o=n(6682),a=n(4458),c=n(1307);function l(){return new r.xQ}function u(e){for(let t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=u({__forward_ref__:u});function m(e){return e.__forward_ref__=m,e.toString=function(){return d(this())},e}function g(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===m}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return T(e,k)||T(e,x)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(A)||e.hasOwnProperty(O))?e[A]:null}const k=u({"\u0275prov":u}),A=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),O=u({ngInjectorDef:u});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let R;function D(e){const t=R;return R=e,t}function P(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function L(e){return{toString:e}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const M="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=M||j||V||U,z={},B=[],H=u({"\u0275cmp":u}),G=u({"\u0275dir":u}),Y=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),K=u({"\u0275loc":u}),X=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let J=0;function Z(e){return L(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||B,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F.Emulated,id:"c",styles:e.styles||B,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,i=e.pipes;return n.id+=J++,n.inputs=ie(e.inputs,t),n.outputs=ie(e.outputs),s&&s.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[G]||null}(e)}function te(e){return function(e){return e[Y]||null}(e)}const ne={};function re(e){return L(()=>{const t={type:e.type,bootstrap:e.bootstrap||B,declarations:e.declarations||B,imports:e.imports||B,exports:e.exports||B,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function se(e,t){return L(()=>{const n=le(e,!0);n.declarations=t.declarations||B,n.imports=t.imports||B,n.exports=t.exports||B})}function ie(e,t){if(null==e)return z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}const oe=Z;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function le(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ue=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function me(e){return 2==(2&e.flags)}function ge(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(X)?e[X]:null}class we{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function be(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ee),Ie}function Ie(){const e=Se(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ee(e,t,n,r){const s=Se(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:z,current:null}),i=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[n],c=o[a];i[a]=new we(c&&c.currentValue,t,o===z),e[r]=t}function Se(e){return e.__ngSimpleChanges__||null}let Te;function Ce(e){Te=e}function ke(){return void 0!==Te?Te:"undefined"!=typeof document?document:void 0}function Ae(e){return!!e.listen}be.ngInherit=!0;const xe={createRenderer:(e,t)=>ke()};function Oe(e){for(;Array.isArray(e);)e=e[0];return e}function Ne(e,t){return Oe(t[e])}function Re(e,t){return Oe(t[e.index])}function De(e,t){return e.data[t]}function Pe(e,t){const n=t[e];return de(n)?n:n[0]}function Le(e){return 4==(4&e[2])}function $e(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Me(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:ct(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function qe(){return Ue.lFrame.lView}function ze(){return Ue.lFrame.tView}function Be(e){return Ue.lFrame.contextLView=e,e[8]}function He(){let e=Ge();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ge(){return Ue.lFrame.currentTNode}function Ye(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function We(){return Ue.lFrame.isParent}function Ke(){Ue.lFrame.isParent=!1}function Xe(){return Ue.isInCheckNoChangesMode}function Qe(e){Ue.isInCheckNoChangesMode=e}function Je(){return Ue.lFrame.bindingIndex++}function Ze(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function et(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){Ue.lFrame.currentDirectiveIndex=e}function nt(){return Ue.lFrame.currentQueryIndex}function rt(e){Ue.lFrame.currentQueryIndex=e}function st(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function it(e,t,n){if(n&N.SkipSelf){let r=t,s=e;for(;r=r.parent,!(null!==r||n&N.Host||(r=st(s),null===r)||(s=s[15],10&r.type)););if(null===r)return!1;t=r,e=s}const r=Ue.lFrame=at();return r.currentTNode=t,r.lView=e,!0}function ot(e){const t=at(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function at(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?ct(e):t}function ct(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lt(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=lt;function ht(){const e=lt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dt(){return Ue.lFrame.selectedIndex}function ft(e){Ue.lFrame.selectedIndex=e}function pt(){const e=Ue.lFrame;return De(e.tView,e.selectedIndex)}function mt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:s,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),i&&(e.viewHooks||(e.viewHooks=[])).push(-n,i),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gt(e,t,n){wt(e,t,3,n)}function yt(e,t,n,r){(3&e[2])===n&&wt(e,t,n,r)}function vt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function wt(e,t,n,r){const s=null!=r?r:-1,i=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<i;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<s||-1==s)&&(bt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function bt(e,t,n,r){const s=n[r]<0,i=n[r+1],o=e[s?-n[r]:n[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(o)}finally{}}}else try{i.call(o)}finally{}}const _t=-1;class It{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Et(e,t,n){const r=Ae(e);let s=0;for(;s<n.length;){const i=n[s];if("number"==typeof i){if(0!==i)break;s++;const o=n[s++],a=n[s++],c=n[s++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=i,a=n[++s];Tt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function St(e){return 3===e||4===e||6===e}function Tt(e){return 64===e.charCodeAt(0)}function Ct(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||kt(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function kt(e,t,n,r,s){let i=0,o=e.length;if(-1===t)o=-1;else for(;i<e.length;){const n=e[i++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=i-1;break}}}for(;i<e.length;){const t=e[i];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==o&&(e.splice(o,0,t),i=o+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}function At(e){return e!==_t}function xt(e){return 32767&e}function Ot(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Nt=!0;function Rt(e){const t=Nt;return Nt=e,t}let Dt=0;function Pt(e,t){const n=$t(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Lt(r.data,e),Lt(t,null),Lt(r.blueprint,null));const s=Ft(e,t),i=e.injectorIndex;if(At(s)){const e=xt(s),n=Ot(s,t),r=n[1].data;for(let s=0;s<8;s++)t[i+s]=n[e+s]|r[e+s]}return t[i+8]=s,i}function Lt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function $t(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ft(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){const e=s[1],t=e.type;if(r=2===t?e.declTNode:1===t?s[6]:null,null===r)return _t;if(n++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _t}function Mt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Dt++);const s=255&r;t.data[e+(s>>5)]|=1<<s}(e,t,n)}function Vt(e,t,n){if(n&N.Optional)return e;_(t,"NodeInjector")}function Ut(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const s=e[9],i=D(void 0);try{return s?s.get(t,r,n&N.Optional):P(t,r,n&N.Optional)}finally{D(i)}}return Vt(r,t,n)}function jt(e,t,n,r=N.Default,s){if(null!==e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:zt:t}(n);if("function"==typeof i){if(!it(t,e,r))return r&N.Host?Vt(s,n,r):Ut(t,n,r,s);try{const e=i(r);if(null!=e||r&N.Optional)return e;_(n)}finally{ut()}}else if("number"==typeof i){let s=null,o=$t(e,t),a=_t,c=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Ft(e,t):t[o+8],a!==_t&&Wt(r,!1)?(s=t[1],o=xt(a),t=Ot(a,t)):o=-1);-1!==o;){const e=t[1];if(Yt(i,o,e.data)){const e=Bt(o,t,n,s,r,c);if(e!==qt)return e}a=t[o+8],a!==_t&&Wt(r,t[1].data[o+8]===c)&&Yt(i,o,t)?(s=e,o=xt(a),t=Ot(a,t)):o=-1}}}return Ut(t,n,r,s)}const qt={};function zt(){return new Kt(He(),qe())}function Bt(e,t,n,r,s,i){const o=t[1],a=o.data[e+8],c=Ht(a,o,n,null==r?me(a)&&Nt:r!=o&&0!=(3&a.type),s&N.Host&&i===a);return null!==c?Gt(t,o,c,a):qt}function Ht(e,t,n,r,s){const i=e.providerIndexes,o=t.data,a=1048575&i,c=e.directiveStart,l=i>>20,u=s?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(s){const e=o[c];if(e&&ye(e)&&e.type===n)return c}return null}function Gt(e,t,n,r){let s=e[n];const i=t.data;if(s instanceof It){const o=s;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(i[n]));const a=Rt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;it(e,r,N.Default);try{s=e[n]=o.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==c&&D(c),Rt(a),o.resolving=!1,ut()}}return s}function Yt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Wt(e,t){return!(e&N.Self||e&N.Host&&t)}class Kt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return jt(this._tNode,this._lView,e,void 0,t)}}function Xt(e){return L(()=>{const t=e.prototype.constructor,n=t[X]||Qt(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const e=s[X]||Qt(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function Qt(e){return y(e)?()=>{const t=Qt(g(e));return t&&t()}:ve(e)}function Jt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const s=n[r];if(St(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(He(),e)}const Zt="__parameters__",en="__prop__metadata__";function tn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function nn(e,t,n){return L(()=>{const r=tn(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty(Zt)?e[Zt]:Object.defineProperty(e,Zt,{value:[]})[Zt];for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function rn(e,t,n,r){return L(()=>{const s=tn(t);function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(n,s){const i=n.constructor,o=i.hasOwnProperty(en)?i[en]:Object.defineProperty(i,en,{value:{}})[en];o[s]=o.hasOwnProperty(s)&&o[s]||[],o[s].unshift(t),r&&r(n,s,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const sn=function(){return nn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Jt(e)}))}();class on{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new on("AnalyzeForEntryComponents");class cn{}const ln=rn("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),cn),un=rn("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),cn),hn=Function;function dn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),dn(r,t)):t!==e&&t.push(r)}return t}function fn(e,t){e.forEach(e=>Array.isArray(e)?fn(e,t):t(e))}function pn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function mn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function yn(e,t,n){let r=wn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function vn(e,t){const n=wn(e,t);if(n>=0)return e[1|n]}function wn(e,t){return function(e,t,n){let r=0,s=e.length>>1;for(;s!==r;){const n=r+(s-r>>1),i=e[n<<1];if(t===i)return n<<1;i>t?s=n:r=n+1}return~(s<<1)}(e,t)}const bn={},_n=/\n/gm,In="__source",En=u({provide:String,useValue:u});let Sn;function Tn(e){const t=Sn;return Sn=e,t}function Cn(e,t=N.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?P(e,void 0,t):Sn.get(e,t&N.Optional?null:void 0,t)}function kn(e,t=N.Default){return(R||Cn)(g(e),t)}function An(e){const t=[];for(let n=0;n<e.length;n++){const r=g(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const s=r[t],i=s.__NG_DI_FLAG__;"number"==typeof i?-1===i?e=s.token:n|=i:e=s}t.push(kn(e,n))}else t.push(kn(r))}return t}function xn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const On=xn(nn("Inject",e=>({token:e})),-1),Nn=xn(nn("Optional"),8),Rn=xn(nn("SkipSelf"),4);let Dn,Pn;function Ln(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,q.trustedTypes))try{Dn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}function $n(e){var t;return(null===(t=function(){if(void 0===Pn&&(Pn=null,q.trustedTypes))try{Pn=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Pn}())||void 0===t?void 0:t.createHTML(e))||e}class Fn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mn extends Fn{getTypeName(){return"HTML"}}class Vn extends Fn{getTypeName(){return"Style"}}class Un extends Fn{getTypeName(){return"Script"}}class jn extends Fn{getTypeName(){return"URL"}}class qn extends Fn{getTypeName(){return"ResourceURL"}}function zn(e){return e instanceof Fn?e.changingThisBreaksApplicationSecurity:e}function Bn(e,t){const n=Hn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Hn(e){return e instanceof Fn&&e.getTypeName()||null}function Gn(e){return new Mn(e)}function Yn(e){return new Vn(e)}function Wn(e){return new Un(e)}function Kn(e){return new jn(e)}function Xn(e){return new qn(e)}class Qn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ln(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Jn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ln(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Ln(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(e){return(e=String(e)).match(Zn)||e.match(er)?e:"unsafe:"+e}function nr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function rr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const sr=nr("area,br,col,hr,img,wbr"),ir=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=nr("rp,rt"),ar=rr(or,ir),cr=rr(sr,rr(ir,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(or,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),lr=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=nr("srcset"),hr=rr(lr,ur,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=nr("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!cr.hasOwnProperty(t))return this.sanitizedSomething=!0,!dr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,i=t.toLowerCase();if(!hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;lr[i]&&(o=tr(o)),ur[i]&&(r=o,o=(r=String(r)).split(",").map(e=>tr(e.trim())).join(", ")),this.buf.push(" ",t,'="',gr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();cr.hasOwnProperty(t)&&!sr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function gr(e){return e.replace(/&/g,"&amp;").replace(pr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function vr(e,t){let n=null;try{yr=yr||function(e){const t=new Jn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Ln(""),"text/html")}catch(e){return!1}}()?new Qn(t):t}(e);let r=t?String(t):"";n=yr.getInertBodyElement(r);let s=5,i=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=i,i=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==i);return Ln((new fr).sanitizeChildren(wr(n)||n))}finally{if(n){const e=wr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function wr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function _r(e){const t=Er();return t?$n(t.sanitize(br.HTML,e)||""):Bn(e,"HTML")?$n(zn(e)):vr(ke(),w(e))}function Ir(e){const t=Er();return t?t.sanitize(br.URL,e)||"":Bn(e,"URL")?zn(e):tr(w(e))}function Er(){const e=qe();return e&&e[12]}function Sr(e,t){e.__ngContext__=t}function Tr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Cr(e){return e.ngOriginalError}function kr(e,...t){e.error(...t)}class Ar{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||kr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Cr(e)):null}_findOriginalError(e){let t=e&&Cr(e);for(;t&&Cr(t);)t=Cr(t);return t||null}}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function Or(e){return e instanceof Function?e():e}var Nr=(()=>((Nr=Nr||{})[Nr.Important=1]="Important",Nr[Nr.DashCase=2]="DashCase",Nr))();function Rr(e,t){return(void 0)(e,t)}function Dr(e){const t=e[3];return fe(t)?t[3]:t}function Pr(e){return $r(e[13])}function Lr(e){return $r(e[4])}function $r(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Fr(e,t,n,r,s){if(null!=r){let i,o=!1;fe(r)?i=r:de(r)&&(o=!0,r=r[0]);const a=Oe(r);0===e&&null!==n?null==s?Hr(t,n,a):Br(t,n,a,s||null,!0):1===e&&null!==n?Br(t,n,a,s||null,!0):2===e?function(e,t,n){const r=Yr(e,t);r&&function(e,t,n,r){Ae(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=i&&function(e,t,n,r,s){const i=n[7];i!==Oe(n)&&Fr(t,e,r,i,s);for(let o=he;o<n.length;o++){const s=n[o];ts(s[1],s,e,t,r,i)}}(t,e,i,n,s)}}function Mr(e,t,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(e,t){const n=e[9],r=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Ve(s,-1)),n.splice(r,1)}function Ur(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&Vr(i,r),t>0&&(e[n-1][4]=r[4]);const o=mn(e,he+t);ts(r[1],s=r,s[11],2,null,null),s[0]=null,s[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var s;return r}function jr(e,t){if(!(256&t[2])){const n=t[11];Ae(n)&&n.destroyNode&&ts(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return qr(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&qr(t[1],t),t=t[3];null===t&&(t=e),de(t)&&qr(t[1],t),n=t&&t[4]}t=n}}(t)}}function qr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof It)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],s=t[n+1];try{s.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let s=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const e=n[i+1],o="function"==typeof e?e(t):Oe(t[e]),a=r[s=n[i+2]],c=n[i+3];"boolean"==typeof c?o.removeEventListener(n[i],a,c):c>=0?r[s=c]():r[s=-c].unsubscribe(),i+=2}else{const e=r[s=n[i+1]];n[i].call(e)}if(null!==r){for(let e=s+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Vr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function zr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===F.None||t===F.Emulated)return null}return Re(r,n)}(e,t.parent,n)}function Br(e,t,n,r,s){Ae(e)?e.insertBefore(t,n,r,s):t.insertBefore(n,r,s)}function Hr(e,t,n){Ae(e)?e.appendChild(t,n):t.appendChild(n)}function Gr(e,t,n,r,s){null!==r?Br(e,t,n,r,s):Hr(e,t,n)}function Yr(e,t){return Ae(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n){return Kr(e,t,n)}let Kr=function(e,t,n){return 40&e.type?Re(e,n):null};function Xr(e,t,n,r){const s=zr(e,r,t),i=t[11],o=Wr(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(i,s,n[a],o,!1);else Gr(i,s,n,o,!1)}function Qr(e,t){if(null!==t){const n=t.type;if(3&n)return Re(t,e);if(4&n)return Zr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Qr(e,n);{const n=e[t.index];return fe(n)?Zr(-1,n):Oe(n)}}if(32&n)return Rr(t,e)()||Oe(e[t.index]);{const n=Jr(e,t);return null!==n?Array.isArray(n)?n[0]:Qr(Dr(e[16]),n):Qr(e,t.next)}}return null}function Jr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Zr(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Qr(e,r)}return t[7]}function es(e,t,n,r,s,i,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&Sr(Oe(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)es(e,t,n.child,r,s,i,!1),Fr(t,e,s,a,i);else if(32&c){const o=Rr(n,r);let c;for(;c=o();)Fr(t,e,s,c,i);Fr(t,e,s,a,i)}else 16&c?ns(e,t,r,n,s,i):Fr(t,e,s,a,i);n=o?n.projectionNext:n.next}}function ts(e,t,n,r,s,i){es(n,r,e.firstChild,t,s,i,!1)}function ns(e,t,n,r,s,i){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Fr(t,e,s,a[c],i);else es(e,t,a,o[3],s,i,!0)}function rs(e,t,n){Ae(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ss(e,t,n){Ae(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function is(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===r||e.charCodeAt(s+n)<=32)return s}n=s+1}}const os="ng-template";function as(e,t,n){let r=0;for(;r<e.length;){let s=e[r++];if(n&&"class"===s){if(s=e[r],-1!==is(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function cs(e){return 4===e.type&&e.value!==os}function ls(e,t,n){return t===(4!==e.type||n?e.value:os)}function us(e,t,n){let r=4;const s=e.attrs||[],i=function(e){for(let t=0;t<e.length;t++)if(St(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!ls(e,c,n)||""===c&&1===t.length){if(hs(r))return!1;o=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!as(e.attrs,l,n)){if(hs(r))return!1;o=!0}continue}const u=ds(8&r?"class":c,s,cs(e),n);if(-1===u){if(hs(r))return!1;o=!0;continue}if(""!==l){let e;e=u>i?"":s[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==is(t,l,0)||2&r&&l!==e){if(hs(r))return!1;o=!0}}}}else{if(!o&&!hs(r)&&!hs(c))return!1;if(o&&hs(c))continue;o=!1,r=c|1&r}}return hs(r)||o}function hs(e){return 0==(1&e)}function ds(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let n=!1;for(;s<t.length;){const r=t[s];if(r===e)return s;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fs(e,t,n=!1){for(let r=0;r<t.length;r++)if(us(e,t[r],n))return!0;return!1}function ps(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ms(e,t){return e?":not("+t.trim()+")":t}function gs(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""===s||hs(o)||(t+=ms(i,s),s=""),r=o,i=i||!hs(r);n++}return""!==s&&(t+=ms(i,s)),t}const ys={};function vs(e){ws(ze(),qe(),dt()+e,Xe())}function ws(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&yt(t,r,0,n)}ft(n)}function bs(e,t){return e<<17|t<<2}function _s(e){return e>>17&32767}function Is(e){return 2|e}function Es(e){return(131068&e)>>2}function Ss(e,t){return-131069&e|t<<2}function Ts(e){return 1|e}function Cs(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r],i=n[r+1];if(-1!==i){const n=e.data[i];rt(s),n.contentQueries(2,t[i],i)}}}function ks(e,t,n,r,s,i,o,a,c,l){const u=t.blueprint.slice();return u[0]=s,u[2]=140|r,Me(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=i,u[16]=2==t.type?e[16]:u,u}function As(e,t,n,r,s){let i=e.data[t];if(null===i)i=function(e,t,n,r,s){const i=Ge(),o=We(),a=e.data[t]=function(e,t,n,r,s,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=a),null!==i&&(o?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(e,t,n,r,s),Ue.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===e?-1:e.injectorIndex}return Ye(i,!0),i}function xs(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function Os(e,t,n){ot(t);try{const r=e.viewQuery;null!==r&&ii(1,r,n);const s=e.template;null!==s&&Ds(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Cs(e,t),e.staticViewQueries&&ii(2,e.viewQuery,n);const i=e.components;null!==i&&function(e,t){for(let n=0;n<t.length;n++)ei(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ht()}}function Ns(e,t,n,r){const s=t[2];if(256==(256&s))return;ot(t);const i=Xe();try{Me(t),Ue.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ds(e,t,n,2,r);const o=3==(3&s);if(!i)if(o){const n=e.preOrderCheckHooks;null!==n&&gt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&yt(t,n,0,null),vt(t,0)}if(function(e){for(let t=Pr(e);null!==t;t=Lr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=Pr(e);null!==t;t=Lr(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];$e(n)&&Ns(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Cs(e,t),!i)if(o){const n=e.contentCheckHooks;null!==n&&gt(t,n)}else{const n=e.contentHooks;null!==n&&yt(t,n,1),vt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ft(~r);else{const s=r,i=n[++e],o=n[++e];et(i,s),o(2,t[s])}}}finally{ft(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Js(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ii(2,c,r),!i)if(o){const n=e.viewCheckHooks;null!==n&&gt(t,n)}else{const n=e.viewHooks;null!==n&&yt(t,n,2),vt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{ht()}}function Rs(e,t,n,r){const s=t[10],i=!Xe(),o=Le(t);try{i&&!o&&s.begin&&s.begin(),o&&Os(e,t,r),Ns(e,t,n,r)}finally{i&&!o&&s.end&&s.end()}}function Ds(e,t,n,r,s){const i=dt(),o=2&r;try{ft(-1),o&&t.length>ue&&ws(e,t,ue,Xe()),n(r,s)}finally{ft(i)}}function Ps(e,t,n){je()&&(function(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;e.firstCreatePass||Pt(n,t),Sr(r,t);const o=n.initialInputs;for(let a=s;a<i;a++){const r=e.data[a],i=ye(r);i&&Ws(t,n,r);const c=Gt(t,e,a,n);Sr(c,t),null!==o&&Ks(0,a-s,c,r,0,o),i&&(Pe(n.index,t)[8]=c)}}(e,t,n,Re(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=Ue.lFrame.currentDirectiveIndex;try{ft(i);for(let n=r;n<s;n++){const r=e.data[n],s=t[n];tt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zs(r,s)}}finally{ft(-1),tt(o)}}(e,t,n))}function Ls(e,t,n=Re){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(t,e):e[o];e[s++]=a}}}function $s(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Fs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Fs(e,t,n,r,s,i,o,a,c,l){const u=ue+r,h=u+s,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ys);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ms(e,t,n,r){const s=ai(t);null===n?s.push(r):(s.push(n),e.firstCreatePass&&ci(e).push(r,s.length-1))}function Vs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,s):n[r]=[t,s]}return n}function Us(e,t,n,r,s,i,o,a){const c=Re(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(ui(e,n,l,r,s),me(t)&&function(e,t){const n=Pe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,t.value||"",r):s,Ae(i)?i.setProperty(c,r,s):Tt(r)||(c.setProperty?c.setProperty(r,s):c[r]=s))}function js(e,t,n,r){let s=!1;if(je()){const i=function(e,t,n){const r=e.directiveRegistry;let s=null;if(r)for(let i=0;i<r.length;i++){const o=r[i];fs(n,o.selectors,!1)&&(s||(s=[]),Mt(Pt(n,t),e,o.type),ye(o)?(Bs(e,n),s.unshift(o)):s.push(o))}return s}(e,t,n),o=null===r?null:{"":-1};if(null!==i){s=!0,Gs(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=xs(e,t,i.length,null);for(let s=0;s<i.length;s++){const l=i[s];n.mergedAttrs=Ct(n.mergedAttrs,l.hostAttrs),Ys(e,n,t,c,l),Hs(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,s=t.attrs,i=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===s||cs(t)?null:Xs(n,s);i.push(l),o=Vs(n,c,o),a=Vs(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=i,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],s)}}}(n,r,o)}return n.mergedAttrs=Ct(n.mergedAttrs,n.attrs),s}function qs(e,t,n,r,s,i){const o=i.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const i=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(r,s,o)}}function zs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Hs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Gs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ys(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=ve(s.type)),o=new It(i,ye(s),null);e.blueprint[r]=o,n[r]=o,qs(e,t,0,r,xs(e,n,s.hostVars,ys),s)}function Ws(e,t,n){const r=Re(t,e),s=$s(n),i=e[10],o=ti(e,ks(e,s,null,n.onPush?64:16,r,t,i,i.createRenderer(r,n),null,null));e[t.index]=o}function Ks(e,t,n,r,s,i){const o=i[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const s=o[t++],i=o[t++],a=o[t++];null!==e?r.setInput(n,a,s,i):n[i]=a}}}function Xs(e,t){let n=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Qs(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Js(e,t){const n=Pe(t,e);if($e(n)){const e=n[1];80&n[2]?Ns(e,n,e.template,n[8]):n[5]>0&&Zs(n)}}function Zs(e){for(let n=Pr(e);null!==n;n=Lr(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ns(e,t,e.template,t[8])}else t[5]>0&&Zs(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Pe(t[n],e);$e(r)&&r[5]>0&&Zs(r)}}function ei(e,t){const n=Pe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Os(r,n,n[8])}function ti(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ni(e){for(;e;){e[2]|=64;const t=Dr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ri(e,t,n){const r=t[10];r.begin&&r.begin();try{Ns(e,t,e.template,n)}catch(s){throw li(t,s),s}finally{r.end&&r.end()}}function si(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Tr(n),s=r[1];Rs(s,r,s.template,n)}}(e[8])}function ii(e,t,n){rt(0),t(e,n)}const oi=(()=>Promise.resolve(null))();function ai(e){return e[7]||(e[7]=[])}function ci(e){return e.cleanup||(e.cleanup=[])}function li(e,t){const n=e[9],r=n?n.get(Ar,null):null;r&&r.handleError(t)}function ui(e,t,n,r,s){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,s,r,a):c[a]=s}}function hi(e,t,n){const r=Ne(t,e);!function(e,t,n){Ae(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function di(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?i=e:1==i?s=f(s,e):2==i&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}const fi=new on("INJECTOR",-1);class pi{get(e,t=bn){if(t===bn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const mi=new on("Set Injector scope."),gi={},yi={};let vi;function wi(){return void 0===vi&&(vi=new pi),vi}function bi(e,t=null,n=null,r){return new _i(e,n,t||wi(),r)}class _i{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&fn(t,n=>this.processProvider(n,e,t)),fn([e],e=>this.processInjectorType(e,[],s)),this.records.set(fi,Si(void 0,this));const i=this.records.get(mi);this.scope=null!=i?i.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=bn,n=N.Default){this.assertNotDestroyed();const r=Tn(this),s=D(void 0);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof on)&&S(e);t=n&&this.injectableDefInScope(n)?Si(Ii(e),gi):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?wi():this.parent).get(e,t=n&N.Optional&&t===bn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const s=e.ngTempTokenPath;throw t[In]&&s.unshift(t[In]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=d(t);if(Array.isArray(t))s=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(_n,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{D(s),Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=g(e)))return!1;let r=C(e);const s=null==r&&e.ngModule||void 0,i=void 0===s?e:s,o=-1!==n.indexOf(i);if(void 0!==s&&(r=C(s)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(i);try{fn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];fn(r,e=>this.processProvider(e,n,r||B))}}this.injectorDefTypes.add(i);const a=ve(i)||(()=>new i);this.records.set(i,Si(a,gi));const c=r.providers;if(null!=c&&!o){const t=e;fn(c,e=>this.processProvider(e,t,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let r=Ci(e=g(e))?e:g(e&&e.provide);const s=function(e,t,n){return Ti(e)?Si(void 0,e.useValue):Si(Ei(e),gi)}(e);if(Ci(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Si(void 0,gi,!0),t.factory=()=>An(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,s)}hydrate(e,t){var n;return t.value===gi&&(t.value=yi,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=g(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ii(e){const t=S(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof on)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=gn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[k]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ei(e,t,n){let r;if(Ci(e)){const t=g(e);return ve(t)||Ii(t)}if(Ti(e))r=()=>g(e.useValue);else if((s=e)&&s.useFactory)r=()=>e.useFactory(...An(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>kn(g(e.useExisting));else{const t=g(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||Ii(t);r=()=>new t(...An(e.deps))}var s;return r}function Si(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ti(e){return null!==e&&"object"==typeof e&&En in e}function Ci(e){return"function"==typeof e}const ki=function(e,t,n){return function(e,t=null,n=null,r){const s=bi(e,t,n,r);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};class Ai{static create(e,t){return Array.isArray(e)?ki(e,t,""):ki(e.providers,e.parent,e.name||"")}}function xi(e,t){mt(Tr(e)[1],He())}function Oi(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let s;if(ye(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){r.push(s);const t=e;t.inputs=Ni(e.inputs),t.declaredInputs=Ni(e.declaredInputs),t.outputs=Ni(e.outputs);const n=s.hostBindings;n&&Pi(e,n);const i=s.viewQuery,o=s.contentQueries;if(i&&Ri(e,i),o&&Di(e,o),h(e.inputs,s.inputs),h(e.declaredInputs,s.declaredInputs),h(e.outputs,s.outputs),ye(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let r=0;r<t.length;r++){const s=t[r];s&&s.ngInherit&&s(e),s===Oi&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Ct(s.hostAttrs,n=Ct(n,s.hostAttrs))}}(r)}function Ni(e){return e===z?{}:e===B?[]:e}function Ri(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Di(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,s)=>{t(e,r,s),n(e,r,s)}:t}function Pi(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}Ai.THROW_IF_NOT_FOUND=bn,Ai.NULL=new pi,Ai.\u0275prov=I({token:Ai,providedIn:"any",factory:()=>kn(fi)}),Ai.__NG_ELEMENT_ID__=-1;let Li=null;function $i(){if(!Li){const e=q.Symbol;if(e&&e.iterator)Li=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Li=n)}}}return Li}function Fi(e){return!!Mi(e)&&(Array.isArray(e)||!(e instanceof Map)&&$i()in e)}function Mi(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vi(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ui(e,t,n,r){const s=Vi(e,t,n);return Vi(e,t+1,r)||s}function ji(e,t,n,r){const s=qe();return Vi(s,Je(),t)&&(ze(),function(e,t,n,r,s,i){const o=Re(e,t);!function(e,t,n,r,s,i,o){if(null==i)Ae(e)?e.removeAttribute(t,s,n):t.removeAttribute(s);else{const a=null==o?w(i):o(i,r||"",s);Ae(e)?e.setAttribute(t,s,a,n):n?t.setAttributeNS(n,s,a):t.setAttribute(s,a)}}(t[11],o,i,e.value,n,r,s)}(pt(),s,e,t,n,r)),ji}function qi(e,t,n,r,s,i,o,a){const c=qe(),l=ze(),u=e+ue,h=l.firstCreatePass?function(e,t,n,r,s,i,o,a,c){const l=t.consts,u=As(t,e,4,o||null,Fe(l,a));js(t,n,u,Fe(l,c)),mt(t,u);const h=u.tViews=Fs(2,u,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,s,i,o):l.data[u];Ye(h,!1);const d=c[11].createComment("");Xr(l,c,d,h),Sr(d,c),ti(c,c[u]=Qs(d,c,d,h)),ge(h)&&Ps(l,c,h),null!=o&&Ls(c,h,a)}function zi(e,t=N.Default){const n=qe();return null===n?kn(e,t):jt(He(),n,g(e),t)}function Bi(){throw new Error("invalid")}function Hi(e,t,n){const r=qe();return Vi(r,Je(),t)&&Us(ze(),pt(),r,e,t,r[11],n,!1),Hi}function Gi(e,t,n,r,s){const i=s?"class":"style";ui(e,n,t.inputs[i],i,r)}function Yi(e,t,n,r){const s=qe(),i=ze(),o=ue+e,a=s[11],c=s[o]=Mr(a,t,Ue.lFrame.currentNamespace),l=i.firstCreatePass?function(e,t,n,r,s,i,o){const a=t.consts,c=As(t,e,2,s,Fe(a,i));return js(t,n,c,Fe(a,o)),null!==c.attrs&&di(c,c.attrs,!1),null!==c.mergedAttrs&&di(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,s,0,t,n,r):i.data[o];Ye(l,!0);const u=l.mergedAttrs;null!==u&&Et(a,c,u);const h=l.classes;null!==h&&ss(a,c,h);const d=l.styles;null!==d&&rs(a,c,d),64!=(64&l.flags)&&Xr(i,s,c,l),0===Ue.lFrame.elementDepthCount&&Sr(c,s),Ue.lFrame.elementDepthCount++,ge(l)&&(Ps(i,s,l),function(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,n[s],s)}}}(i,l,s)),null!==r&&Ls(s,l)}function Wi(){let e=He();We()?Ke():(e=e.parent,Ye(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(mt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Gi(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Gi(n,t,qe(),t.stylesWithoutHost,!1)}function Ki(e,t,n,r){Yi(e,t,n,r),Wi()}function Xi(){return qe()}function Qi(e){return!!e&&"function"==typeof e.then}function Ji(e){return!!e&&"function"==typeof e.subscribe}const Zi=Ji;function eo(e,t,n,r){const s=qe(),i=ze(),o=He();return function(e,t,n,r,s,i,o,a){const c=ge(r),l=e.firstCreatePass&&ci(e),u=ai(t);let h=!0;if(3&r.type||a){const d=Re(r,t),f=a?a(d):d,p=u.length,m=a?e=>a(Oe(e[r.index])):r.index;if(Ae(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const e=s[i];if(e===n&&s[i+1]===r){const e=t[7],n=s[i+2];return e.length>n?e[n]:null}"string"==typeof e&&(i+=2)}return null}(e,t,s,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=no(r,t,0,i,!1);const e=n.listen(f,s,i);u.push(i,e),l&&l.push(s,m,p,p+1)}}else i=no(r,t,0,i,!0),f.addEventListener(s,i,o),u.push(i),l&&l.push(s,m,p,o)}else i=no(r,t,0,i,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[s])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(i),o=u.length;u.push(i,e),l&&l.push(s,r.index,o,-(o+1))}}}(i,s,s[11],o,e,t,!!n,r),eo}function to(e,t,n,r){try{return!1!==n(r)}catch(s){return li(e,s),!1}}function no(e,t,n,r,s){return function n(i){if(i===Function)return r;const o=2&e.flags?Pe(e.index,t):t;0==(32&t[2])&&ni(o);let a=to(t,0,r,i),c=n.__ngNextListenerFn__;for(;c;)a=to(t,0,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function ro(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function so(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const i=t[s];if("*"!==i){if(null===r?fs(e,i,!0):ps(r,i))return s}else n=s}return n}function io(e){const t=qe()[16][6];if(!t.projection){const n=t.projection=gn(e?e.length:1,null),r=n.slice();let s=t.child;for(;null!==s;){const t=e?so(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s),s=s.next}}}function oo(e,t=0,n){const r=qe(),s=ze(),i=As(s,ue+e,16,null,n||null);null===i.projection&&(i.projection=t),Ke(),64!=(64&i.flags)&&function(e,t,n){ns(t[11],0,t,n,zr(e,n,t),Wr(n.parent||t[6],n,t))}(s,r,i)}function ao(e,t,n,r,s){const i=e[n+1],o=null===t;let a=r?_s(i):Es(i),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];co(e[a],t)&&(c=!0,e[a+1]=r?Ts(n):Is(n)),a=r?_s(n):Es(n)}c&&(e[n+1]=r?Is(i):Ts(i))}function co(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&wn(e,t)>=0}function lo(e,t){return function(e,t,n,r){const s=qe(),i=ze(),o=Ze(2);i.firstUpdatePass&&function(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[dt()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(i)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const s=function(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=t.residualClasses;if(null===s)0===t.classBindings&&(n=ho(n=uo(null,e,t,n,r),t.attrs,r),i=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(n=uo(s,e,t,n,r),null===i){let n=function(e,t,n){const r=t.classBindings;if(0!==Es(r))return e[_s(r)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=uo(null,e,t,n[1],r),n=ho(n,t.attrs,r),function(e,t,n,r){e[_s(t.classBindings)]=r}(e,t,0,n))}else i=function(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=ho(r,e[i].hostAttrs,true);return ho(r,t.attrs,true)}(e,t)}return void 0!==i&&(t.residualClasses=i),n}(s,i,t,r),function(e,t,n,r,s,i){let o=t.classBindings,a=_s(o),c=Es(o);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||wn(e,l)>0)&&(u=!0)}else l=n;if(s)if(0!==c){const t=_s(e[a+1]);e[r+1]=bs(t,a),0!==t&&(e[t+1]=Ss(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=bs(a,0),0!==a&&(e[a+1]=Ss(e[a+1],r)),a=r;else e[r+1]=bs(c,0),0===a?a=r:e[c+1]=Ss(e[c+1],r),c=r;u&&(e[r+1]=Is(e[r+1])),ao(e,l,r,!0),ao(e,l,r,!1),function(e,t,n,r,s){const i=e.residualClasses;null!=i&&"string"==typeof t&&wn(i,t)>=0&&(n[r+1]=Ts(n[r+1]))}(t,l,e,r),o=bs(a,c),t.classBindings=o}(s,i,t,n,o)}}(i,e,o,true),t!==ys&&Vi(s,o,t)&&function(e,t,n,r,s,i,o,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];po(1==(1&l)?fo(c,t,n,s,Es(l),o):void 0)||(po(i)||function(e){return 2==(2&e)}(l)&&(i=fo(c,null,n,s,a,o)),function(e,t,n,r,s){const i=Ae(e);s?i?e.addClass(n,r):n.classList.add(r):i?e.removeClass(n,r):n.classList.remove(r)}(r,0,Ne(dt(),n),s,i))}(i,i.data[dt()],s,s[11],e,s[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=d(zn(e))),e}(t),true,o)}(e,t),lo}function uo(e,t,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=t[a],r=ho(r,i.hostAttrs,s),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ho(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const o=t[i];"number"==typeof o?s=o:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),yn(e,o,!!n||t[++i]))}return void 0===e?null:e}function fo(e,t,n,r,s,i){const o=null===t;let a;for(;s>0;){const t=e[s],i=Array.isArray(t),c=i?t[1]:t,l=null===c;let u=n[s+1];u===ys&&(u=l?B:void 0);let h=l?vn(u,r):c===r?u:void 0;if(i&&!po(h)&&(h=vn(t,r)),po(h)&&(a=h,o))return a;const d=e[s+1];s=o?_s(d):Es(d)}if(null!==t){let e=i?t.residualClasses:t.residualStyles;null!=e&&(a=vn(e,r))}return a}function po(e){return void 0!==e}function mo(e,t=""){const n=qe(),r=ze(),s=e+ue,i=r.firstCreatePass?As(r,s,1,t,null):r.data[s],o=n[s]=function(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Xr(r,n,o,i),Ye(i,!1)}function go(e){return yo("",e,""),go}function yo(e,t,n){const r=qe(),s=function(e,t,n,r){return Vi(e,Je(),n)?t+w(n)+r:ys}(r,e,t,n);return s!==ys&&hi(r,dt(),s),yo}function vo(e,t,n,r,s,i,o,a,c){const l=qe(),u=function(e,t,n,r,s,i,o,a,c,l){const u=function(e,t,n,r,s,i){const o=Ui(e,t,n,r);return Ui(e,t+2,s,i)||o}(e,Ue.lFrame.bindingIndex,n,s,o,c);return Ze(4),u?t+w(n)+r+w(s)+i+w(o)+a+w(c)+l:ys}(l,e,t,n,r,s,i,o,a,c);return u!==ys&&hi(l,dt(),u),vo}function wo(e,t,n){const r=qe();return Vi(r,Je(),t)&&Us(ze(),pt(),r,e,t,r[11],n,!0),wo}const bo=void 0;var _o=["en",[["a","p"],["AM","PM"],bo],[["AM","PM"],bo,bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bo,"{1} 'at' {0}",bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Io={};function Eo(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=To(t);if(n)return n;const r=t.split("-")[0];if(n=To(r),n)return n;if("en"===r)return _o;throw new Error(`Missing locale data for the locale "${e}".`)}function So(e){return Eo(e)[Co.PluralCase]}function To(e){return e in Io||(Io[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),Io[e]}var Co=(()=>((Co=Co||{})[Co.LocaleId=0]="LocaleId",Co[Co.DayPeriodsFormat=1]="DayPeriodsFormat",Co[Co.DayPeriodsStandalone=2]="DayPeriodsStandalone",Co[Co.DaysFormat=3]="DaysFormat",Co[Co.DaysStandalone=4]="DaysStandalone",Co[Co.MonthsFormat=5]="MonthsFormat",Co[Co.MonthsStandalone=6]="MonthsStandalone",Co[Co.Eras=7]="Eras",Co[Co.FirstDayOfWeek=8]="FirstDayOfWeek",Co[Co.WeekendRange=9]="WeekendRange",Co[Co.DateFormat=10]="DateFormat",Co[Co.TimeFormat=11]="TimeFormat",Co[Co.DateTimeFormat=12]="DateTimeFormat",Co[Co.NumberSymbols=13]="NumberSymbols",Co[Co.NumberFormats=14]="NumberFormats",Co[Co.CurrencyCode=15]="CurrencyCode",Co[Co.CurrencySymbol=16]="CurrencySymbol",Co[Co.CurrencyName=17]="CurrencyName",Co[Co.Currencies=18]="Currencies",Co[Co.Directionality=19]="Directionality",Co[Co.PluralCase=20]="PluralCase",Co[Co.ExtraData=21]="ExtraData",Co))();const ko="en-US";let Ao=ko;function xo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Ao=e.toLowerCase().replace(/_/g,"-"))}function Oo(e,t,n,r,s){if(e=g(e),Array.isArray(e))for(let i=0;i<e.length;i++)Oo(e[i],t,n,r,s);else{const i=ze(),o=qe();let a=Ci(e)?e:g(e.provide),c=Ei(e);const l=He(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ci(e)||!e.multi){const r=new It(c,s,zi),f=Do(a,t,s?u:u+d,h);-1===f?(Mt(Pt(l,o),i,a),No(i,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Do(a,t,u+d,h),p=Do(a,t,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(s&&!g||!s&&!m){Mt(Pt(l,o),i,a);const u=function(e,t,n,r,s){const i=new It(e,n,zi);return i.multi=[],i.index=t,i.componentProviders=0,Ro(i,s,r&&!n),i}(s?Lo:Po,n.length,s,r,c);!s&&g&&(n[p].providerFactory=u),No(i,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else No(i,e,f>-1?f:p,Ro(n[s?p:f],c,!s&&r));!s&&r&&g&&n[p].componentProviders++}}}function No(e,t,n,r){const s=Ci(t);if(s||t.useClass){const i=(t.useClass||t).prototype.ngOnDestroy;if(i){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,i]):o[e+1].push(r,i)}else o.push(n,i)}}}function Ro(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Do(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function Po(e,t,n,r){return $o(this.multi,[])}function Lo(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Gt(n,n[1],this.providerFactory.index,r);i=t.slice(0,e),$o(s,i);for(let n=e;n<t.length;n++)i.push(t[n])}else i=[],$o(s,i);return i}function $o(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Fo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ze();if(r.firstCreatePass){const s=ye(e);Oo(n,r.data,r.blueprint,s,!0),Oo(t,r.data,r.blueprint,s,!1)}}(n,r?r(e):e,t)}}class Mo{}class Vo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Uo{}function jo(...e){}function qo(e,t){return new Bo(Re(e,t))}Uo.NULL=new Vo;const zo=function(){return qo(He(),qe())};let Bo=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=zo,e})();function Ho(e){return e instanceof Bo?e.nativeElement:e}class Go{}let Yo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Wo(),e})();const Wo=function(){const e=qe(),t=Pe(He().index,e);return function(e){return e[11]}(de(t)?t:e)};let Ko=(()=>{class e{}return e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null}),e})();class Xo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Qo=new Xo("12.1.5");class Jo{constructor(){}supports(e){return Fi(e)}create(e){return new ea(e)}}const Zo=(e,t)=>t;class ea{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Zo}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const i=!n||t&&t.currentIndex<sa(n,r,s)?t:n,o=sa(i,r,s),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{s||(s=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,i=r+n;t<=i&&i<e&&(s[n]=r+1)}s[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Fi(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,n,r,t)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),i=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$i()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,r)?(i&&(s=this._verifyReinsertion(s,e,r,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),i=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new ta(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ra),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ra),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ta{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class na{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ra{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new na,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sa(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class ia{constructor(){}supports(e){return e instanceof Map||Mi(e)}create(){return new oa}}class oa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Mi(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new aa(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class aa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ca(){return new la([new Jo])}let la=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ca()),deps:[[e,new Rn,new Nn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=I({token:e,providedIn:"root",factory:ca}),e})();function ua(){return new ha([new ia])}let ha=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ua()),deps:[[e,new Rn,new Nn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=I({token:e,providedIn:"root",factory:ua}),e})();function da(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Oe(i)),fe(i))for(let e=he;e<i.length;e++){const t=i[e],n=t[1].firstChild;null!==n&&da(t[1],t,n,r)}const o=n.type;if(8&o)da(e,t,n.child,r);else if(32&o){const e=Rr(n,t);let s;for(;s=e();)r.push(s)}else if(16&o){const e=Jr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Dr(t[16]);da(n[1],n,e,r,!0)}}n=s?n.projectionNext:n.next}return r}class fa{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return da(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Ur(e,n),mn(t,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}onDestroy(e){Ms(this._lView[1],this._lView,null,e)}markForCheck(){ni(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ri(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{ri(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ts(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class pa extends fa{constructor(e){super(e),this._view=e}detectChanges(){si(this._view)}checkNoChanges(){!function(e){Qe(!0);try{si(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const ma=function(e){return function(e,t,n){if(me(e)&&!n){const n=Pe(e.index,t);return new fa(n,n)}return 47&e.type?new fa(t[16],t):null}(He(),qe(),16==(16&e))};let ga=(()=>{class e{}return e.__NG_ELEMENT_ID__=ma,e})();const ya=[new ia],va=new la([new Jo]),wa=new ha(ya),ba=function(){return Sa(He(),qe())};let _a=(()=>{class e{}return e.__NG_ELEMENT_ID__=ba,e})();const Ia=_a,Ea=class extends Ia{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ks(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Os(t,n,e),new fa(n)}};function Sa(e,t){return 4&e.type?new Ea(t,e,qo(e,t)):null}class Ta{}class Ca{}const ka=function(){return Da(He(),qe())};let Aa=(()=>{class e{}return e.__NG_ELEMENT_ID__=ka,e})();const xa=Aa,Oa=class extends xa{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ft(this._hostTNode,this._hostLView);if(At(e)){const t=Ot(e,this._hostLView),n=xt(e);return new Kt(t[1].data[n+8],t)}return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Na(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const i=n||this.parentInjector;if(!s&&null==e.ngModule&&i){const e=i.get(Ta,null);e&&(s=e)}const o=e.create(i,r,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Oa(t,t[6],t[3]);r.detach(r.indexOf(e))}}const s=this._adjustIndex(t),i=this._lContainer;!function(e,t,n,r){const s=he+r,i=n.length;r>0&&(n[s-1][4]=t),r<i-he?(t[4]=n[s],pn(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,i,s);const o=Zr(s,i),a=n[11],c=Yr(a,i[7]);return null!==c&&function(e,t,n,r,s,i){r[0]=s,r[6]=t,ts(e,r,n,1,s,i)}(r,i[6],a,n,c,o),e.attachToViewContainerRef(),pn(Ra(i),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Na(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Ur(this._lContainer,t);n&&(mn(Ra(this._lContainer),t),jr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Ur(this._lContainer,t);return n&&null!=mn(Ra(this._lContainer),t)?new fa(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Na(e){return e[8]}function Ra(e){return e[8]||(e[8]=[])}function Da(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let s;if(8&e.type)s=Oe(r);else{const n=t[11];s=n.createComment("");const r=Re(e,t);Br(n,Yr(n,r),s,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Qs(r,t,s,e),ti(t,n)}return new Oa(n,e,t)}const Pa={};class La extends Uo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Ma(t,this.ngModule)}}function $a(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Fa=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class Ma extends Mo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(gs).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return $a(this.componentDef.inputs)}get outputs(){return $a(this.componentDef.outputs)}create(e,t,n,r){const s=(r=r||this.ngModule)?function(e,t){return{get:(n,r,s)=>{const i=e.get(n,Pa,s);return i!==Pa||r===Pa?i:t.get(n,r,s)}}}(e,r.injector):e,i=s.get(Go,xe),o=s.get(Ko,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Ae(e))return e.selectRootElement(t,n===F.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(i.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:oi,playerHandler:null,flags:0},d=Fs(0,null,null,1,0,null,null,null,null,null),f=ks(null,d,h,u,null,null,i,a,o,s);let p,m;ot(f);try{const e=function(e,t,n,r,s,i){const o=n[1];n[20]=e;const a=As(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(di(a,c,!0),null!==e&&(Et(s,e,c),null!==a.classes&&ss(s,e,a.classes),null!==a.styles&&rs(s,e,a.styles)));const l=r.createRenderer(e,t),u=ks(n,$s(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Mt(Pt(a,n),o,t.type),Bs(o,a),Gs(a,n.length,1)),ti(n,u),n[20]=u}(l,this.componentDef,f,i,a);if(l)if(n)Et(a,l,["ng-version",Qo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!hs(s))break;s=i}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Et(a,l,e),t&&t.length>0&&ss(a,l,t.join(" "))}if(m=De(d,ue),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,s){const i=n[1],o=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ys(e,r,t,xs(e,t,1,null),n));const s=Gt(t,e,r.directiveStart,r);Sr(s,t);const i=Re(r,t);return i&&Sr(i,t),s}(i,n,t);if(r.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries){const e=He();t.contentQueries(1,o,e.directiveStart)}const a=He();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ft(a.index),qs(n[1],a,0,a.directiveStart,a.directiveEnd,t),zs(t,o)),o}(e,this.componentDef,f,h,[xi]),Os(d,f,null)}finally{ht()}return new Va(this.componentType,p,qo(m,f),f,m)}}class Va extends class{}{constructor(e,t,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new pa(r),this.componentType=e}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ua=new Map;class ja extends Ta{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new La(this);const n=le(e),r=e[K]||null;r&&xo(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=bi(e,t,[{provide:Ta,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ai.THROW_IF_NOT_FOUND,n=N.Default){return e===Ai||e===Ta||e===fi?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qa extends Ca{constructor(e){super(),this.moduleType=e,null!==le(e)&&function(e){const t=new Set;!function e(n){const r=le(n,!0),s=r.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(s,Ua.get(s),n),Ua.set(s,n));const i=Or(r.imports);for(const o of i)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new ja(this.moduleType,e)}}function za(e){return t=>{setTimeout(e,void 0,t)}}const Ba=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,i,o;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(i=t.error)||void 0===i?void 0:i.bind(t),l=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=za(c),a&&(a=za(a)),l&&(l=za(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof s.w&&e.add(u),u}};function Ha(){return this._results[$i()]()}class Ga{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$i(),n=Ga.prototype;n[t]||(n[t]=Ha)}get changes(){return this._changes||(this._changes=new Ba)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=dn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ya{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ya(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wa{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Wa(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==cc(e,t).matches&&this.queries[t].setDirty()}}class Ka{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Xa{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new Xa(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Qa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(e,t,Ja(t,s)),this.matchTNodeWithReadOption(e,t,Ht(t,e,s,!1,!1))}else n===_a?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ht(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bo||r===Aa||r===_a&&4&t.type)this.addMatch(t.index,-2);else{const n=Ht(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ja(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Za(e,t,n,r){return-1===n?function(e,t){return 11&e.type?qo(e,t):4&e.type?Sa(e,t):null}(t,e):-2===n?function(e,t,n){return n===Bo?qo(t,e):n===_a?Sa(t,e):n===Aa?Da(t,e):void 0}(e,t,r):Gt(e,e[1],n,t)}function ec(e,t,n,r){const s=t[19].queries[r];if(null===s.matches){const r=e.data,i=n.matches,o=[];for(let e=0;e<i.length;e+=2){const s=i[e];o.push(s<0?null:Za(t,r[s],i[e+1],n.metadata.read))}s.matches=o}return s.matches}function tc(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const o=ec(e,t,s,n);for(let e=0;e<i.length;e+=2){const n=i[e];if(n>0)r.push(o[e/2]);else{const s=i[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&tc(t[1],t,s,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];tc(n[1],n,s,r)}}}}}return r}function nc(e){const t=qe(),n=ze(),r=nt();rt(r+1);const s=cc(n,r);if(e.dirty&&Le(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?tc(n,t,r,[]):ec(n,t,s,r);e.reset(i,Ho),e.notifyOnChanges()}return!0}return!1}function rc(e,t,n){const r=ze();r.firstCreatePass&&(ac(r,new Ka(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),oc(r,qe(),t)}function sc(e,t,n,r){const s=ze();if(s.firstCreatePass){const i=He();ac(s,new Ka(t,n,r),i.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}oc(s,qe(),n)}function ic(){return e=qe(),t=nt(),e[19].queries[t].queryList;var e,t}function oc(e,t,n){const r=new Ga(4==(4&n));Ms(e,t,r,r.destroy),null===t[19]&&(t[19]=new Wa),t[19].queries.push(new Ya(r))}function ac(e,t,n){null===e.queries&&(e.queries=new Xa),e.queries.track(new Qa(t,n))}function cc(e,t){return e.queries.getByIndex(t)}const lc=rn("Output",e=>({bindingPropertyName:e})),uc=rn("HostListener",(e,t)=>({eventName:e,args:t})),hc=new on("Application Initializer");let dc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=jo,this.reject=jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Qi(t))e.push(t);else if(Zi(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(kn(hc,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const fc=new on("AppId"),pc={provide:fc,useFactory:function(){return`${mc()}${mc()}${mc()}`},deps:[]};function mc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gc=new on("Platform Initializer"),yc=new on("Platform ID"),vc=new on("appBootstrapListener");let wc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const bc=new on("LocaleId"),_c=new on("DefaultCurrencyCode");class Ic{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Ec=function(e){return new qa(e)},Sc=Ec,Tc=function(e){return Promise.resolve(Ec(e))},Cc=function(e){const t=Ec(e),n=Or(le(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new Ma(n)),e},[]);return new Ic(t,n)},kc=Cc,Ac=function(e){return Promise.resolve(Cc(e))};let xc=(()=>{class e{constructor(){this.compileModuleSync=Sc,this.compileModuleAsync=Tc,this.compileModuleAndAllComponentsSync=kc,this.compileModuleAndAllComponentsAsync=Ac}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const Oc=(()=>Promise.resolve(0))();function Nc(e){"undefined"==typeof Zone?Oc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Rc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Lc(e),e.isCheckStableRunning=!0,Pc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Lc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,o,a)=>{try{return $c(e),n.invokeTask(s,i,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Fc(e)}},onInvoke:(n,r,s,i,o,a,c)=>{try{return $c(e),n.invoke(s,i,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Fc(e)}},onHasTask:(t,n,r,s)=>{t.hasTask(r,s),n===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Lc(e),Pc(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+r,e,Dc,jo,jo);try{return s.runTask(i,t,n)}finally{s.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Dc={};function Pc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function $c(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fc(e){e._nesting--,Pc(e)}class Mc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Vc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rc.assertNotInAngularZone(),Nc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(kn(Rc))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})(),Uc=(()=>{class e{constructor(){this._applications=new Map,Bc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Bc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();class jc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function qc(e){Bc=e}let zc,Bc=new jc,Hc=!0,Gc=!1;function Yc(){return Gc=!0,Hc}function Wc(){if(Gc)throw new Error("Cannot enable prod mode after platform setup.");Hc=!1}const Kc=new on("AllowMultipleToken");class Xc{constructor(e,t){this.name=e,this.token=t}}function Qc(e,t,n=[]){const r=`Platform: ${t}`,s=new on(r);return(t=[])=>{let i=Jc();if(!i||i.injector.get(Kc,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:mi,useValue:"platform"});!function(e){if(zc&&!zc.destroyed&&!zc.injector.get(Kc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zc=e.get(Zc);const t=e.get(gc,null);t&&t.forEach(e=>e())}(Ai.create({providers:e,name:r}))}return function(e){const t=Jc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function Jc(){return zc&&!zc.destroyed?zc:null}let Zc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Mc:("zone.js"===e?void 0:e)||new Rc({enableLongStackTrace:Yc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Rc,useValue:n}];return n.run(()=>{const t=Ai.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),i=s.injector.get(Ar,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{i.handleError(e)}});s.onDestroy(()=>{nl(this._modules,s),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Qi(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(i,n,()=>{const e=s.injector.get(dc);return e.runInitializers(),e.donePromise.then(()=>(xo(s.injector.get(bc,ko)||ko),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=el({},t);return function(e,t,n){const r=new qa(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(tl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(kn(Ai))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function el(e,t){return Array.isArray(t)?t.reduce(el,e):Object.assign(Object.assign({},e),t)}let tl=(()=>{class e{constructor(e,t,n,r,s){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new i.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new i.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Rc.assertNotInAngularZone(),Nc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Rc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,h.pipe(e=>(0,c.x)()((0,a.O)(l)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Mo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ta),s=n.create(Ai.NULL,[],t||n.selector,r),i=s.location.nativeElement,o=s.injector.get(Vc,null),a=o&&s.injector.get(Uc);return o&&a&&a.registerApplication(i,o),s.onDestroy(()=>{this.detachView(s.hostView),nl(this.components,s),a&&a.unregisterApplication(i)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;nl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(kn(Rc),kn(Ai),kn(Ar),kn(Uo),kn(dc))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function nl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rl{}class sl{}const il={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ol=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||il}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>al(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+s]).then(e=>al(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(kn(xc),kn(sl,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function al(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const cl=function(e){return null},ll=Qc(null,"core",[{provide:yc,useValue:"unknown"},{provide:Zc,deps:[Ai]},{provide:Uc,deps:[]},{provide:wc,deps:[]}]),ul=[{provide:tl,useClass:tl,deps:[Rc,Ai,Ar,Uo,dc]},{provide:Fa,deps:[Rc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:dc,useClass:dc,deps:[[new Nn,hc]]},{provide:xc,useClass:xc,deps:[]},pc,{provide:la,useFactory:function(){return va},deps:[]},{provide:ha,useFactory:function(){return wa},deps:[]},{provide:bc,useFactory:function(e){return xo(e=e||"undefined"!=typeof $localize&&$localize.locale||ko),e},deps:[[new On(bc),new Nn,new Rn]]},{provide:_c,useValue:"USD"}];let hl=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(kn(tl))},e.\u0275mod=re({type:e}),e.\u0275inj=E({providers:ul}),e})()},3820:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>k,rT:()=>E,f7:()=>T,L6:()=>_,_Q:()=>I,lh:()=>S,Qv:()=>b,nw:()=>C});var r=n(8720),s=n(9765),i=n(5917),o=n(7574),a=n(4402),c=n(6682),l=n(3190);function u(e,t){return t?(0,l.w)(()=>e,t):(0,l.w)(()=>e)}var h=n(9746),d=n(8002),f=n(2066),p=n(8049),m=n(3101),g=n(5435),y=n(9126),v=n(8939),w=n(8583);n(7841);const b=new r.OlP("angularfire2.auth.use-emulator"),_=new r.OlP("angularfire2.auth.settings"),I=new r.OlP("angularfire2.auth.tenant-id"),E=new r.OlP("angularfire2.auth.langugage-code"),S=new r.OlP("angularfire2.auth.use-device-language"),T=new r.OlP("angularfire.auth.persistence"),C=(e,t,n,r,s,i,o,a)=>(0,y.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=s,i&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,s,i,o,a]);let k=(()=>{class e{constructor(e,t,r,b,_,I,E,S,T,k,A){const x=new s.xQ,O=(0,i.of)(void 0).pipe((0,h.QV)(_.outsideAngular),(0,l.w)(()=>b.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,5128)))),(0,d.U)(()=>(0,v.on)(e,b,t)),(0,d.U)(e=>C(e,b,I,S,T,k,E,A)),(0,f.d)({bufferSize:1,refCount:!1}));if((0,w.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,i.of)(null);else{O.pipe((0,p.P)()).subscribe();const e=O.pipe((0,l.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),y.iC,(0,f.d)({bufferSize:1,refCount:!1})),t=O.pipe((0,l.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=O.pipe((0,l.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(u(t),(0,m.R)(_.outsideAngular),(0,h.QV)(_.insideAngular)),this.user=e.pipe(u(n),(0,m.R)(_.outsideAngular),(0,h.QV)(_.insideAngular)),this.idToken=this.user.pipe((0,l.w)(e=>e?(0,a.D)(e.getIdToken()):(0,i.of)(null))),this.idTokenResult=this.user.pipe((0,l.w)(e=>e?(0,a.D)(e.getIdTokenResult()):(0,i.of)(null))),this.credential=(0,c.T)(e,x,this.authState.pipe((0,g.h)(e=>!e))).pipe((0,d.U)(e=>(null==e?void 0:e.user)?e:null),(0,m.R)(_.outsideAngular),(0,h.QV)(_.insideAngular))}return(0,v.pX)(this,O,b,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>x.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v.Dh),r.LFG(v.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(y.HU),r.LFG(b,8),r.LFG(_,8),r.LFG(I,8),r.LFG(E,8),r.LFG(S,8),r.LFG(T,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})()},4384:(e,t,n)=>{"use strict";n.d(t,{ST:()=>ap,yb:()=>cp});var r,s=n(8720),i=n(3637),o=n(7574),a=n(4402),c=n(5917),l=n(9126),u=n(9761),h=n(9328),d=n(8002),f=n(2145),p=n(7519),m=n(5435),g=n(8939),y=n(8583),v=(n(5128),n(4486)),w=n(5452),b=n(6034),_=n(5601),I=n(3854),E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},S={},T=T||{},C=E||self;function k(){}function A(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function x(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var O="closure_uid_"+(1e9*Math.random()>>>0),N=0;function R(e,t,n){return e.call.apply(e.bind,arguments)}function D(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function P(e,t,n){return(P=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R:D).apply(null,arguments)}function L(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function F(){this.s=this.s,this.o=this.o}var M={};F.prototype.s=!1,F.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,O)&&e[O]||(e[O]=++N)}(this);delete M[e]}},F.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,s="string"==typeof e?e.split(""):e;for(let i=0;i<r;i++)i in s&&t.call(n,s[i],i,e)};function j(e){return Array.prototype.concat.apply([],arguments)}function q(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function z(e){return/^[\s\xa0]*$/.test(e)}var B,H=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function G(e,t){return-1!=e.indexOf(t)}function Y(e,t){return e<t?-1:e>t?1:0}e:{var W=C.navigator;if(W){var K=W.userAgent;if(K){B=K;break e}}B=""}function X(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Q(e){const t={};for(const n in e)t[n]=e[n];return t}var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<J.length;t++)n=J[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ee(e){return ee[" "](e),e}ee[" "]=k;var te,ne,re=G(B,"Opera"),se=G(B,"Trident")||G(B,"MSIE"),ie=G(B,"Edge"),oe=ie||se,ae=G(B,"Gecko")&&!(G(B.toLowerCase(),"webkit")&&!G(B,"Edge"))&&!(G(B,"Trident")||G(B,"MSIE"))&&!G(B,"Edge"),ce=G(B.toLowerCase(),"webkit")&&!G(B,"Edge");function le(){var e=C.document;return e?e.documentMode:void 0}e:{var ue="",he=(ne=B,ae?/rv:([^\);]+)(\)|;)/.exec(ne):ie?/Edge\/([\d\.]+)/.exec(ne):se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ne):ce?/WebKit\/(\S+)/.exec(ne):re?/(?:Version)[ \/]?(\S+)/.exec(ne):void 0);if(he&&(ue=he?he[1]:""),se){var de=le();if(null!=de&&de>parseFloat(ue)){te=String(de);break e}}te=ue}var fe={};var pe=C.document&&se&&(le()||parseInt(te,10))||void 0,me=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{C.addEventListener("test",k,t),C.removeEventListener("test",k,t)}catch(n){}return e}();function ge(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ye(e,t){if(ge.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ae){e:{try{ee(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ve[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ye.Z.h.call(this)}}ge.prototype.h=function(){this.defaultPrevented=!0},$(ye,ge);var ve={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),be=0;function _e(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=s,this.key=++be,this.ca=this.fa=!1}function Ie(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ee(e){this.src=e,this.g={},this.h=0}function Se(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=V(s,t);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Ie(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Te(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return s}return-1}Ee.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=Te(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new _e(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var Ce="closure_lm_"+(1e6*Math.random()|0),ke={};function Ae(e,t,n,r,s){if(r&&r.once)return Oe(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Ae(e,t[i],n,r,s);return null}return n=Fe(n),e&&e[we]?e.N(t,n,x(r)?!!r.capture:!!r,s):xe(e,t,n,!1,r,s)}function xe(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=x(s)?!!s.capture:!!s,a=Le(e);if(a||(e[Ce]=a=new Ee(e)),(n=a.add(t,n,r,o,i)).proxy)return n;if(r=function(){var e=Pe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)me||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(De(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Oe(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Oe(e,t[i],n,r,s);return null}return n=Fe(n),e&&e[we]?e.O(t,n,x(r)?!!r.capture:!!r,s):xe(e,t,n,!0,r,s)}function Ne(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Ne(e,t[i],n,r,s);else r=x(r)?!!r.capture:!!r,n=Fe(n),e&&e[we]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Te(i=e.g[t],n,r,s))&&(Ie(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--))):e&&(e=Le(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Te(t,n,r,s)),(n=-1<e?t[e]:null)&&Re(n))}function Re(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[we])Se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(De(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Le(t))?(Se(n,e),0==n.h&&(n.src=null,t[Ce]=null)):Ie(e)}}}function De(e){return e in ke?ke[e]:ke[e]="on"+e}function Pe(e,t){if(e.ca)e=!0;else{t=new ye(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Re(e),e=n.call(r,t)}return e}function Le(e){return(e=e[Ce])instanceof Ee?e:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(e){return"function"==typeof e?e:(e[$e]||(e[$e]=function(t){return e.handleEvent(t)}),e[$e])}function Me(){F.call(this),this.i=new Ee(this),this.P=this,this.I=null}function Ve(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ge(t,e);else if(t instanceof ge)t.target=t.target||e;else{var s=t;Z(t=new ge(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Ue(o,r,!0,t)&&s}if(s=Ue(o=t.g=e,r,!0,t)&&s,s=Ue(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=Ue(o=t.g=n[i],r,!1,t)&&s}function Ue(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Se(e.i,o),s=!1!==a.call(c,r)&&s}}return s&&!r.defaultPrevented}$(Me,F),Me.prototype[we]=!0,Me.prototype.removeEventListener=function(e,t,n,r){Ne(this,e,t,n,r)},Me.prototype.M=function(){if(Me.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ie(n[r]);delete t.g[e],t.h--}}this.I=null},Me.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Me.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var je=C.JSON.stringify;function qe(){var e=Ke;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ze,Be=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new He,e=>e.reset());class He{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ge(e){C.setTimeout(()=>{throw e},0)}function Ye(e,t){ze||function(){var e=C.Promise.resolve(void 0);ze=function(){e.then(Xe)}}(),We||(ze(),We=!0),Ke.add(e,t)}var We=!1,Ke=new class{constructor(){this.h=this.g=null}add(e,t){const n=Be.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Xe(){for(var e;e=qe();){try{e.h.call(e.g)}catch(n){Ge(n)}var t=Be;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}We=!1}function Qe(e,t){Me.call(this),this.h=e||1,this.g=t||C,this.j=P(this.kb,this),this.l=Date.now()}function Je(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ze(e,t,n){if("function"==typeof e)n&&(e=P(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=P(e.handleEvent,e)}return 2147483647<Number(t)?-1:C.setTimeout(e,t||0)}function et(e){e.g=Ze(()=>{e.g=null,e.i&&(e.i=!1,et(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}$(Qe,Me),(r=Qe.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ve(this,"tick"),this.da&&(Je(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Qe.Z.M.call(this),Je(this),delete this.g};class tt extends F{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:et(this)}M(){super.M(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(e){F.call(this),this.h=e,this.g={}}$(nt,F);var rt=[];function st(e,t,n,r){Array.isArray(n)||(n&&(rt[0]=n.toString()),n=rt);for(var s=0;s<n.length;s++){var i=Ae(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function it(e){X(e.g,function(e,t){this.g.hasOwnProperty(t)&&Re(e)},e),e.g={}}function ot(){this.g=!0}function at(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return je(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}nt.prototype.M=function(){nt.Z.M.call(this),it(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ot.prototype.Aa=function(){this.g=!1},ot.prototype.info=function(){};var ct={},lt=null;function ut(){return lt=lt||new Me}function ht(e){ge.call(this,ct.Ma,e)}function dt(e){const t=ut();Ve(t,new ht(t,e))}function ft(e,t){ge.call(this,ct.STAT_EVENT,e),this.stat=t}function pt(e){const t=ut();Ve(t,new ft(t,e))}function mt(e,t){ge.call(this,ct.Na,e),this.size=t}function gt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){e()},t)}ct.Ma="serverreachability",$(ht,ge),ct.STAT_EVENT="statevent",$(ft,ge),ct.Na="timingevent",$(mt,ge);var yt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wt(){}function bt(){}wt.prototype.h=null;var _t,It={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Et(){ge.call(this,"d")}function St(){ge.call(this,"c")}function Tt(){}function Ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new nt(this),this.P=At,this.W=new Qe(e=oe?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}$(Et,ge),$(St,ge),$(Tt,wt),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},_t=new Tt;var At=45e3,xt={},Ot={};function Nt(e,t,n){e.K=1,e.v=en(Wt(t)),e.s=n,e.U=!0,Rt(e,null)}function Rt(e,t){e.F=Date.now(),$t(e),e.A=Wt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kt,e.g=pr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new tt(P(e.Ia,e,e.g),e.O)),st(e.V,e.g,"readystatechange",e.gb),t=e.H?Q(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),dt(1),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Pt(e,t,n){let r,s=!0;for(;!e.I&&e.C<n.length;){if(r=Lt(e,n),r==Ot){4==t&&(e.o=4,pt(14),s=!1),at(e.j,e.m,null,"[Incomplete Response]");break}if(r==xt){e.o=4,pt(15),at(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}at(e.j,e.m,r,null),jt(e,r)}Dt(e)&&r!=Ot&&r!=xt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pt(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),or(t),t.L=!0,pt(11))):(at(e.j,e.m,n,"[Invalid Chunked Response]"),Ut(e),Vt(e))}function Lt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ot:(n=Number(t.substring(n,r)),isNaN(n)?xt:(r+=1)+n>t.length?Ot:(t=t.substr(r,n),e.C=r+n,t))}function $t(e){e.Y=Date.now()+e.P,Ft(e,e.P)}function Ft(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gt(P(e.eb,e),t)}function Mt(e){e.B&&(C.clearTimeout(e.B),e.B=null)}function Vt(e){0==e.l.G||e.I||lr(e.l,e)}function Ut(e){Mt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Je(e.W),it(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function jt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||bn(n.i,e)))if(n.I=e.N,!e.J&&bn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cr(n),Qn(n)}ir(n),pt(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=gt(P(n.ab,n),6e3));if(1>=wn(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else hr(n,11)}else if((e.J||n.g==e)&&cr(n),!z(t))for(s=n.Ca.g.parse(t),t=0;t<s.length;t++){let l=s[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const s=l[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.i;!i.g&&(G(e,"spdy")||G(e,"quic")||G(e,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(_n(i,i.h),i.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Zt(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=fr(r,r.H?r.la:null,r.W),o.J){In(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Mt(a),$t(a)),r.g=o}else sr(r);0<n.l.length&&er(n)}else"stop"!=l[0]&&"close"!=l[0]||hr(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hr(n,7):Xn(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}dt(4)}catch(l){}}function qt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(A(e)||"string"==typeof e)U(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(A(e)||"string"==typeof e){n=[];for(var r=e.length,s=0;s<r;s++)n.push(s)}else for(s in n=[],r=0,e)n[r++]=s;s=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(A(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}}function zt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Bt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ht(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var s={};for(n=t=0;t<e.g.length;)Ht(s,r=e.g[t])||(e.g[n++]=r,s[r]=1),t++;e.g.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=Ct.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Hn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const u=Hn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||oe||this.g&&(this.h.h||this.g.ga()||Gn(this.g)))){this.I||4!=u||7==t||dt(8==t||0>=h?3:2),Mt(this);var n=this.g.ba();this.N=n;t:if(Dt(this)){var r=Gn(this.g);e="";var s=r.length,i=4==Hn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ut(this),Vt(this);var o="";break t}this.h.i=new C.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,pt(12),Ut(this),Vt(this);break e}at(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jt(this,n)}this.U?(Pt(this,u,o),oe&&this.i&&3==u&&(st(this.V,this.W,"tick",this.fb),this.W.start())):(at(this.j,this.m,o,null),jt(this,o)),4==u&&Ut(this),this.i&&!this.I&&(4==u?lr(this.l,this):(this.i=!1,$t(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),Ut(this),Vt(this)}}}catch(u){}},r.fb=function(){if(this.g){var e=Hn(this.g),t=this.g.ga();this.C<t.length&&(Mt(this),Pt(this,e,t),this.i&&4!=e&&$t(this))}},r.cancel=function(){this.I=!0,Ut(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(dt(3),pt(17)),Ut(this),this.o=2,Vt(this)):Ft(this,this.Y-e)},(r=zt.prototype).R=function(){Bt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Bt(this),this.g.concat()},r.get=function(e,t){return Ht(this.h,e)?this.h[e]:t},r.set=function(e,t){Ht(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var s=n[r],i=this.get(s);e.call(t,i,s,this)}};var Gt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Yt){this.g=void 0!==t?t:e.g,Kt(this,e.j),this.s=e.s,Xt(this,e.i),Qt(this,e.m),this.l=e.l,t=e.h;var n=new un;n.i=t.i,t.g&&(n.g=new zt(t.g),n.h=t.h),Jt(this,n),this.o=e.o}else e&&(n=String(e).match(Gt))?(this.g=!!t,Kt(this,n[1]||"",!0),this.s=tn(n[2]||""),Xt(this,n[3]||"",!0),Qt(this,n[4]),this.l=tn(n[5]||"",!0),Jt(this,n[6]||"",!0),this.o=tn(n[7]||"")):(this.g=!!t,this.h=new un(null,this.g))}function Wt(e){return new Yt(e)}function Kt(e,t,n){e.j=n?tn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xt(e,t,n){e.i=n?tn(t,!0):t}function Qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jt(e,t,n){t instanceof un?(e.h=t,function(e,t){t&&!e.j&&(hn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(dn(this,t),pn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=nn(t,cn)),e.h=new un(t,e.g))}function Zt(e,t,n){e.h.set(t,n)}function en(e){return Zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,rn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Yt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nn(t,sn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(nn(t,sn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(nn(n,"/"==n.charAt(0)?an:on,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",nn(n,ln)),e.join("")};var sn=/[#\/\?@]/g,on=/[#\?:]/g,an=/[#\?]/g,cn=/[#\?@]/g,ln=/#/g;function un(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function hn(e){e.g||(e.g=new zt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function dn(e,t){hn(e),t=mn(e,t),Ht(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ht((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Bt(e)))}function fn(e,t){return hn(e),t=mn(e,t),Ht(e.g.h,t)}function pn(e,t,n){dn(e,t),0<n.length&&(e.i=null,e.g.set(mn(e,t),q(n)),e.h+=n.length)}function mn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function gn(e){this.l=e||yn,e=C.PerformanceNavigationTiming?0<(e=C.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(C.g&&C.g.Ea&&C.g.Ea()&&C.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=un.prototype).add=function(e,t){hn(this),this.i=null,e=mn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){hn(this),this.g.forEach(function(n,r){U(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){hn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var s=e[r],i=0;i<s.length;i++)n.push(t[r]);return n},r.R=function(e){hn(this);var t=[];if("string"==typeof e)fn(this,e)&&(t=j(t,this.g.get(mn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=j(t,e[n])}return t},r.set=function(e,t){return hn(this),this.i=null,fn(this,e=mn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],s=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=s;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};var yn=10;function vn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wn(e){return e.h?1:e.g?e.g.size:0}function bn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _n(e,t){e.g?e.g.add(t):e.h=t}function In(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function En(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return q(e.i)}function Sn(){}function Tn(){this.g=new Sn}function Cn(e,t,n){const r=n||"";try{qt(e,function(e,n){let s=e;x(e)&&(s=je(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function kn(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch(i){}}function An(e){this.l=e.$b||null,this.j=e.ib||!1}function xn(e,t){Me.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=On,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gn.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Sn.prototype.stringify=function(e){return C.JSON.stringify(e,void 0)},Sn.prototype.parse=function(e){return C.JSON.parse(e,void 0)},$(An,wt),An.prototype.g=function(){return new xn(this.l,this.j)},An.prototype.i=function(e){return function(){return e}}({}),$(xn,Me);var On=0;function Nn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Rn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dn(e)}function Dn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=xn.prototype).open=function(e,t){if(this.readyState!=On)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||C).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rn(this)),this.readyState=On},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==C.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rn(this):Dn(this),3==this.readyState&&Nn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,Rn(this))},r.Ta=function(e){this.g&&(this.response=e,Rn(this))},r.ha=function(){this.g&&Rn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pn=C.JSON.parse;function Ln(e){Me.call(this),this.headers=new zt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$n,this.K=this.L=!1}$(Ln,Me);var $n="",Fn=/^https?$/i,Mn=["POST","PUT"];function Vn(e){return"content-type"==e.toLowerCase()}function Un(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jn(e),zn(e)}function jn(e){e.D||(e.D=!0,Ve(e,"complete"),Ve(e,"error"))}function qn(e){if(e.h&&void 0!==T&&(!e.C[1]||4!=Hn(e)||2!=e.ba()))if(e.v&&4==Hn(e))Ze(e.Fa,0,e);else if(Ve(e,"readystatechange"),4==Hn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var s=String(e.H).match(Gt)[1]||null;if(!s&&C.self&&C.self.location){var i=C.self.location.protocol;s=i.substr(0,i.length-1)}r=!Fn.test(s?s.toLowerCase():"")}n=r}if(n)Ve(e,"complete"),Ve(e,"success");else{e.m=6;try{var o=2<Hn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",jn(e)}}finally{zn(e)}}}function zn(e,t){if(e.g){Bn(e);const r=e.g,s=e.C[0]?k:null;e.g=null,e.C=null,t||Ve(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Bn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(C.clearTimeout(e.A),e.A=null)}function Hn(e){return e.g?e.g.readyState:0}function Gn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $n:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return X(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Zt(e,t,n))}function Wn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kn(e){this.za=0,this.l=[],this.h=new ot,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wn("baseRetryDelayMs",5e3,e),this.$a=Wn("retryDelaySeedMs",1e4,e),this.Ya=Wn("forwardChannelMaxRetries",2,e),this.ra=Wn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new gn(e&&e.concurrentRequestLimit),this.Ca=new Tn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xn(e){if(Jn(e),3==e.G){var t=e.V++,n=Wt(e.F);Zt(n,"SID",e.J),Zt(n,"RID",t),Zt(n,"TYPE","terminate"),nr(e,n),(t=new Ct(e,e.h,t,void 0)).K=2,t.v=en(Wt(n)),n=!1,C.navigator&&C.navigator.sendBeacon&&(n=C.navigator.sendBeacon(t.v.toString(),"")),!n&&C.Image&&((new Image).src=t.v,n=!0),n||(t.g=pr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),$t(t)}dr(e)}function Qn(e){e.g&&(or(e),e.g.cancel(),e.g=null)}function Jn(e){Qn(e),e.u&&(C.clearTimeout(e.u),e.u=null),cr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&C.clearTimeout(e.m),e.m=null)}function Zn(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&er(e)}function er(e){vn(e.i)||e.m||(e.m=!0,Ye(e.Ha,e),e.C=0)}function tr(e,t){var n;n=t?t.m:e.V++;const r=Wt(e.F);Zt(r,"SID",e.J),Zt(r,"RID",n),Zt(r,"AID",e.U),nr(e,r),e.o&&e.s&&Yn(r,e.o,e.s),n=new Ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=rr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_n(e.i,n),Nt(n,r,t)}function nr(e,t){e.j&&qt({},function(e,n){Zt(t,n,e)})}function rr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?P(e.j.Oa,e.j,e):null;e:{var s=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].h;const a=s[o].g;if(n-=t,0>n)t=Math.max(0,s[o].h-100),i=!1;else try{Cn(a,e,"req"+n+"_")}catch(Gr){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function sr(e){e.g||e.u||(e.Y=1,Ye(e.Ga,e),e.A=0)}function ir(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=gt(P(e.Ga,e),ur(e,e.A)),e.A++,0))}function or(e){null!=e.B&&(C.clearTimeout(e.B),e.B=null)}function ar(e){e.g=new Ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Wt(e.oa);Zt(t,"RID","rpc"),Zt(t,"SID",e.J),Zt(t,"CI",e.N?"0":"1"),Zt(t,"AID",e.U),nr(e,t),Zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Yn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=en(Wt(t)),n.s=null,n.U=!0,Rt(n,e)}function cr(e){null!=e.v&&(C.clearTimeout(e.v),e.v=null)}function lr(e,t){var n=null;if(e.g==t){cr(e),or(e),e.g=null;var r=2}else{if(!bn(e.i,t))return;n=t.D,In(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;Ve(r=ut(),new mt(r,n,t,s)),er(e)}else sr(e);else if(3==(s=t.o)||0==s&&0<e.I||!(1==r&&function(e,t){return!(wn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=gt(P(e.Ha,e,t),ur(e,e.C)),e.C++,0)))}(e,t)||2==r&&ir(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:hr(e,5);break;case 4:hr(e,10);break;case 3:hr(e,6);break;default:hr(e,2)}}function ur(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=P(e.jb,e);n||(n=new Yt("//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Kt(n,"https"),en(n)),function(e,t){const n=new ot;if(C.Image){const r=new Image;r.onload=L(kn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=L(kn,n,r,"TestLoadImage: error",!1,t),r.onabort=L(kn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=L(kn,n,r,"TestLoadImage: timeout",!1,t),C.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else pt(2);e.G=0,e.j&&e.j.va(t),dr(e),Jn(e)}function dr(e){e.G=0,e.I=-1,e.j&&(0==En(e.i).length&&0==e.l.length||(e.i.i.length=0,q(e.l),e.l.length=0),e.j.ua())}function fr(e,t,n){let r=function(e){return e instanceof Yt?Wt(e):new Yt(e,void 0)}(n);if(""!=r.i)t&&Xt(r,t+"."+r.i),Qt(r,r.m);else{const e=C.location;r=function(e,t,n,r){var s=new Yt(null,void 0);return e&&Kt(s,e),t&&Xt(s,t),n&&Qt(s,n),r&&(s.l=r),s}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&X(e.aa,function(e,t){Zt(r,t,e)}),n=e.sa,(t=e.D)&&n&&Zt(r,t,n),Zt(r,"VER",e.ma),nr(e,r),r}function pr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ln(n&&e.Ba&&!e.qa?new An({ib:!0}):e.qa)).L=e.H,t}function mr(){}function gr(){if(se&&!(10<=Number(pe)))throw Error("Environmental error: no available transport.")}function yr(e,t){Me.call(this),this.g=new Kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!z(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!z(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new br(this)}function vr(e){Et.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wr(){St.call(this),this.status=1}function br(e){this.g=e}(r=Ln.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_t.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:_t),this.g.onreadystatechange=P(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void Un(this,i)}e=n||"";const s=new zt(this.headers);r&&qt(r,function(e,t){s.set(t,e)}),r=function(e){e:{var t=Vn;const n=e.length,r="string"==typeof e?e.split(""):e;for(let s=0;s<n;s++)if(s in r&&t.call(void 0,r[s],s,e)){t=s;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(s.T()),n=C.FormData&&e instanceof C.FormData,!(0<=V(Mn,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bn(this),0<this.B&&((this.K=function(e){return se&&function(){return e=fe,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=H(String(te)).split("."),n=H("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var s=t[o]||"",i=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],0==s[0].length&&0==i[0].length)break;e=Y(0==s[1].length?0:parseInt(s[1],10),0==i[1].length?0:parseInt(i[1],10))||Y(0==s[2].length,0==i[2].length)||Y(s[2],i[2]),s=s[3],i=i[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=P(this.pa,this)):this.A=Ze(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){Un(this,i)}},r.pa=function(){void 0!==T&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ve(this,"complete"),Ve(this,"abort"),zn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zn(this,!0)),Ln.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?qn(this):this.cb())},r.cb=function(){qn(this)},r.ba=function(){try{return 2<Hn(this)?this.g.status:-1}catch(ne){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(ne){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Kn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Ct(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=Q(i),Z(i,this.P)):i=this.P),null===this.o&&(s.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=rr(this,s,t),Zt(n=Wt(this.F),"RID",e),Zt(n,"CVER",22),this.D&&Zt(n,"X-HTTP-Session-Id",this.D),nr(this,n),this.o&&i&&Yn(n,this.o,i),_n(this.i,s),this.Ra&&Zt(n,"TYPE","init"),this.ja?(Zt(n,"$req",t),Zt(n,"SID","null"),s.$=!0,Nt(s,n,null)):Nt(s,n,t),this.G=2}}else 3==this.G&&(e?tr(this,e):0==this.l.length||vn(this.i)||tr(this))},r.Ga=function(){if(this.u=null,ar(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=gt(P(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),Qn(this),ar(this))},r.ab=function(){null!=this.v&&(this.v=null,Qn(this),ir(this),pt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))},(r=mr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},gr.prototype.g=function(e,t){return new yr(e,t)},$(yr,Me),yr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ye(P(e.hb,e,t))),pt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fr(e,null,e.W),er(e)},yr.prototype.close=function(){Xn(this.g)},yr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Zn(this.g,t)}else this.v?((t={}).__data__=je(e),Zn(this.g,t)):Zn(this.g,e)},yr.prototype.M=function(){this.g.j=null,delete this.j,Xn(this.g),delete this.g,yr.Z.M.call(this)},$(vr,Et),$(wr,St),$(br,mr),br.prototype.xa=function(){Ve(this.g,"a")},br.prototype.wa=function(e){Ve(this.g,new vr(e))},br.prototype.va=function(e){Ve(this.g,new wr(e))},br.prototype.ua=function(){Ve(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,yr.prototype.send=yr.prototype.u,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,vt.COMPLETE="complete",bt.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",Me.prototype.listen=Me.prototype.N,Ln.prototype.listenOnce=Ln.prototype.O,Ln.prototype.getLastError=Ln.prototype.La,Ln.prototype.getLastErrorCode=Ln.prototype.Da,Ln.prototype.getStatus=Ln.prototype.ba,Ln.prototype.getResponseJson=Ln.prototype.Qa,Ln.prototype.getResponseText=Ln.prototype.ga,Ln.prototype.send=Ln.prototype.ea;var _r=S.createWebChannelTransport=function(){return new gr},Ir=S.getStatEventTarget=function(){return ut()},Er=S.ErrorCode=yt,Sr=S.EventType=vt,Tr=S.Event=ct,Cr=S.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kr=S.FetchXmlHttpFactory=An,Ar=S.WebChannel=bt,xr=S.XhrIo=Ln;class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Nr="9.1.0";const Rr=new _.Yd("@firebase/firestore");function Dr(){return Rr.logLevel}function Pr(e,...t){if(Rr.logLevel<=_.in.DEBUG){const n=t.map(Fr);Rr.debug(`Firestore (${Nr}): ${e}`,...n)}}function Lr(e,...t){if(Rr.logLevel<=_.in.ERROR){const n=t.map(Fr);Rr.error(`Firestore (${Nr}): ${e}`,...n)}}function $r(e,...t){if(Rr.logLevel<=_.in.WARN){const n=t.map(Fr);Rr.warn(`Firestore (${Nr}): ${e}`,...n)}}function Fr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Mr(e="Unexpected state"){const t=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: `+e;throw Lr(t),new Error(t)}function Vr(e,t){e||Mr()}function Ur(e,t){return e}const jr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qr extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Br{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class Gr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yr{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Pr("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Pr("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Pr("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Vr("string"==typeof t.accessToken),new Br(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vr(null===e||"string"==typeof e),new Or(e)}}class Wr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Or.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Kr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Wr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Qr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Xr.T=-1;class Jr{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Qr(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%e.length))}return n}}function Zr(e,t){return e<t?-1:e>t?1:0}function es(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ts(e){return e+"\0"}class ns{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qr(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qr(jr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qr(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qr(jr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ns.fromMillis(Date.now())}static fromDate(e){return ns.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ns(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zr(this.nanoseconds,e.nanoseconds):Zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rs(e)}static min(){return new rs(new ns(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ss(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function os(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class as{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mr(),void 0===n?n=e.length-t:n>e.length-t&&Mr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===as.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cs extends as{construct(e,t,n){return new cs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new qr(jr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new cs(t)}static emptyPath(){return new cs([])}}const ls=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class us extends as{construct(e,t,n){return new us(e,t,n)}static isValidIdentifier(e){return ls.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),us.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new us(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new qr(jr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new qr(jr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new qr(jr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new qr(jr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new us(t)}static emptyPath(){return new us([])}}class hs{constructor(e){this.fields=e,e.sort(us.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return es(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ds(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ds(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(e){if(Vr(!!e),"string"==typeof e){let t=0;const n=fs.exec(e);if(Vr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ms(e.seconds),nanos:ms(e.nanos)}}function ms(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gs(e){return"string"==typeof e?ds.fromBase64String(e):ds.fromUint8Array(e)}function ys(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vs(e){const t=e.mapValue.fields.__previous_value__;return ys(t)?vs(t):t}function ws(e){const t=ps(e.mapValue.fields.__local_write_time__.timestampValue);return new ns(t.seconds,t.nanos)}function bs(e){return null==e}function _s(e){return 0===e&&1/e==-1/0}function Is(e){return"number"==typeof e&&Number.isInteger(e)&&!_s(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Es{constructor(e){this.path=e}static fromPath(e){return new Es(cs.fromString(e))}static fromName(e){return new Es(cs.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===cs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Es(new cs(e.slice()))}}function Ss(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ys(e)?4:10:Mr()}function Ts(e,t){const n=Ss(e);if(n!==Ss(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ws(e).isEqual(ws(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ps(e.timestampValue),r=ps(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gs(e.bytesValue).isEqual(gs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ms(e.geoPointValue.latitude)===ms(t.geoPointValue.latitude)&&ms(e.geoPointValue.longitude)===ms(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ms(e.integerValue)===ms(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ms(e.doubleValue),r=ms(t.doubleValue);return n===r?_s(n)===_s(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return es(e.arrayValue.values||[],t.arrayValue.values||[],Ts);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ss(n)!==ss(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Ts(n[s],r[s])))return!1;return!0}(e,t);default:return Mr()}}function Cs(e,t){return void 0!==(e.values||[]).find(e=>Ts(e,t))}function ks(e,t){const n=Ss(e),r=Ss(t);if(n!==r)return Zr(n,r);switch(n){case 0:return 0;case 1:return Zr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ms(e.integerValue||e.doubleValue),r=ms(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return As(e.timestampValue,t.timestampValue);case 4:return As(ws(e),ws(t));case 5:return Zr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gs(e),r=gs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Zr(n[s],r[s]);if(0!==e)return e}return Zr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zr(ms(e.latitude),ms(t.latitude));return 0!==n?n:Zr(ms(e.longitude),ms(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=ks(n[s],r[s]);if(e)return e}return Zr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=Zr(r[o],i[o]);if(0!==e)return e;const t=ks(n[r[o]],s[i[o]]);if(0!==t)return t}return Zr(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Mr()}}function As(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zr(e,t);const n=ps(e),r=ps(t),s=Zr(n.seconds,r.seconds);return 0!==s?s:Zr(n.nanos,r.nanos)}function xs(e){return Os(e)}function Os(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ps(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gs(e.bytesValue).toBase64():"referenceValue"in e?Es.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Os(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${Os(e.fields[s])}`;return n+"}"}(e.mapValue):Mr();var t}function Ns(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Rs(e){return!!e&&"integerValue"in e}function Ds(e){return!!e&&"arrayValue"in e}function Ps(e){return!!e&&"nullValue"in e}function Ls(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $s(e){return!!e&&"mapValue"in e}function Fs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return is(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Fs(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fs(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ms{constructor(e){this.value=e}static empty(){return new Ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$s(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fs(t)}setAll(e){let t=us.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Fs(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());$s(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$s(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){is(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ms(Fs(this.value))}}function Vs(e){const t=[];return is(e.fields,(e,n)=>{const r=new us([e]);if($s(n)){const e=Vs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new hs(t)}class Us{constructor(e,t,n,r,s){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=s}static newInvalidDocument(e){return new Us(e,0,rs.min(),Ms.empty(),0)}static newFoundDocument(e,t,n){return new Us(e,1,t,n,0)}static newNoDocument(e,t){return new Us(e,2,t,Ms.empty(),0)}static newUnknownDocument(e,t){return new Us(e,3,t,Ms.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Us(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class js{constructor(e,t=null,n=[],r=[],s=null,i=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.A=null}}function qs(e,t=null,n=[],r=[],s=null,i=null,o=null){return new js(e,t,n,r,s,i,o)}function zs(e){const t=Ur(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+xs(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),bs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ni(t.startAt)),t.endAt&&(e+="|ub:",e+=ni(t.endAt)),t.A=e}return t.A}function Bs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!si(e.orderBy[s],t.orderBy[s]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if((n=e.filters[s]).op!==(r=t.filters[s]).op||!n.field.isEqual(r.field)||!Ts(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oi(e.startAt,t.startAt)&&oi(e.endAt,t.endAt)}function Hs(e){return Es.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Gs extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Ys(e,t,n):"array-contains"===t?new Qs(e,n):"in"===t?new Js(e,n):"not-in"===t?new Zs(e,n):"array-contains-any"===t?new ei(e,n):new Gs(e,t,n)}static R(e,t,n){return"in"===t?new Ws(e,n):new Ks(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(ks(t,this.value)):null!==t&&Ss(this.value)===Ss(t)&&this.P(ks(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mr()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ys extends Gs{constructor(e,t,n){super(e,t,n),this.key=Es.fromName(n.referenceValue)}matches(e){const t=Es.comparator(e.key,this.key);return this.P(t)}}class Ws extends Gs{constructor(e,t){super(e,"in",t),this.keys=Xs(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ks extends Gs{constructor(e,t){super(e,"not-in",t),this.keys=Xs(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Es.fromName(e.referenceValue))}class Qs extends Gs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ds(t)&&Cs(t.arrayValue,this.value)}}class Js extends Gs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cs(this.value.arrayValue,t)}}class Zs extends Gs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cs(this.value.arrayValue,t)}}class ei extends Gs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ds(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Cs(this.value.arrayValue,e))}}class ti{constructor(e,t){this.position=e,this.before=t}}function ni(e){return`${e.before?"b":"a"}:${e.position.map(e=>xs(e)).join(",")}`}class ri{constructor(e,t="asc"){this.field=e,this.dir=t}}function si(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ii(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?Es.comparator(Es.fromName(o.referenceValue),n.key):ks(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function oi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ts(e.position[n],t.position[n]))return!1;return!0}class ai{constructor(e,t=null,n=[],r=[],s=null,i="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function ci(e,t,n,r,s,i,o,a){return new ai(e,t,n,r,s,i,o,a)}function li(e){return new ai(e)}function ui(e){return!bs(e.limit)&&"F"===e.limitType}function hi(e){return!bs(e.limit)&&"L"===e.limitType}function di(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fi(e){for(const t of e.filters)if(t.v())return t.field;return null}function pi(e){return null!==e.collectionGroup}function mi(e){const t=Ur(e);if(null===t.V){t.V=[];const e=fi(t),n=di(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new ri(e)),t.V.push(new ri(us.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new ri(us.keyField(),e))}}}return t.V}function gi(e){const t=Ur(e);if(!t.S)if("F"===t.limitType)t.S=qs(t.path,t.collectionGroup,mi(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of mi(t))e.push(new ri(s.field,"desc"===s.dir?"asc":"desc"));const n=t.endAt?new ti(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ti(t.startAt.position,!t.startAt.before):null;t.S=qs(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function yi(e,t,n){return new ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vi(e,t){return Bs(gi(e),gi(t))&&e.limitType===t.limitType}function wi(e){return`${zs(gi(e))}|lt:${e.limitType}`}function bi(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${xs(t.value)}`;var t}).join(", ")}]`),bs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ni(e.startAt)),e.endAt&&(t+=", endAt: "+ni(e.endAt)),`Target(${t})`}(gi(e))}; limitType=${e.limitType})`}function _i(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Es.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ii(e.startAt,mi(e),t)||e.endAt&&ii(e.endAt,mi(e),t))}(e,t)}function Ii(e){return(t,n)=>{let r=!1;for(const s of mi(e)){const e=Ei(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Ei(e,t,n){const r=e.field.isKeyField()?Es.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?ks(r,s):Mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mr()}}function Si(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_s(t)?"-0":t}}function Ti(e){return{integerValue:""+e}}function Ci(e,t){return Is(t)?Ti(t):Si(e,t)}class ki{constructor(){this._=void 0}}function Ai(e,t,n){return e instanceof Ni?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ri?Di(e,t):e instanceof Pi?Li(e,t):function(e,t){const n=Oi(e,t),r=Fi(n)+Fi(e.C);return Rs(n)&&Rs(e.C)?Ti(r):Si(e.N,r)}(e,t)}function xi(e,t,n){return e instanceof Ri?Di(e,t):e instanceof Pi?Li(e,t):n}function Oi(e,t){return e instanceof $i?Rs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ni extends ki{}class Ri extends ki{constructor(e){super(),this.elements=e}}function Di(e,t){const n=Mi(t);for(const r of e.elements)n.some(e=>Ts(e,r))||n.push(r);return{arrayValue:{values:n}}}class Pi extends ki{constructor(e){super(),this.elements=e}}function Li(e,t){let n=Mi(t);for(const r of e.elements)n=n.filter(e=>!Ts(e,r));return{arrayValue:{values:n}}}class $i extends ki{constructor(e,t){super(),this.N=e,this.C=t}}function Fi(e){return ms(e.integerValue||e.doubleValue)}function Mi(e){return Ds(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Vi{constructor(e,t){this.field=e,this.transform=t}}class Ui{constructor(e,t){this.version=e,this.transformResults=t}}class ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qi(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class zi{}function Bi(e,t,n){e instanceof Ki?function(e,t,n){const r=e.value.clone(),s=Ji(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xi?function(e,t,n){if(!qi(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ji(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Qi(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hi(e,t,n){e instanceof Ki?function(e,t,n){if(!qi(e.precondition,t))return;const r=e.value.clone(),s=Zi(e.fieldTransforms,n,t);r.setAll(s),t.convertToFoundDocument(Wi(t),r).setHasLocalMutations()}(e,t,n):e instanceof Xi?function(e,t,n){if(!qi(e.precondition,t))return;const r=Zi(e.fieldTransforms,n,t),s=t.data;s.setAll(Qi(e)),s.setAll(r),t.convertToFoundDocument(Wi(t),s).setHasLocalMutations()}(e,t,n):function(e,t){qi(e.precondition,t)&&t.convertToNoDocument(rs.min())}(e,t)}function Gi(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Oi(r.transform,e||null);null!=s&&(null==n&&(n=Ms.empty()),n.set(r.field,s))}return n||null}function Yi(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&es(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ri&&t instanceof Ri||e instanceof Pi&&t instanceof Pi?es(e.elements,t.elements,Ts):e instanceof $i&&t instanceof $i?Ts(e.C,t.C):e instanceof Ni&&t instanceof Ni}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Wi(e){return e.isFoundDocument()?e.version:rs.min()}class Ki extends zi{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Xi extends zi{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}}function Qi(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ji(e,t,n){const r=new Map;Vr(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,xi(o,a,n[s]))}return r}function Zi(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Ai(e,i,t))}return r}class eo extends zi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class to extends zi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class no{constructor(e){this.count=e}}var ro,so;function io(e){switch(e){case jr.OK:return Mr();case jr.CANCELLED:case jr.UNKNOWN:case jr.DEADLINE_EXCEEDED:case jr.RESOURCE_EXHAUSTED:case jr.INTERNAL:case jr.UNAVAILABLE:case jr.UNAUTHENTICATED:return!1;case jr.INVALID_ARGUMENT:case jr.NOT_FOUND:case jr.ALREADY_EXISTS:case jr.PERMISSION_DENIED:case jr.FAILED_PRECONDITION:case jr.ABORTED:case jr.OUT_OF_RANGE:case jr.UNIMPLEMENTED:case jr.DATA_LOSS:return!0;default:return Mr()}}function oo(e){if(void 0===e)return Lr("GRPC error has no .code"),jr.UNKNOWN;switch(e){case ro.OK:return jr.OK;case ro.CANCELLED:return jr.CANCELLED;case ro.UNKNOWN:return jr.UNKNOWN;case ro.DEADLINE_EXCEEDED:return jr.DEADLINE_EXCEEDED;case ro.RESOURCE_EXHAUSTED:return jr.RESOURCE_EXHAUSTED;case ro.INTERNAL:return jr.INTERNAL;case ro.UNAVAILABLE:return jr.UNAVAILABLE;case ro.UNAUTHENTICATED:return jr.UNAUTHENTICATED;case ro.INVALID_ARGUMENT:return jr.INVALID_ARGUMENT;case ro.NOT_FOUND:return jr.NOT_FOUND;case ro.ALREADY_EXISTS:return jr.ALREADY_EXISTS;case ro.PERMISSION_DENIED:return jr.PERMISSION_DENIED;case ro.FAILED_PRECONDITION:return jr.FAILED_PRECONDITION;case ro.ABORTED:return jr.ABORTED;case ro.OUT_OF_RANGE:return jr.OUT_OF_RANGE;case ro.UNIMPLEMENTED:return jr.UNIMPLEMENTED;case ro.DATA_LOSS:return jr.DATA_LOSS;default:return Mr()}}(so=ro||(ro={}))[so.OK=0]="OK",so[so.CANCELLED=1]="CANCELLED",so[so.UNKNOWN=2]="UNKNOWN",so[so.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",so[so.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",so[so.NOT_FOUND=5]="NOT_FOUND",so[so.ALREADY_EXISTS=6]="ALREADY_EXISTS",so[so.PERMISSION_DENIED=7]="PERMISSION_DENIED",so[so.UNAUTHENTICATED=16]="UNAUTHENTICATED",so[so.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",so[so.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",so[so.ABORTED=10]="ABORTED",so[so.OUT_OF_RANGE=11]="OUT_OF_RANGE",so[so.UNIMPLEMENTED=12]="UNIMPLEMENTED",so[so.INTERNAL=13]="INTERNAL",so[so.UNAVAILABLE=14]="UNAVAILABLE",so[so.DATA_LOSS=15]="DATA_LOSS";class ao{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new ao(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new ao(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}}class co{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:lo.RED,this.left=null!=r?r:lo.EMPTY,this.right=null!=s?s:lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new lo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();const e=this.left.check();if(e!==this.right.check())throw Mr();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw Mr()}get value(){throw Mr()}get color(){throw Mr()}get left(){throw Mr()}get right(){throw Mr()}copy(e,t,n,r,s){return this}insert(e,t,n){return new lo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uo{constructor(e){this.comparator=e,this.data=new ao(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ho(this.data.getIterator())}getIteratorFrom(e){return new ho(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof uo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new uo(this.comparator);return t.data=e,t}}class ho{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const fo=new ao(Es.comparator);function po(){return fo}const mo=new ao(Es.comparator);function go(){return mo}const yo=new ao(Es.comparator);function vo(){return yo}const wo=new uo(Es.comparator);function bo(...e){let t=wo;for(const n of e)t=t.add(n);return t}const _o=new uo(Zr);function Io(){return _o}class Eo{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,So.createSynthesizedTargetChangeForCurrentChange(e,t)),new Eo(rs.min(),n,Io(),po(),bo())}}class So{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new So(ds.EMPTY_BYTE_STRING,t,bo(),bo(),bo())}}class To{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Co{constructor(e,t){this.targetId=e,this.O=t}}class ko{constructor(e,t,n=ds.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ao{constructor(){this.F=0,this.M=No(),this.L=ds.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=bo(),t=bo(),n=bo();return this.M.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mr()}}),new So(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=No()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class xo{constructor(e){this.tt=e,this.et=new Map,this.nt=po(),this.st=Oo(),this.it=new uo(Zr)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Mr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Hs(e))if(0===n){const n=new Es(e.path);this.at(t,n,Us.newNoDocument(n,rs.min()))}else Vr(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const s=this.dt(r);if(s){if(n.current&&Hs(s.target)){const t=new Es(s.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Us.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=bo();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Eo(e,t,this.it,this.nt,n);return this.nt=po(),this.st=Oo(),this.it=new uo(Zr),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Ao,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new uo(Zr),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Pr("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Ao),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Oo(){return new ao(Es.comparator)}function No(){return new ao(Es.comparator)}const Ro={asc:"ASCENDING",desc:"DESCENDING"},Do={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Po{constructor(e,t){this.databaseId=e,this.D=t}}function Lo(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $o(e,t){return e.D?t.toBase64():t.toUint8Array()}function Fo(e,t){return Lo(e,t.toTimestamp())}function Mo(e){return Vr(!!e),rs.fromTimestamp(function(e){const t=ps(e);return new ns(t.seconds,t.nanos)}(e))}function Vo(e,t){return function(e){return new cs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Uo(e){const t=cs.fromString(e);return Vr(ua(t)),t}function jo(e,t){return Vo(e.databaseId,t.path)}function qo(e,t){const n=Uo(t);if(n.get(1)!==e.databaseId.projectId)throw new qr(jr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qr(jr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Es(Go(n))}function zo(e,t){return Vo(e.databaseId,t)}function Bo(e){const t=Uo(e);return 4===t.length?cs.emptyPath():Go(t)}function Ho(e){return new cs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Go(e){return Vr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yo(e,t,n){return{name:jo(e,t),fields:n.value.mapValue.fields}}function Wo(e,t,n){const r=qo(e,t.name),s=Mo(t.updateTime),i=new Ms({mapValue:{fields:t.fields}}),o=Us.newFoundDocument(r,s,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ko(e,t){let n;if(t instanceof Ki)n={update:Yo(e,t.key,t.value)};else if(t instanceof eo)n={delete:jo(e,t.key)};else if(t instanceof Xi)n={update:Yo(e,t.key,t.data),updateMask:la(t.fieldMask)};else{if(!(t instanceof to))return Mr();n={verify:jo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ni)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ri)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $i)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Mr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mr()}(e,t.precondition)),n}function Xo(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ji.updateTime(Mo(e.updateTime)):void 0!==e.exists?ji.exists(e.exists):ji.none()}(t.currentDocument):ji.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Vr("REQUEST_TIME"===t.setToServerValue),n=new Ni):"appendMissingElements"in t?n=new Ri(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Pi(t.removeAllFromArray.values||[]):"increment"in t?n=new $i(e,t.increment):Mr();const r=us.fromServerFormat(t.fieldPath);return new Vi(r,n)}(e,t)):[];if(t.update){const s=qo(e,t.update.name),i=new Ms({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new hs((e.fieldPaths||[]).map(e=>us.fromServerFormat(e)))}(t.updateMask);return new Xi(s,i,e,n,r)}return new Ki(s,i,n,r)}if(t.delete){const r=qo(e,t.delete);return new eo(r,n)}if(t.verify){const r=qo(e,t.verify);return new to(r,n)}return Mr()}function Qo(e,t){return{documents:[zo(e,t.path)]}}function Jo(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=zo(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=zo(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Ls(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NAN"}};if(Ps(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ls(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NOT_NAN"}};if(Ps(e.value))return{unaryFilter:{field:ia(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(e.field),op:sa(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ia(e.field),direction:ra(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(e,t){return e.D||bs(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ta(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ta(t.endAt)),n}function Zo(e){let t=Bo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vr(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=ea(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new ri(oa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,bs(t)?null:t}(n.limit));let c=null;n.startAt&&(c=na(n.startAt));let l=null;return n.endAt&&(l=na(n.endAt)),ci(t,s,o,i,a,"F",c,l)}function ea(e){return e?void 0!==e.unaryFilter?[ca(e)]:void 0!==e.fieldFilter?[aa(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ea(e)).reduce((e,t)=>e.concat(t)):Mr():[]}function ta(e){return{before:e.before,values:e.position}}function na(e){return new ti(e.values||[],!!e.before)}function ra(e){return Ro[e]}function sa(e){return Do[e]}function ia(e){return{fieldPath:e.canonicalString()}}function oa(e){return us.fromServerFormat(e.fieldPath)}function aa(e){return Gs.create(oa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Mr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ca(e){switch(e.unaryFilter.op){case"IS_NAN":const t=oa(e.unaryFilter.field);return Gs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=oa(e.unaryFilter.field);return Gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oa(e.unaryFilter.field);return Gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=oa(e.unaryFilter.field);return Gs.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Mr()}}function la(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ua(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ha(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=fa(t)),t=da(e.get(n),t);return fa(t)}function da(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function fa(e){return e+"\x01\x01"}function pa(e){const t=e.length;if(Vr(t>=2),2===t)return Vr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cs.emptyPath();const n=t-2,r=[];let s="";for(let i=0;i<t;){const t=e.indexOf("\x01",i);switch((t<0||t>n)&&Mr(),e.charAt(t+1)){case"\x01":const n=e.substring(i,t);let o;0===s.length?o=n:(s+=n,o=s,s=""),r.push(o);break;case"\x10":s+=e.substring(i,t),s+="\0";break;case"\x11":s+=e.substring(i,t+1);break;default:Mr()}i=t+2}return new cs(r)}class ma{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class ga{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}ga.store="owner",ga.key="owner";class ya{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ya.store="mutationQueues",ya.keyPath="userId";class va{constructor(e,t,n,r,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=s}}va.store="mutations",va.keyPath="batchId",va.userMutationsIndex="userMutationsIndex",va.userMutationsKeyPath=["userId","batchId"];class wa{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ha(t)]}static key(e,t,n){return[e,ha(t),n]}}wa.store="documentMutations",wa.PLACEHOLDER=new wa;class ba{constructor(e,t){this.path=e,this.readTime=t}}class _a{constructor(e,t){this.path=e,this.version=t}}class Ia{constructor(e,t,n,r,s,i){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=i}}Ia.store="remoteDocuments",Ia.readTimeIndex="readTimeIndex",Ia.readTimeIndexPath="readTime",Ia.collectionReadTimeIndex="collectionReadTimeIndex",Ia.collectionReadTimeIndexPath=["parentPath","readTime"];class Ea{constructor(e){this.byteSize=e}}Ea.store="remoteDocumentGlobal",Ea.key="remoteDocumentGlobalKey";class Sa{constructor(e,t,n,r,s,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=i,this.query=o}}Sa.store="targets",Sa.keyPath="targetId",Sa.queryTargetsIndexName="queryTargetsIndex",Sa.queryTargetsKeyPath=["canonicalId","targetId"];class Ta{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Ta.store="targetDocuments",Ta.keyPath=["targetId","path"],Ta.documentTargetsIndex="documentTargetsIndex",Ta.documentTargetsKeyPath=["path","targetId"];class Ca{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ca.key="targetGlobalKey",Ca.store="targetGlobal";class ka{constructor(e,t){this.collectionId=e,this.parent=t}}ka.store="collectionParents",ka.keyPath=["collectionId","parent"];class Aa{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Aa.store="clientMetadata",Aa.keyPath="clientId";class xa{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}xa.store="bundles",xa.keyPath="bundleId";class Oa{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Oa.store="namedQueries",Oa.keyPath="name";const Na=[ya.store,va.store,wa.store,Ia.store,Sa.store,ga.store,Ca.store,Ta.store,Aa.store,Ea.store,ka.store,xa.store,Oa.store],Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Pa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pa((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pa?t:Pa.resolve(t)}catch(e){return Pa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pa.reject(t)}static resolve(e){return new Pa((t,n)=>{t(e)})}static reject(e){return new Pa((t,n)=>{n(e)})}static waitFor(e){return new Pa((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Pa.resolve(!1);for(const n of e)t=t.next(e=>e?Pa.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class La{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new zr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Ma(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=za(t.target.error);this.Tt.reject(new Ma(e,n))}}static open(e,t,n,r){try{return new La(t,e.transaction(r,n))}catch(e){throw new Ma(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Pr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Ua(t)}}class $a{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===$a.Rt((0,I.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pr("SimpleDb","Removing database:",e),ja(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,I.hl)())return!1;if($a.Pt())return!0;const e=(0,I.z$)(),t=$a.Rt(e),n=0<t&&t<10,r=$a.vt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Pr("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new Ma(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;n("VersionError"===r.name?new qr(jr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===r.name?new qr(jr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r):new Ma(e,r))},r.onupgradeneeded=e=>{Pr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion),this.At.Ct(e.target.result,r.transaction,e.oldVersion,this.version).next(()=>{Pr("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const s="readonly"===t;let i=0;for(;;){++i;try{this.db=await this.Dt(e);const t=La.open(this.db,e,s?"readonly":"readwrite",n),i=r(t).catch(e=>(t.abort(e),Pa.reject(e))).toPromise();return i.catch(()=>{}),await t.It,i}catch(e){const t="FirebaseError"!==e.name&&i<3;if(Pr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Fa{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return ja(this.kt.delete())}}class Ma extends qr{constructor(e,t){super(jr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Va(e){return"IndexedDbTransactionError"===e.name}class Ua{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Pr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ja(n)}add(e){return Pr("SimpleDb","ADD",this.store.name,e,e),ja(this.store.add(e))}get(e){return ja(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pr("SimpleDb","DELETE",this.store.name,e),ja(this.store.delete(e))}count(){return Pr("SimpleDb","COUNT",this.store.name),ja(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Pr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Pa((n,r)=>{t.onerror=e=>{const t=za(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Pa((r,s)=>{e.onerror=e=>{s(e.target.error)},e.onsuccess=e=>{const s=e.target.result;if(!s)return void r();const i=new Fa(s),o=t(s.primaryKey,s.value,i);if(o instanceof Pa){const e=o.catch(e=>(i.done(),Pa.reject(e)));n.push(e)}i.isDone?r():null===i.Ft?s.continue():s.continue(i.Ft)}}).next(()=>Pa.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ja(e){return new Pa((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=za(e.target.error);n(t)}})}let qa=!1;function za(e){const t=$a.Rt((0,I.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new qr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qa||(qa=!0,setTimeout(()=>{throw e},0)),e}}return e}class Ba extends Da{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Ha(e,t){const n=Ur(e);return $a.St(n.Qt,t)}class Ga{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Bi(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Hi(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Hi(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(rs.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bo())}isEqual(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(e,t)=>Yi(e,t))&&es(this.baseMutations,e.baseMutations,(e,t)=>Yi(e,t))}}class Ya{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Vr(e.mutations.length===n.length);let r=vo();const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Ya(e,t,n,r)}}class Wa{constructor(e,t,n,r,s=rs.min(),i=rs.min(),o=ds.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ka{constructor(e){this.Wt=e}}function Xa(e,t){if(t.document)return Wo(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Es.fromSegments(t.noDocument.path),n=tc(t.noDocument.readTime),r=Us.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Es.fromSegments(t.unknownDocument.path),n=tc(t.unknownDocument.version);return Us.newUnknownDocument(e,n)}return Mr()}function Qa(e,t,n){const r=Ja(n),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:jo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lo(e,t.version.toTimestamp())}}(e.Wt,t);return new Ia(null,null,n,t.hasCommittedMutations,r,s)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=ec(t.version),i=t.hasCommittedMutations;return new Ia(null,new ba(e,n),null,i,r,s)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=ec(t.version);return new Ia(new _a(e,n),null,null,!0,r,s)}return Mr()}function Ja(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Za(e){const t=new ns(e[0],e[1]);return rs.fromTimestamp(t)}function ec(e){const t=e.toTimestamp();return new ma(t.seconds,t.nanoseconds)}function tc(e){const t=new ns(e.seconds,e.nanoseconds);return rs.fromTimestamp(t)}function nc(e,t){const n=(t.baseMutations||[]).map(t=>Xo(e.Wt,t));for(let i=0;i<t.mutations.length-1;++i){const e=t.mutations[i];i+1<t.mutations.length&&void 0!==t.mutations[i+1].transform&&(e.updateTransforms=t.mutations[i+1].transform.fieldTransforms,t.mutations.splice(i+1,1),++i)}const r=t.mutations.map(t=>Xo(e.Wt,t)),s=ns.fromMillis(t.localWriteTimeMs);return new Ga(t.batchId,s,n,r)}function rc(e){const t=tc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?tc(e.lastLimboFreeSnapshotVersion):rs.min();let r;var s;return void 0!==e.query.documents?(Vr(1===(s=e.query).documents.length),r=gi(li(Bo(s.documents[0])))):r=function(e){return gi(Zo(e))}(e.query),new Wa(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ds.fromBase64String(e.resumeToken))}function sc(e,t){const n=ec(t.snapshotVersion),r=ec(t.lastLimboFreeSnapshotVersion);let s;s=Hs(t.target)?Qo(e.Wt,t.target):Jo(e.Wt,t.target);const i=t.resumeToken.toBase64();return new Sa(t.targetId,zs(t.target),n,i,t.sequenceNumber,r,s)}function ic(e){const t=Zo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yi(t,t.limit,"L"):t}class oc{getBundleMetadata(e,t){return ac(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:tc(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return ac(e).put({bundleId:(n=t).id,createTime:ec(Mo(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return cc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:ic(t.bundledQuery),readTime:tc(t.readTime)};var t})}saveNamedQuery(e,t){return cc(e).put(function(e){return{name:e.name,readTime:ec(Mo(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ac(e){return Ha(e,xa.store)}function cc(e){return Ha(e,Oa.store)}class lc{constructor(){this.Gt=new uc}addToCollectionParentIndex(e,t){return this.Gt.add(t),Pa.resolve()}getCollectionParents(e,t){return Pa.resolve(this.Gt.getEntries(t))}}class uc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uo(cs.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uo(cs.comparator)).toArray()}}class hc{constructor(){this.zt=new uc}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const s={collectionId:n,parent:ha(r)};return dc(e).put(s)}return Pa.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ts(t),""],!1,!0);return dc(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(pa(r.parent))}return n})}}function dc(e){return Ha(e,ka.store)}const fc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new pc(e,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mc(e,t,n){const r=e.store(va.store),s=e.store(wa.store),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));i.push(c.next(()=>{Vr(1===a)}));const l=[];for(const u of n.mutations){const e=wa.key(t,u.key.path,n.batchId);i.push(s.delete(e)),l.push(u.key)}return Pa.waitFor(i).next(()=>l)}function gc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mr();t=e.noDocument}return JSON.stringify(t).length}pc.DEFAULT_COLLECTION_PERCENTILE=10,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pc.DEFAULT=new pc(41943040,pc.DEFAULT_COLLECTION_PERCENTILE,pc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pc.DISABLED=new pc(-1,0,0);class yc{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Vr(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new yc(s,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).Kt({index:va.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const s=bc(e),i=wc(e);return i.add({}).next(o=>{Vr("number"==typeof o);const a=new Ga(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Ko(e.Wt,t)),s=n.mutations.map(t=>Ko(e.Wt,t));return new va(t,n.batchId,n.localWriteTime.toMillis(),r,s)}(this.N,this.userId,a),l=[];let u=new uo((e,t)=>Zr(e.canonicalString(),t.canonicalString()));for(const e of r){const t=wa.key(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(i.put(c)),l.push(s.put(t,wa.PLACEHOLDER))}return u.forEach(t=>{l.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Pa.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return wc(e).get(t).next(e=>e?(Vr(e.userId===this.userId),nc(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Pa.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return wc(e).Kt({index:va.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Vr(t.batchId>=n),s=nc(this.N,t)),r.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return wc(e).Kt({index:va.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).Lt(va.userMutationsIndex,t).next(e=>e.map(e=>nc(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=wa.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),s=[];return bc(e).Kt({range:r},(n,r,i)=>{const[o,a,c]=n,l=pa(a);if(o===this.userId&&t.path.isEqual(l))return wc(e).get(c).next(e=>{if(!e)throw Mr();Vr(e.userId===this.userId),s.push(nc(this.N,e))});i.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uo(Zr);const r=[];return t.forEach(t=>{const s=wa.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(s),o=bc(e).Kt({range:i},(e,r,s)=>{const[i,o,a]=e,c=pa(o);i===this.userId&&t.path.isEqual(c)?n=n.add(a):s.done()});r.push(o)}),Pa.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,s=wa.prefixForPath(this.userId,n),i=IDBKeyRange.lowerBound(s);let o=new uo(Zr);return bc(e).Kt({range:i},(e,t,s)=>{const[i,a,c]=e,l=pa(a);i===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):s.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(wc(e).get(t).next(e=>{if(null===e)throw Mr();Vr(e.userId===this.userId),n.push(nc(this.N,e))}))}),Pa.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return mc(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Pa.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Pa.resolve();const n=IDBKeyRange.lowerBound(wa.prefixForUser(this.userId)),r=[];return bc(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=pa(e[1]);r.push(t)}else n.done()}).next(()=>{Vr(0===r.length)})})}containsKey(e,t){return vc(e,this.userId,t)}ee(e){return _c(e).get(this.userId).next(e=>e||new ya(this.userId,-1,""))}}function vc(e,t,n){const r=wa.prefixForPath(t,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return bc(e).Kt({range:i,qt:!0},(e,n,r)=>{const[i,a,c]=e;i===t&&a===s&&(o=!0),r.done()}).next(()=>o)}function wc(e){return Ha(e,va.store)}function bc(e){return Ha(e,wa.store)}function _c(e){return Ha(e,ya.store)}class Ic{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Ic(0)}static ie(){return new Ic(-1)}}class Ec{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Ic(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>rs.fromTimestamp(new ns(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sc(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Vr(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const s=[];return Sc(e).Kt((i,o)=>{const a=rc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,s.push(this.removeTargetData(e,a)))}).next(()=>Pa.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Sc(e).Kt((e,n)=>{const r=rc(n);t(r)})}re(e){return Tc(e).get(Ca.key).next(e=>(Vr(null!==e),e))}oe(e,t){return Tc(e).put(Ca.key,t)}ae(e,t){return Sc(e).put(sc(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=zs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Sc(e).Kt({range:r,index:Sa.queryTargetsIndexName},(e,n,r)=>{const i=rc(n);Bs(t,i.target)&&(s=i,r.done())}).next(()=>s)}addMatchingKeys(e,t,n){const r=[],s=Cc(e);return t.forEach(t=>{const i=ha(t.path);r.push(s.put(new Ta(n,i))),r.push(this.referenceDelegate.addReference(e,n,t))}),Pa.waitFor(r)}removeMatchingKeys(e,t,n){const r=Cc(e);return Pa.forEach(t,t=>{const s=ha(t.path);return Pa.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Cc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cc(e);let s=bo();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=pa(e[1]),i=new Es(r);s=s.add(i)}).next(()=>s)}containsKey(e,t){const n=ha(t.path),r=IDBKeyRange.bound([n],[ts(n)],!1,!0);let s=0;return Cc(e).Kt({index:Ta.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(s++,r.done())}).next(()=>s>0)}Et(e,t){return Sc(e).get(t).next(e=>e?rc(e):null)}}function Sc(e){return Ha(e,Sa.store)}function Tc(e){return Ha(e,Ca.store)}function Cc(e){return Ha(e,Ta.store)}async function kc(e){if(e.code!==jr.FAILED_PRECONDITION||e.message!==Ra)throw e;Pr("LocalStore","Unexpectedly lost primary lease")}function Ac([e,t],[n,r]){const s=Zr(e,n);return 0===s?Zr(t,r):s}class xc{constructor(e){this.ue=e,this.buffer=new uo(Ac),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ac(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Oc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Pr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Va(e)?Pr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await kc(e)}await this._e(e)})}}class Nc{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Pa.resolve(Xr.T);const n=new xc(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pr("LruGarbageCollector","Garbage collection skipped; disabled"),Pa.resolve(fc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Pr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fc):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,s,i,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Pr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),Dr()<=_.in.DEBUG&&Pr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-l}ms\n\tDetermined least recently used ${r} in `+(o-i)+"ms\n"+`\tRemoved ${s} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),Pa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}class Rc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Nc(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return Dc(e,n)}removeReference(e,t,n){return Dc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Dc(e,t)}Ie(e,t){return function(e,t){let n=!1;return _c(e).jt(r=>vc(e,r,t).next(e=>(e&&(n=!0),Pa.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Te(e,(i,o)=>{if(o<=t){const t=this.Ie(e,i).next(t=>{if(!t)return s++,n.getEntry(e,i).next(()=>(n.removeEntry(i),Cc(e).delete([0,ha(i.path)])))});r.push(t)}}).next(()=>Pa.waitFor(r)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Dc(e,t)}Te(e,t){const n=Cc(e);let r,s=Xr.T;return n.Kt({index:Ta.documentTargetsIndex},([e,n],{path:i,sequenceNumber:o})=>{0===e?(s!==Xr.T&&t(new Es(pa(r)),s),s=o,r=i):s=Xr.T}).next(()=>{s!==Xr.T&&t(new Es(pa(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dc(e,t){return Cc(e).put(function(e,t){return new Ta(0,ha(e.path),t)}(t,e.currentSequenceNumber))}class Pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){is(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return os(this.inner)}}class Lc{constructor(){this.changes=new Pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:rs.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Us.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pa.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $c{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Vc(e).put(Uc(t),n)}removeEntry(e,t){const n=Vc(e),r=Uc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Vc(e).get(Uc(t)).next(e=>this.Re(t,e))}be(e,t){return Vc(e).get(Uc(t)).next(e=>({document:this.Re(t,e),size:gc(e)}))}getEntries(e,t){let n=po();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=po(),r=new ao(Es.comparator);return this.Pe(e,t,(e,t)=>{const s=this.Re(e,t);n=n.insert(e,s),r=r.insert(e,gc(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Pa.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let i=s.getNext();return Vc(e).Kt({range:r},(e,t,r)=>{const o=Es.fromSegments(e);for(;i&&Es.comparator(i,o)<0;)n(i,null),i=s.getNext();i&&i.isEqual(o)&&(n(i,t),i=s.hasNext()?s.getNext():null),i?r.Mt(i.path.toArray()):r.done()}).next(()=>{for(;i;)n(i,null),i=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=po();const s=t.path.length+1,i={};if(n.isEqual(rs.min())){const e=t.path.toArray();i.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Ja(n);i.range=IDBKeyRange.lowerBound([e,r],!0),i.index=Ia.collectionReadTimeIndex}return Vc(e).Kt(i,(e,n,i)=>{if(e.length!==s)return;const o=Xa(this.N,n);t.path.isPrefixOf(o.key.path)?_i(t,o)&&(r=r.insert(o.key,o)):i.done()}).next(()=>r)}newChangeBuffer(e){return new Fc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Mc(e).get(Ea.key).next(e=>(Vr(!!e),e))}Ae(e,t){return Mc(e).put(Ea.key,t)}Re(e,t){if(t){const e=Xa(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(rs.min()))return e}return Us.newInvalidDocument(e)}}class Fc extends Lc{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Pc(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new uo((e,t)=>Zr(e.canonicalString(),t.canonicalString()));return this.changes.forEach((s,i)=>{const o=this.De.get(s);if(i.document.isValidDocument()){const a=Qa(this.Se.N,i.document,this.getReadTime(s));r=r.add(s.path.popLast());const c=gc(a);n+=c-o,t.push(this.Se.addEntry(e,s,a))}else if(n-=o,this.trackRemovals){const n=Qa(this.Se.N,Us.newNoDocument(s,rs.min()),this.getReadTime(s));t.push(this.Se.addEntry(e,s,n))}else t.push(this.Se.removeEntry(e,s))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Pa.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Mc(e){return Ha(e,Ea.store)}function Vc(e){return Ha(e,Ia.store)}function Uc(e){return e.path.toArray()}class jc{constructor(e){this.N=e}Ct(e,t,n,r){Vr(n<r&&n>=0&&r<=11);const s=new La("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ga.store)}(e),function(e){e.createObjectStore(ya.store,{keyPath:ya.keyPath}),e.createObjectStore(va.store,{keyPath:va.keyPath,autoIncrement:!0}).createIndex(va.userMutationsIndex,va.userMutationsKeyPath,{unique:!0}),e.createObjectStore(wa.store)}(e),qc(e),function(e){e.createObjectStore(Ia.store)}(e));let i=Pa.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ta.store),e.deleteObjectStore(Sa.store),e.deleteObjectStore(Ca.store)}(e),qc(e)),i=i.next(()=>function(e){const t=e.store(Ca.store),n=new Ca(0,0,rs.min().toTimestamp(),0);return t.put(Ca.key,n)}(s))),n<4&&r>=4&&(0!==n&&(i=i.next(()=>function(e,t){return t.store(va.store).Lt().next(n=>{e.deleteObjectStore(va.store),e.createObjectStore(va.store,{keyPath:va.keyPath,autoIncrement:!0}).createIndex(va.userMutationsIndex,va.userMutationsKeyPath,{unique:!0});const r=t.store(va.store),s=n.map(e=>r.put(e));return Pa.waitFor(s)})}(e,s))),i=i.next(()=>{!function(e){e.createObjectStore(Aa.store,{keyPath:Aa.keyPath})}(e)})),n<5&&r>=5&&(i=i.next(()=>this.Ce(s))),n<6&&r>=6&&(i=i.next(()=>(function(e){e.createObjectStore(Ea.store)}(e),this.Ne(s)))),n<7&&r>=7&&(i=i.next(()=>this.xe(s))),n<8&&r>=8&&(i=i.next(()=>this.ke(e,s))),n<9&&r>=9&&(i=i.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Ia.store);t.createIndex(Ia.readTimeIndex,Ia.readTimeIndexPath,{unique:!1}),t.createIndex(Ia.collectionReadTimeIndex,Ia.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(i=i.next(()=>this.$e(s))),n<11&&r>=11&&(i=i.next(()=>{!function(e){e.createObjectStore(xa.store,{keyPath:xa.keyPath})}(e),function(e){e.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(e)})),i}Ne(e){let t=0;return e.store(Ia.store).Kt((e,n)=>{t+=gc(n)}).next(()=>{const n=new Ea(t);return e.store(Ea.store).put(Ea.key,n)})}Ce(e){const t=e.store(ya.store),n=e.store(va.store);return t.Lt().next(t=>Pa.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(va.userMutationsIndex,r).next(n=>Pa.forEach(n,n=>{Vr(n.userId===t.userId);const r=nc(this.N,n);return mc(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Ta.store),n=e.store(Ia.store);return e.store(Ca.store).get(Ca.key).next(e=>{const r=[];return n.Kt((n,s)=>{const i=new cs(n),o=function(e){return[0,ha(e)]}(i);r.push(t.get(o).next(n=>n?Pa.resolve():(n=>t.put(new Ta(0,ha(n),e.highestListenSequenceNumber)))(i)))}).next(()=>Pa.waitFor(r))})}ke(e,t){e.createObjectStore(ka.store,{keyPath:ka.keyPath});const n=t.store(ka.store),r=new uc,s=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ha(r)})}};return t.store(Ia.store).Kt({qt:!0},(e,t)=>{const n=new cs(e);return s(n.popLast())}).next(()=>t.store(wa.store).Kt({qt:!0},([e,t,n],r)=>{const i=pa(t);return s(i.popLast())}))}$e(e){const t=e.store(Sa.store);return t.Kt((e,n)=>{const r=rc(n),s=sc(this.N,r);return t.put(s)})}}function qc(e){e.createObjectStore(Ta.store,{keyPath:Ta.keyPath}).createIndex(Ta.documentTargetsIndex,Ta.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Sa.store,{keyPath:Sa.keyPath}).createIndex(Sa.queryTargetsIndexName,Sa.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ca.store)}const zc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Bc{constructor(e,t,n,r,s,i,o,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=s,this.window=i,this.document=o,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Bc.bt())throw new qr(jr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rc(this,r),this.We=t+"main",this.N=new Ka(a),this.Ge=new $a(this.We,11,new jc(this.N)),this.ze=new Ec(this.referenceDelegate,this.N),this.Ht=new hc,this.He=function(e,t){return new $c(e,t)}(this.N,this.Ht),this.Je=new oc,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qr(jr.FAILED_PRECONDITION,zc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Xr(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gc(e).put(new Aa(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Va(e))return Pr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Hc(e).get(ga.key).next(e=>Pa.resolve(this.cn(e)))}un(e){return Gc(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Ha(e,Aa.store);return t.Lt().next(e=>{const n=this.fn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Pa.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Pa.resolve(!0):Hc(e).get(ga.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new qr(jr.FAILED_PRECONDITION,zc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gc(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Pr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[ga.store,Aa.store],e=>{const t=new Ba(e,Xr.T);return this.on(t).next(()=>this.un(t))}),this.Ge.close(),this.yn()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Gc(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return yc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Pr("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Na,s=>(r=new Ba(s,this.Le?this.Le.next():Xr.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new qr(jr.FAILED_PRECONDITION,Ra);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Hc(e).get(ga.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new qr(jr.FAILED_PRECONDITION,zc)})}an(e){const t=new ga(this.clientId,this.allowTabSynchronization,Date.now());return Hc(e).put(ga.key,t)}static bt(){return $a.bt()}on(e){const t=Hc(e);return t.get(ga.key).next(e=>this.cn(e)?(Pr("IndexedDbPersistence","Releasing primary lease."),t.delete(ga.key)):Pa.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Lr(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,I.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Pr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Lr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hc(e){return Ha(e,ga.store)}function Gc(e){return Ha(e,Aa.store)}function Yc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Wc{constructor(e,t){this.progress=e,this.Tn=t}}class Kc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Es.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):pi(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Es(t)).next(e=>{let t=go();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let s=go();return this.Ht.getCollectionParents(e,r).next(i=>Pa.forEach(i,i=>{const o=function(e,t){return new ai(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}Dn(e,t,n){let r,s;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(s=t,this.Cn(e,s,r).next(e=>{r=e;for(const t of s)for(const e of t.mutations){const n=e.key;let s=r.get(n);null==s&&(s=Us.newInvalidDocument(n),r=r.insert(n,s)),Hi(e,s,t.localWriteTime),s.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{_i(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=bo();for(const i of t)for(const e of i.mutations)e instanceof Xi&&null===n.get(e.key)&&(r=r.add(e.key));let s=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(s=s.insert(e,t))}),s))}}class Xc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=bo(),r=bo();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Xc(e,t.fromCache,n,r)}}class Qc{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(rs.min())?this.Fn(e,t):this.On.Pn(e,r).next(s=>{const i=this.Mn(t,s);return(ui(t)||hi(t))&&this.Ln(t.limitType,i,r,n)?this.Fn(e,t):(Dr()<=_.in.DEBUG&&Pr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bi(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(i.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new uo(Ii(e));return t.forEach((t,r)=>{_i(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fn(e,t){return Dr()<=_.in.DEBUG&&Pr("QueryEngine","Using full collection scan to execute query:",bi(t)),this.On.getDocumentsMatchingQuery(e,t,rs.min())}}class Jc{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new ao(Zr),this.qn=new Pc(e=>zs(e),Bs),this.Kn=rs.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Kc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function Zc(e,t,n,r){return new Jc(e,t,n,r)}async function el(e,t){const n=Ur(e);let r=n.In,s=n.Qn;const i=await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.In.getAllMutationBatches(e).next(o=>(i=o,r=n.persistence.getMutationQueue(t),s=new Kc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=bo();for(const e of i){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return s.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=s,n.Bn.$n(n.Qn),i}function tl(e){const t=Ur(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function nl(e,t,n,r,s){let i=bo();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=po();return n.forEach((n,o)=>{const a=e.get(n),c=(null==s?void 0:s.get(n))||r;o.isNoDocument()&&o.version.isEqual(rs.min())?(t.removeEntry(n,c),i=i.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),i=i.insert(n,o)):Pr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),i})}function rl(e,t){const n=Ur(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function sl(e,t){const n=Ur(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(s=>s?(r=s,Pa.resolve(r)):n.ze.allocateTargetId(e).next(s=>(r=new Wa(t,s,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}async function il(e,t,n){const r=Ur(e),s=r.Un.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Va(e))throw e;Pr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(s.target)}function ol(e,t,n){const r=Ur(e);let s=rs.min(),i=bo();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ur(e),s=r.qn.get(n);return void 0!==s?Pa.resolve(r.Un.get(s)):r.ze.getTargetData(t,n)}(r,e,gi(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?s:rs.min(),n?i:bo())).next(e=>({documents:e,Gn:i})))}function al(e,t){const n=Ur(e),r=Ur(n.ze),s=n.Un.get(t);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function cl(e){const t=Ur(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Ur(e);let s=po(),i=Ja(n);const o=Vc(t),a=IDBKeyRange.lowerBound(i,!0);return o.Kt({index:Ia.readTimeIndex,range:a},(e,t)=>{const n=Xa(r.N,t);s=s.insert(n.key,n),i=t.readTime}).next(()=>({Tn:s,readTime:Za(i)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}async function ll(e,t,n=bo()){const r=await sl(e,gi(ic(t.bundledQuery))),s=Ur(e);return s.persistence.runTransaction("Save named query","readwrite",e=>{const i=Mo(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return s.Je.saveNamedQuery(e,t);const o=r.withResumeToken(ds.EMPTY_BYTE_STRING,i);return s.Un=s.Un.insert(o.targetId,o),s.ze.updateTargetData(e,o).next(()=>s.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>s.ze.addMatchingKeys(e,n,r.targetId)).next(()=>s.Je.saveNamedQuery(e,t))})}class ul{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Pa.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mo(n.createTime)}),Pa.resolve()}getNamedQuery(e,t){return Pa.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:ic(e.bundledQuery),readTime:Mo(e.readTime)}}(t)),Pa.resolve()}}class hl{constructor(){this.Zn=new uo(dl.ts),this.es=new uo(dl.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new dl(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new dl(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Es(new cs([])),n=new dl(t,e),r=new dl(t,e+1),s=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),s.push(e.key)}),s}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Es(new cs([])),n=new dl(t,e),r=new dl(t,e+1);let s=bo();return this.es.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new dl(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dl{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Es.comparator(e.key,t.key)||Zr(e.ls,t.ls)}static ns(e,t){return Zr(e.ls,t.ls)||Es.comparator(e.key,t.key)}}class fl{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new uo(dl.ts)}checkEmpty(e){return Pa.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const s=this.fs;this.fs++;const i=new Ga(s,t,n,r);this.In.push(i);for(const o of r)this.ds=this.ds.add(new dl(o.key,s)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Pa.resolve(i)}lookupMutationBatch(e,t){return Pa.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Pa.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Pa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Pa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dl(t,0),r=new dl(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);s.push(t)}),Pa.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uo(Zr);return t.forEach(e=>{const t=new dl(e,0),r=new dl(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Pa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Es.isDocumentKey(s)||(s=s.child(""));const i=new dl(new Es(s),0);let o=new uo(Zr);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},i),Pa.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Vr(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Pa.forEach(t.mutations,r=>{const s=new dl(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new dl(t,0),r=this.ds.firstAfterOrEqual(n);return Pa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Pa.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class pl{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ao(Es.comparator),this.size=0}addEntry(e,t,n){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pa.resolve(n?n.document.clone():Us.newInvalidDocument(t))}getEntries(e,t){let n=po();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Us.newInvalidDocument(e))}),Pa.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=po();const s=new Es(t.path.child("")),i=this.docs.getIteratorFrom(s);for(;i.hasNext();){const{key:e,value:{document:s,readTime:o}}=i.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||_i(t,s)&&(r=r.insert(s.key,s.clone()))}return Pa.resolve(r)}Es(e,t){return Pa.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ml(this)}getSize(e){return Pa.resolve(this.size)}}class ml extends Lc{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Pa.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class gl{constructor(e){this.persistence=e,this.Ts=new Pc(e=>zs(e),Bs),this.lastRemoteSnapshotVersion=rs.min(),this.highestTargetId=0,this.Is=0,this.As=new hl,this.targetCount=0,this.Rs=Ic.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),Pa.resolve()}getLastRemoteSnapshotVersion(e){return Pa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pa.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Pa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Pa.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Pa.resolve()}updateTargetData(e,t){return this.ae(t),Pa.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Pa.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Ts.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Pa.waitFor(s).next(()=>r)}getTargetCount(e){return Pa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Pa.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Pa.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Pa.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Pa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Pa.resolve(n)}containsKey(e,t){return Pa.resolve(this.As.containsKey(t))}}class yl{constructor(e,t){this.bs={},this.Le=new Xr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new gl(this),this.Ht=new lc,this.He=function(e,t){return new pl(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new Ka(t),this.Je=new ul(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new fl(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Pr("MemoryPersistence","Starting transaction:",e);const r=new vl(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Pa.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class vl extends Da{constructor(e){super(),this.currentSequenceNumber=e}}class wl{constructor(e){this.persistence=e,this.Ds=new hl,this.Cs=null}static Ns(e){return new wl(e)}get xs(){if(this.Cs)return this.Cs;throw Mr()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Pa.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Pa.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Pa.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pa.forEach(this.xs,n=>{const r=Es.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Pa.or([()=>Pa.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function bl(e,t){return`firestore_clients_${e}_${t}`}function _l(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Il(e,t){return`firestore_targets_${e}_${t}`}class El{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let s,i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code,i&&(s=new qr(r.error.code,r.error.message))),i?new El(e,t,r.state,s):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sl{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(r=new qr(n.error.code,n.error.message))),s?new Sl(e,n.state,r):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,s=Io();for(let i=0;r&&i<n.activeTargetIds.length;++i)r=Is(n.activeTargetIds[i]),s=s.add(n.activeTargetIds[i]);return r?new Tl(e,s):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Cl{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Cl(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kl{constructor(){this.activeTargetIds=Io()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Al{constructor(e,t,n,r,s){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ao(Zr),this.started=!1,this.Ks=[];const i=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.js=bl(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new kl),this.Ws=new RegExp(`^firestore_clients_${i}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${i}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${i}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const n of e){if(n===this.Ls)continue;const e=this.getItem(bl(this.persistenceKey,n));if(e){const t=Tl.$s(n,e);t&&(this.qs=this.qs.insert(t.clientId,t))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const n of this.Ks)this.Us(n);this.Ks=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Il(this.persistenceKey,e));if(n){const r=Sl.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Il(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pr("SharedClientState","READ",e,t),t}setItem(e,t){Pr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Pr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=Xr.T;if(null!=e)try{const n=JSON.parse(e);Vr("number"==typeof n),t=n}catch(e){Lr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Xr.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)})}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new El(this.currentUser,e,t,n),s=_l(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Os())}ni(e){const t=_l(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Il(this.persistenceKey,e),s=new Sl(e,t,n);this.setItem(r,s.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Tl.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return El.$s(new Or(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Sl.$s(r,t)}Xs(e){return Cl.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Pr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),s=this.ti(n),i=[],o=[];return s.forEach(e=>{r.has(e)||i.push(e)}),r.forEach(e=>{s.has(e)||o.push(e)}),this.syncEngine.gi(i,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Io();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class xl{constructor(){this.yi=new kl,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new kl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Ol{Ei(e){}shutdown(){}}class Nl{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Pr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Pr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Rl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dl{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Pl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const s=this.Bi(e,t);Pr("RestConnection","Sending: ",s,n);const i={};return this.Ui(i,r),this.qi(e,s,i,n).then(e=>(Pr("RestConnection","Received: ",e),e),t=>{throw $r("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Nr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Rl[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((s,i)=>{const o=new xr;o.listenOnce(Sr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Er.NO_ERROR:const t=o.getResponseJson();Pr("Connection","XHR received:",JSON.stringify(t)),s(t);break;case Er.TIMEOUT:Pr("Connection",'RPC "'+e+'" timed out'),i(new qr(jr.DEADLINE_EXCEEDED,"Request time out"));break;case Er.HTTP_ERROR:const n=o.getStatus();if(Pr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jr).indexOf(t)>=0?t:jr.UNKNOWN}(e.status);i(new qr(t,e.message))}else i(new qr(jr.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new qr(jr.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{Pr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=_r(),s=Ir(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(i.xmlHttpFactory=new kr({})),this.Ui(i.initMessageHeaders,t),(0,I.uI)()||(0,I.b$)()||(0,I.d)()||(0,I.w1)()||(0,I.Mn)()||(0,I.ru)()||(i.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Pr("Connection","Creating WebChannel: "+o,i);const a=r.createWebChannel(o,i);let c=!1,l=!1;const u=new Dl({vi:e=>{l?Pr("Connection","Not sending because WebChannel is closed:",e):(c||(Pr("Connection","Opening WebChannel transport."),a.open(),c=!0),Pr("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Ar.EventType.OPEN,()=>{l||Pr("Connection","WebChannel transport opened.")}),h(a,Ar.EventType.CLOSE,()=>{l||(l=!0,Pr("Connection","WebChannel transport closed"),u.$i())}),h(a,Ar.EventType.ERROR,e=>{l||(l=!0,$r("Connection","WebChannel transport errored:",e),u.$i(new qr(jr.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ar.EventType.MESSAGE,e=>{var t;if(!l){const n=e.data[0];Vr(!!n);const r=n,s=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(s){Pr("Connection","WebChannel received error:",s);const e=s.status;let t=function(e){const t=ro[e];if(void 0!==t)return oo(t)}(e),n=s.message;void 0===t&&(t=jr.INTERNAL,n="Unknown error status: "+e+" with message "+s.message),l=!0,u.$i(new qr(t,n)),a.close()}else Pr("Connection","WebChannel received:",n),u.Oi(n)}}),h(s,Tr.STAT_EVENT,e=>{e.stat===Cr.PROXY?Pr("Connection","Detected buffering proxy"):e.stat===Cr.NOPROXY&&Pr("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function Ll(){return"undefined"!=typeof window?window:null}function $l(){return"undefined"!=typeof document?document:null}function Fl(e){return new Po(e,!0)}class Ml{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=s,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Pr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Vl{constructor(e,t,n,r,s,i){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=s,this.listener=i,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Ml(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===jr.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===jr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new qr(jr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){this.state=4,this.rr.Xi(async()=>{this.state=0,this.start()})}pr(e){return Pr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Pr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ul extends Vl{constructor(e,t,n,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,s),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.D?(Vr(void 0===t||"string"==typeof t),ds.fromBase64String(t||"")):(Vr(void 0===t||t instanceof Uint8Array),ds.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?jr.UNKNOWN:oo(e.code);return new qr(t,e.message||"")}(o);n=new ko(r,s,i,a||null)}else if("documentChange"in t){const r=t.documentChange,s=qo(e,r.document.name),i=Mo(r.document.updateTime),o=new Ms({mapValue:{fields:r.document.fields}}),a=Us.newFoundDocument(s,i,o);n=new To(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,s=qo(e,r.document),i=r.readTime?Mo(r.readTime):rs.min(),o=Us.newNoDocument(s,i);n=new To([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,s=qo(e,r.document);n=new To([],r.removedTargetIds||[],s,null)}else{if(!("filter"in t))return Mr();{const e=t.filter,r=new no(e.count||0);n=new Co(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return rs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rs.min():t.readTime?Mo(t.readTime):rs.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Ho(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Hs(r)?{documents:Qo(e,r)}:{query:Jo(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=$o(e,t.resumeToken):t.snapshotVersion.compareTo(rs.min())>0&&(n.readTime=Lo(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Ho(this.N),t.removeTarget=e,this.wr(t)}}class jl extends Vl{constructor(e,t,n,r,s){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,s),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Vr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Vr(void 0!==t),e.map(e=>function(e,t){let n=Mo(e.updateTime?e.updateTime:t);return n.isEqual(rs.min())&&(n=Mo(t)),new Ui(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Mo(e.commitTime);return this.listener.vr(n,t)}return Vr(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Ho(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ko(this.N,e))};this.wr(t)}}class ql extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new qr(jr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new qr(jr.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new qr(jr.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class zl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Lr(t),this.$r=!1):Pr("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Bl{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=s,this.Qr.Ei(e=>{n.enqueueAndForget(async()=>{Zl(this)&&(Pr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ur(e);t.Kr.add(4),await Gl(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Hl(t)}(this))})}),this.Wr=new zl(n,r)}}async function Hl(e){if(Zl(e))for(const t of e.jr)await t(!0)}async function Gl(e){for(const t of e.jr)await t(!1)}function Yl(e,t){const n=Ur(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Jl(n)?Ql(n):gu(n).cr()&&Kl(n,t))}function Wl(e,t){const n=Ur(e),r=gu(n);n.qr.delete(t),r.cr()&&Xl(n,t),0===n.qr.size&&(r.cr()?r.lr():Zl(n)&&n.Wr.set("Unknown"))}function Kl(e,t){e.Gr.Y(t.targetId),gu(e).Ir(t)}function Xl(e,t){e.Gr.Y(t),gu(e).Ar(t)}function Ql(e){e.Gr=new xo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),gu(e).start(),e.Wr.Or()}function Jl(e){return Zl(e)&&!gu(e).ar()&&e.qr.size>0}function Zl(e){return 0===Ur(e).Kr.size}function eu(e){e.Gr=void 0}async function tu(e){e.qr.forEach((t,n)=>{Kl(e,t)})}async function nu(e,t){eu(e),Jl(e)?(e.Wr.Lr(t),Ql(e)):e.Wr.set("Unknown")}async function ru(e,t,n){if(e.Wr.set("Online"),t instanceof ko&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Pr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await su(e,n)}else if(t instanceof To?e.Gr.rt(t):t instanceof Co?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(rs.min()))try{const t=await tl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.qr.get(r);s&&e.qr.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(ds.EMPTY_BYTE_STRING,n.snapshotVersion)),Xl(e,t);const r=new Wa(n.target,t,1,n.sequenceNumber);Kl(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Pr("RemoteStore","Failed to raise snapshot:",t),await su(e,t)}}async function su(e,t,n){if(!Va(t))throw t;e.Kr.add(1),await Gl(e),e.Wr.set("Offline"),n||(n=()=>tl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Pr("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Hl(e)})}function iu(e,t){return t().catch(n=>su(e,n,t))}async function ou(e){const t=Ur(e),n=yu(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;au(t);)try{const e=await rl(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,cu(t,e)}catch(e){await su(t,e)}lu(t)&&uu(t)}function au(e){return Zl(e)&&e.Ur.length<10}function cu(e,t){e.Ur.push(t);const n=yu(e);n.cr()&&n.br&&n.Pr(t.mutations)}function lu(e){return Zl(e)&&!yu(e).ar()&&e.Ur.length>0}function uu(e){yu(e).start()}async function hu(e){yu(e).Sr()}async function du(e){const t=yu(e);for(const n of e.Ur)t.Pr(n.mutations)}async function fu(e,t,n){const r=e.Ur.shift(),s=Ya.from(r,t,n);await iu(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await ou(e)}async function pu(e,t){t&&yu(e).br&&await async function(e,t){if(io(n=t.code)&&n!==jr.ABORTED){const n=e.Ur.shift();yu(e).hr(),await iu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ou(e)}var n}(e,t),lu(e)&&uu(e)}async function mu(e,t){const n=Ur(e);t?(n.Kr.delete(2),await Hl(n)):t||(n.Kr.add(2),await Gl(n),n.Wr.set("Unknown"))}function gu(e){return e.zr||(e.zr=function(e,t,n){const r=Ur(e);return r.Cr(),new Ul(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:tu.bind(null,e),Ci:nu.bind(null,e),Tr:ru.bind(null,e)}),e.jr.push(async t=>{t?(e.zr.hr(),Jl(e)?Ql(e):e.Wr.set("Unknown")):(await e.zr.stop(),eu(e))})),e.zr}function yu(e){return e.Hr||(e.Hr=function(e,t,n){const r=Ur(e);return r.Cr(),new jl(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:hu.bind(null,e),Ci:pu.bind(null,e),Vr:du.bind(null,e),vr:fu.bind(null,e)}),e.jr.push(async t=>{t?(e.Hr.hr(),await ou(e)):(await e.Hr.stop(),e.Ur.length>0&&(Pr("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))})),e.Hr}class vu{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new vu(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qr(jr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(e,t){if(Lr("AsyncQueue",`${t}: ${e}`),Va(e))return new qr(jr.UNAVAILABLE,`${t}: ${e}`);throw e}class bu{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Es.comparator(t.key,n.key):(e,t)=>Es.comparator(e.key,t.key),this.keyedMap=go(),this.sortedSet=new ao(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _u{constructor(){this.Jr=new ao(Es.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Mr():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Iu{constructor(e,t,n,r,s,i,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Iu(e,t,bu.emptySet(t),s,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Eu{constructor(){this.Xr=void 0,this.listeners=[]}}class Su{constructor(){this.queries=new Pc(e=>wi(e),vi),this.onlineState="Unknown",this.Zr=new Set}}async function Tu(e,t){const n=Ur(e),r=t.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new Eu),s)try{i.Xr=await n.onListen(r)}catch(e){const n=wu(e,`Initialization of query '${bi(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,i),i.listeners.push(t),t.eo(n.onlineState),i.Xr&&t.no(i.Xr)&&xu(n)}async function Cu(e,t){const n=Ur(e),r=t.query;let s=!1;const i=n.queries.get(r);if(i){const e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function ku(e,t){const n=Ur(e);let r=!1;for(const s of t){const e=n.queries.get(s.query);if(e){for(const t of e.listeners)t.no(s)&&(r=!0);e.Xr=s}}r&&xu(n)}function Au(e,t,n){const r=Ur(e),s=r.queries.get(t);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(t)}function xu(e){e.Zr.forEach(e=>{e.next()})}class Ou{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Iu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Nu{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Ru{constructor(e){this.N=e}zn(e){return qo(this.N,e)}Hn(e){return e.metadata.exists?Wo(this.N,e.document,!1):Us.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Mo(e)}}class Du{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Pu(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Ru(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||bo()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const s=Ur(e);let i=bo(),o=po(),a=vo();for(const u of n){const e=t.zn(u.metadata.name);u.document&&(i=i.add(e)),o=o.insert(e,t.Hn(u)),a=a.insert(e,t.Jn(u.metadata.readTime))}const c=s.jn.newChangeBuffer({trackRemovals:!0}),l=await sl(s,function(e){return gi(li(cs.fromString(`__bundle__/docs/${e}`)))}(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",e=>nl(e,c,o,rs.min(),a).next(t=>(c.apply(e),t)).next(t=>s.ze.removeMatchingKeysForTargetId(e,l.targetId).next(()=>s.ze.addMatchingKeys(e,i,l.targetId)).next(()=>s.Qn.vn(e,t)).next(()=>t)))}(this.localStore,new Ru(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const n of this.queries)await ll(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new Wc(Object.assign({},this.progress),e)}}function Pu(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Lu{constructor(e){this.key=e}}class $u{constructor(e){this.key=e}}class Fu{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=bo(),this.mutatedKeys=bo(),this.po=Ii(e),this.Eo=new bu(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new _u,r=t?t.Eo:this.Eo;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a=ui(this.query)&&r.size===this.query.limit?r.last():null,c=hi(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=_i(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ro(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.po(u,a)>0||c&&this.po(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(i=i.add(u),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),ui(this.query)||hi(this.query))for(;i.size>this.query.limit;){const e=ui(this.query)?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Eo:i,Ao:n,Ln:o,mutatedKeys:s}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const s=e.Ao.Yr();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const i=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==s.length||a?{snapshot:new Iu(this.query,e.Eo,r,s,e.mutatedKeys,0===o,a,!1),vo:i}:{vo:i}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new _u,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=bo(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new $u(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new Lu(n))}),t}So(e){this._o=e.Gn,this.yo=bo();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Iu.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Mu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Vu{constructor(e){this.key=e,this.Co=!1}}class Uu{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.No={},this.xo=new Pc(e=>wi(e),vi),this.ko=new Map,this.$o=new Set,this.Oo=new ao(Es.comparator),this.Fo=new Map,this.Mo=new hl,this.Lo={},this.Bo=new Map,this.Uo=Ic.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function ju(e,t){const n=fh(e);let r,s;const i=n.xo.get(t);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Do();else{const e=await sl(n.localStore,gi(t)),i=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,s=await qu(n,t,r,"current"===i),n.isPrimaryClient&&Yl(n.remoteStore,e)}return s}async function qu(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let s=t.view.Io(n);s.Ln&&(s=await ol(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,s)));const i=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i);return Zu(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const s=await ol(e.localStore,t,!0),i=new Fu(t,s.Gn),o=i.Io(s.documents),a=So.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=i.applyChanges(o,e.isPrimaryClient,a);Zu(e,n,c.vo);const l=new Mu(t,n,i);return e.xo.set(t,l),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),c.snapshot}async function zu(e,t){const n=Ur(e),r=n.xo.get(t),s=n.ko.get(r.targetId);if(s.length>1)return n.ko.set(r.targetId,s.filter(e=>!vi(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await il(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wl(n.remoteStore,r.targetId),Qu(n,r.targetId)}).catch(kc)):(Qu(n,r.targetId),await il(n.localStore,r.targetId,!0))}async function Bu(e,t){const n=Ur(e);try{const e=await function(e,t){const n=Ur(e),r=t.snapshotVersion;let s=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.jn.newChangeBuffer({trackRemovals:!0});s=n.Un;const o=[];t.targetChanges.forEach((t,i)=>{const a=s.get(i);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,i).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,i)));const c=t.resumeToken;if(c.approximateByteSize()>0){const l=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);s=s.insert(i,l),function(e,t,n){return Vr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&o.push(n.ze.updateTargetData(e,l))}});let a=po();if(t.documentUpdates.forEach((r,s)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(nl(e,i,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(rs.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Pa.waitFor(o).next(()=>i.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(Vr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Vr(r.Co):e.removedDocuments.size>0&&(Vr(r.Co),r.Co=!1))}),await nh(n,e,t)}catch(e){await kc(e)}}function Hu(e,t,n){const r=Ur(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const s=r.view.eo(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Ur(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.listeners)s.eo(t)&&(r=!0)}),r&&xu(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gu(e,t,n){const r=Ur(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Fo.get(t),i=s&&s.key;if(i){let e=new ao(Es.comparator);e=e.insert(i,Us.newNoDocument(i,rs.min()));const n=bo().add(i),s=new Eo(rs.min(),new Map,new uo(Zr),e,n);await Bu(r,s),r.Oo=r.Oo.remove(i),r.Fo.delete(t),th(r)}else await il(r.localStore,t,!1).then(()=>Qu(r,t,n)).catch(kc)}async function Yu(e,t){const n=Ur(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=Pa.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Vr(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(n.localStore,t);Xu(n,r,null),Ku(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nh(n,e)}catch(e){await kc(e)}}async function Wu(e,t,n){const r=Ur(e);try{const e=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Vr(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Xu(r,t,n),Ku(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await nh(r,e)}catch(n){await kc(n)}}function Ku(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function Xu(e,t,n){const r=Ur(e);let s=r.Lo[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Lo[r.currentUser.toKey()]=s}}function Qu(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||Ju(e,t)})}function Ju(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Wl(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),th(e))}function Zu(e,t,n){for(const r of n)r instanceof Lu?(e.Mo.addReference(r.key,t),eh(e,r)):r instanceof $u?(Pr("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||Ju(e,r.key)):Mr()}function eh(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Pr("SyncEngine","New document in limbo: "+n),e.$o.add(r),th(e))}function th(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Es(cs.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Vu(n)),e.Oo=e.Oo.insert(n,r),Yl(e.remoteStore,new Wa(gi(li(n.path)),r,2,Xr.T))}}async function nh(e,t,n){const r=Ur(e),s=[],i=[],o=[];r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),s.push(e);const t=Xc.kn(a.targetId,e);i.push(t)}}))}),await Promise.all(o),r.No.Tr(s),await async function(e,t){const n=Ur(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Pa.forEach(t,t=>Pa.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Pa.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Va(e))throw e;Pr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}(r.localStore,i))}async function rh(e,t){const n=Ur(e);if(!n.currentUser.isEqual(t)){Pr("SyncEngine","User change. New user:",t.toKey());const e=await el(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new qr(jr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await nh(n,e.Wn)}}function sh(e,t){const n=Ur(e),r=n.Fo.get(t);if(r&&r.Co)return bo().add(r.key);{let e=bo();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function ih(e,t){const n=Ur(e),r=await ol(n.localStore,t.query,!0),s=t.view.So(r);return n.isPrimaryClient&&Zu(n,t.targetId,s.vo),s}async function oh(e){const t=Ur(e);return cl(t.localStore).then(e=>nh(t,e))}async function ah(e,t,n,r){const s=Ur(e),i=await function(e,t){const n=Ur(e),r=Ur(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Pa.resolve(null)))}(s.localStore,t);null!==i?("pending"===n?await ou(s.remoteStore):"acknowledged"===n||"rejected"===n?(Xu(s,t,r||null),Ku(s,t),function(e,t){Ur(Ur(e).In).te(t)}(s.localStore,t)):Mr(),await nh(s,i)):Pr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function ch(e,t,n){const r=Ur(e),s=[],i=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=await sl(r.localStore,gi(t[0]));for(const e of t){const t=r.xo.get(e),n=await ih(r,t);n.snapshot&&i.push(n.snapshot)}}else{const t=await al(r.localStore,o);e=await sl(r.localStore,t),await qu(r,lh(t),o,!1)}s.push(e)}return r.No.Tr(i),s}function lh(e){return ci(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uh(e){const t=Ur(e);return Ur(Ur(t.localStore).persistence).pn()}async function hh(e,t,n,r){const s=Ur(e);if(s.qo)Pr("SyncEngine","Ignoring unexpected query state notification.");else if(s.ko.has(t))switch(n){case"current":case"not-current":{const e=await cl(s.localStore),r=Eo.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await nh(s,e,r);break}case"rejected":await il(s.localStore,t,!0),Qu(s,t,r);break;default:Mr()}}async function dh(e,t,n){const r=fh(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Pr("SyncEngine","Adding an already active target "+e);continue}const t=await al(r.localStore,e),n=await sl(r.localStore,t);await qu(r,lh(t),n.targetId,!1),Yl(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await il(r.localStore,e,!1).then(()=>{Wl(r.remoteStore,e),Qu(r,e)}).catch(kc)}}function fh(e){const t=Ur(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gu.bind(null,t),t.No.Tr=ku.bind(null,t.eventManager),t.No.jo=Au.bind(null,t.eventManager),t}function ph(e){const t=Ur(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wu.bind(null,t),t}class mh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=Fl(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return Zc(this.persistence,new Qc,e.initialUser,this.N)}Go(e){return new yl(wl.Ns,this.N)}Wo(e){return new xl}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gh extends mh{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Ur(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Vc(e);let n=rs.min();return t.Kt({index:Ia.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=Za(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})}(this.localStore),await this.Jo.initialize(this,e),await ph(this.Jo.syncEngine),await ou(this.Jo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Ho(e){return Zc(this.persistence,new Qc,e.initialUser,this.N)}zo(e){return new Oc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Yc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?pc.withCacheSize(this.cacheSizeBytes):pc.DEFAULT;return new Bc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ll(),$l(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new xl}}class yh extends gh{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Al&&(this.sharedClientState.syncEngine={_i:ah.bind(null,t),mi:hh.bind(null,t),gi:dh.bind(null,t),pn:uh.bind(null,t),wi:oh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn(async e=>{await async function(e,t){const n=Ur(e);if(fh(n),ph(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await ch(n,e.toArray());n.qo=!0,await mu(n.remoteStore,!0);for(const r of t)Yl(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,s)=>{n.sharedClientState.isLocalQueryTarget(s)?e.push(s):t=t.then(()=>(Qu(n,s),il(n.localStore,s,!0))),Wl(n.remoteStore,s)}),await t,await ch(n,e),function(e){const t=Ur(e);t.Fo.forEach((e,n)=>{Wl(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new ao(Es.comparator)}(n),n.qo=!1,await mu(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Wo(e){const t=Ll();if(!Al.bt(t))throw new qr(jr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Yc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Al(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class vh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=rh.bind(null,this.syncEngine),await mu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Su}createDatastore(e){const t=Fl(e.databaseInfo.databaseId),n=new Pl(e.databaseInfo);return function(e,t,n){return new ql(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,s=e=>Hu(this.syncEngine,e,0),i=Nl.bt()?new Nl:new Ol,new Bl(t,n,r,s,i);var t,n,r,s,i}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new Uu(e,t,n,r,s,i);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ur(e);Pr("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Gl(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function wh(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class bh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _h{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new zr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Nu(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async na(){for(;this.ra()<0&&!(await this.oa()););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ih{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qr(jr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ur(e),r=Ho(n.N)+"/documents",s={documents:t.map(e=>jo(n.N,e))},i=await n.Ki("BatchGetDocuments",r,s),o=new Map;i.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Vr(!!t.found);const n=qo(e,t.found.name),r=Mo(t.found.updateTime),s=new Ms({mapValue:{fields:t.found.fields}});return Us.newFoundDocument(n,r,s)}(e,t):"missing"in t?function(e,t){Vr(!!t.missing),Vr(!!t.readTime);const n=qo(e,t.missing),r=Mo(t.readTime);return Us.newNoDocument(n,r)}(e,t):Mr()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Vr(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new eo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=Es.fromPath(t);this.mutations.push(new to(n,this.precondition(n)))}),await async function(e,t){const n=Ur(e),r=Ho(n.N)+"/documents",s={writes:t.map(e=>Ko(n.N,e))};await n.Li("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mr();t=rs.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qr(jr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ji.updateTime(t):ji.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rs.min()))throw new qr(jr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ji.updateTime(t)}return ji.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eh{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Ml(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi(async()=>{const e=new Ih(this.datastore),t=this.ua(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.ha(e)}))}).catch(e=>{this.ha(e)})})}ua(e){try{const t=this.updateFunction(e);return!bs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!io(t)}return!1}}class Sh{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Or.UNAUTHENTICATED,this.clientId=Jr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,async e=>{Pr("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qr(jr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=wu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Th(e,t){e.asyncQueue.verifyOperationInProgress(),Pr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await el(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function Ch(e,t){e.asyncQueue.verifyOperationInProgress();const n=await kh(e);Pr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=Ur(e);n.asyncQueue.verifyOperationInProgress(),Pr("RemoteStore","RemoteStore received new credentials");const r=Zl(n);n.Kr.add(3),await Gl(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Hl(n)}(t.remoteStore,e)),e.onlineComponents=t}async function kh(e){return e.offlineComponents||(Pr("FirestoreClient","Using default OfflineComponentProvider"),await Th(e,new mh)),e.offlineComponents}async function Ah(e){return e.onlineComponents||(Pr("FirestoreClient","Using default OnlineComponentProvider"),await Ch(e,new vh)),e.onlineComponents}function xh(e){return kh(e).then(e=>e.persistence)}function Oh(e){return kh(e).then(e=>e.localStore)}function Nh(e){return Ah(e).then(e=>e.remoteStore)}function Rh(e){return Ah(e).then(e=>e.syncEngine)}async function Dh(e){const t=await Ah(e),n=t.eventManager;return n.onListen=ju.bind(null,t.syncEngine),n.onUnlisten=zu.bind(null,t.syncEngine),n}function Ph(e,t,n={}){const r=new zr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new bh({next:i=>{t.enqueueAndForget(()=>Cu(e,o));const a=i.docs.has(n);!a&&i.fromCache?s.reject(new qr(jr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&i.fromCache&&r&&"server"===r.source?s.reject(new qr(jr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(i)},error:e=>s.reject(e)}),o=new Ou(li(n.path),i,{includeMetadataChanges:!0,uo:!0});return Tu(e,o)}(await Dh(e),e.asyncQueue,t,n,r)),r.promise}function Lh(e,t,n={}){const r=new zr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new bh({next:n=>{t.enqueueAndForget(()=>Cu(e,o)),n.fromCache&&"server"===r.source?s.reject(new qr(jr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),o=new Ou(n,i,{includeMetadataChanges:!0,uo:!0});return Tu(e,o)}(await Dh(e),e.asyncQueue,t,n,r)),r.promise}class $h{constructor(e,t,n,r,s,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Fh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}const Mh=new Map;function Vh(e,t,n){if(!n)throw new qr(jr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Uh(e,t,n,r){if(!0===t&&!0===r)throw new qr(jr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function jh(e){if(!Es.isDocumentKey(e))throw new qr(jr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qh(e){if(Es.isDocumentKey(e))throw new qr(jr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Mr()}function Bh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qr(jr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(e);throw new qr(jr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Hh(e,t){if(t<=0)throw new qr(jr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Gh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qr(jr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qr(jr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gh({}),this._settingsFrozen=!1,e instanceof Fh?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qr(jr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(e.options.projectId)}(e))}get app(){if(!this._app)throw new qr(jr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qr(jr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Hr;switch(e.type){case"gapi":const t=e.client;return Vr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Kr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new qr(jr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Mh.get(e);t&&(Pr("ComponentProvider","Removing Datastore"),Mh.delete(e),t.terminate())}(this),Promise.resolve()}}class Wh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wh(this.firestore,e,this._key)}}class Kh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Kh(this.firestore,e,this._query)}}class Xh extends Kh{constructor(e,t,n){super(e,t,li(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wh(this.firestore,null,new Es(e))}withConverter(e){return new Xh(this.firestore,e,this._path)}}function Qh(e,t,...n){if(e=(0,I.m9)(e),Vh("collection","path",t),e instanceof Yh){const r=cs.fromString(t,...n);return qh(r),new Xh(e,null,r)}{if(!(e instanceof Wh||e instanceof Xh))throw new qr(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(cs.fromString(t,...n));return qh(r),new Xh(e.firestore,null,r)}}function Jh(e,t,...n){if(e=(0,I.m9)(e),1===arguments.length&&(t=Jr.I()),Vh("doc","path",t),e instanceof Yh){const r=cs.fromString(t,...n);return jh(r),new Wh(e,null,new Es(r))}{if(!(e instanceof Wh||e instanceof Xh))throw new qr(jr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(cs.fromString(t,...n));return jh(r),new Wh(e.firestore,e instanceof Xh?e.converter:null,new Es(r))}}function Zh(e,t){return e=(0,I.m9)(e),t=(0,I.m9)(t),(e instanceof Wh||e instanceof Xh)&&(t instanceof Wh||t instanceof Xh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ed(e,t){return e=(0,I.m9)(e),t=(0,I.m9)(t),e instanceof Kh&&t instanceof Kh&&e.firestore===t.firestore&&vi(e._query,t._query)&&e.converter===t.converter}class td{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Ml(this,"async_queue_retry"),this.Ea=()=>{const e=$l();e&&Pr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=$l();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=$l();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new zr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!Va(e))throw e;Pr("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi(()=>this.Aa())}}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=vu.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&Mr()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function nd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class rd{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sd extends Yh{constructor(e,t){super(e,t),this.type="firestore",this._queue=new td,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||od(this),this._firestoreClient.terminate()}}function id(e){return e._firestoreClient||od(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function od(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new $h(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Sh(e._credentials,e._queue,r)}function ad(e,t,n){const r=new zr;return e.asyncQueue.enqueue(async()=>{try{await Th(e,n),await Ch(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===jr.FAILED_PRECONDITION||e.code===jr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function cd(e){if(e._initialized||e._terminated)throw new qr(jr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qr(jr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ud{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ud(ds.fromBase64String(e))}catch(e){throw new qr(jr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ud(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(e){this._methodName=e}}class dd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qr(jr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qr(jr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zr(this._lat,e._lat)||Zr(this._long,e._long)}}const fd=/^__.*__$/;class pd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ki(e,this.data,t,this.fieldTransforms)}}class md{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mr()}}class yd{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Sa(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Fd(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(gd(this.Da)&&fd.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class vd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Fl(e)}Ba(e,t,n,r=!1){return new yd({Da:e,methodName:t,La:n,path:us.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function wd(e){const t=e._freezeSettings(),n=Fl(e._databaseId);return new vd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bd(e,t,n,r,s,i={}){const o=e.Ba(i.merge||i.mergeFields?2:0,t,n,s);Dd("Data must be an object, but it was:",o,r);const a=Nd(r,o);let c,l;if(i.merge)c=new hs(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Pd(t,r,n);if(!o.contains(s))throw new qr(jr.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Md(e,s)||e.push(s)}c=new hs(e),l=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=o.fieldTransforms;return new pd(new Ms(a),c,l)}class _d extends hd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function Id(e,t,n){return new yd({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Ed extends hd{_toFieldTransform(e){return new Vi(e.path,new Ni)}isEqual(e){return e instanceof Ed}}class Sd extends hd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Id(this,e,!0),n=this.Ua.map(e=>Od(e,t)),r=new Ri(n);return new Vi(e.path,r)}isEqual(e){return this===e}}class Td extends hd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Id(this,e,!0),n=this.Ua.map(e=>Od(e,t)),r=new Pi(n);return new Vi(e.path,r)}isEqual(e){return this===e}}class Cd extends hd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new $i(e.N,Ci(e.N,this.qa));return new Vi(e.path,t)}isEqual(e){return this===e}}function kd(e,t,n,r){const s=e.Ba(1,t,n);Dd("Data must be an object, but it was:",s,r);const i=[],o=Ms.empty();is(r,(e,r)=>{const a=$d(t,e,n);r=(0,I.m9)(r);const c=s.$a(a);if(r instanceof _d)i.push(a);else{const e=Od(r,c);null!=e&&(i.push(a),o.set(a,e))}});const a=new hs(i);return new md(o,a,s.fieldTransforms)}function Ad(e,t,n,r,s,i){const o=e.Ba(1,t,n),a=[Pd(t,r,n)],c=[s];if(i.length%2!=0)throw new qr(jr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)a.push(Pd(t,i[d])),c.push(i[d+1]);const l=[],u=Ms.empty();for(let d=a.length-1;d>=0;--d)if(!Md(l,a[d])){const e=a[d];let t=c[d];t=(0,I.m9)(t);const n=o.$a(e);if(t instanceof _d)l.push(e);else{const r=Od(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new hs(l);return new md(u,h,o.fieldTransforms)}function xd(e,t,n,r=!1){return Od(n,e.Ba(r?4:3,t))}function Od(e,t){if(Rd(e=(0,I.m9)(e)))return Dd("Unsupported field value:",t,e),Nd(e,t);if(e instanceof hd)return function(e,t){if(!gd(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Od(s,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,I.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ci(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ns.fromDate(e);return{timestampValue:Lo(t.N,n)}}if(e instanceof ns){const n=new ns(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lo(t.N,n)}}if(e instanceof dd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ud)return{bytesValue:$o(t.N,e._byteString)};if(e instanceof Wh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Vo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${zh(e)}`)}(e,t)}function Nd(e,t){const n={};return os(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,(e,r)=>{const s=Od(r,t.Na(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Rd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ns||e instanceof dd||e instanceof ud||e instanceof Wh||e instanceof hd)}function Dd(e,t,n){if(!Rd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zh(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function Pd(e,t,n){if((t=(0,I.m9)(t))instanceof ld)return t._internalPath;if("string"==typeof t)return $d(e,t);throw Fd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Ld=new RegExp("[~\\*/\\[\\]]");function $d(e,t,n){if(t.search(Ld)>=0)throw Fd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ld(...t.split("."))._internalPath}catch(r){throw Fd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fd(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new qr(jr.INVALID_ARGUMENT,a+e+c)}function Md(e,t){return e.some(e=>e.isEqual(t))}class Vd{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ud extends Vd{data(){return super.data()}}function jd(e,t){return"string"==typeof t?$d(e,t):t instanceof ld?t._internalPath:t._delegate._internalPath}class qd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zd extends Vd{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bd extends zd{data(e={}){return super.data(e)}}class Hd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bd(this._firestore,this._userDataWriter,n.key,n,new qd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qr(jr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Bd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Bd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Gd(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}function Yd(e,t){return e instanceof zd&&t instanceof zd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hd&&t instanceof Hd&&e._firestore===t._firestore&&ed(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Wd(e){if(hi(e)&&0===e.explicitOrderBy.length)throw new qr(jr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kd{}function Xd(e,...t){for(const n of t)e=n._apply(e);return e}class Qd extends Kd{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=wd(e.firestore),n=function(e,t,n,r,s,i,o){let a;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new qr(jr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on FieldPath.documentId().`);if("in"===i||"not-in"===i){sf(o,i);const t=[];for(const n of o)t.push(rf(r,e,n));a={arrayValue:{values:t}}}else a=rf(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||sf(o,i),a=xd(n,"where",o,"in"===i||"not-in"===i);const c=Gs.create(s,i,a);return function(e,t){if(t.v()){const n=fi(e);if(null!==n&&!n.isEqual(t.field))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=di(e);null!==r&&of(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new qr(jr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Kh(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Jd extends Kd{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new qr(jr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qr(jr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ri(t,n);return function(e,t){if(null===di(e)){const n=fi(e);null!==n&&of(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Kh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ai(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Zd extends Kd{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Kh(e.firestore,e.converter,yi(e._query,this.Ga,this.za))}}class ef extends Kd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=nf(e,this.type,this.Ha,this.Ja);return new Kh(e.firestore,e.converter,function(e,t){return new ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class tf extends Kd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=nf(e,this.type,this.Ha,this.Ja);return new Kh(e.firestore,e.converter,function(e,t){return new ai(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function nf(e,t,n,r){if(n[0]=(0,I.m9)(n[0]),n[0]instanceof Vd)return function(e,t,n,r,s){if(!r)throw new qr(jr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const o of mi(e))if(o.field.isKeyField())i.push(Ns(t,r.key));else{const e=r.data.field(o.field);if(ys(e))throw new qr(jr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new qr(jr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}i.push(e)}return new ti(i,s)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const s=wd(e.firestore);return function(e,t,n,r,s,i){const o=e.explicitOrderBy;if(s.length>o.length)throw new qr(jr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<s.length;c++){const i=s[c];if(o[c].field.isKeyField()){if("string"!=typeof i)throw new qr(jr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof i}`);if(!pi(e)&&-1!==i.indexOf("/"))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${i}' contains a slash.`);const n=e.path.child(cs.fromString(i));if(!Es.isDocumentKey(n))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new Es(n);a.push(Ns(t,s))}else{const e=xd(n,r,i);a.push(e)}}return new ti(a,i)}(e._query,e.firestore._databaseId,s,t,n,r)}}function rf(e,t,n){if("string"==typeof(n=(0,I.m9)(n))){if(""===n)throw new qr(jr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pi(t)&&-1!==n.indexOf("/"))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(cs.fromString(n));if(!Es.isDocumentKey(r))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ns(e,new Es(r))}if(n instanceof Wh)return Ns(e,n._key);throw new qr(jr.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function sf(e,t){if(!Array.isArray(e)||0===e.length)throw new qr(jr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new qr(jr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function of(e,t,n){if(!n.isEqual(t))throw new qr(jr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class af{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ms(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mr()}}convertObject(e,t){const n={};return is(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new dd(ms(e.latitude),ms(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ws(e));default:return null}}convertTimestamp(e){const t=ps(e);return new ns(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cs.fromString(e);Vr(ua(n));const r=new Fh(n.get(1),n.get(3)),s=new Es(n.popFirst(5));return r.isEqual(t)||Lr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function cf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class lf extends af{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wh(this.firestore,null,t)}}class uf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wd(e)}set(e,t,n){this._verifyNotCommitted();const r=hf(e,this._firestore),s=cf(r.converter,t,n),i=bd(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,ji.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=hf(e,this._firestore);let i;return i="string"==typeof(t=(0,I.m9)(t))||t instanceof ld?Ad(this._dataReader,"WriteBatch.update",s._key,t,n,r):kd(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(i.toMutation(s._key,ji.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hf(e,this._firestore);return this._mutations=this._mutations.concat(new eo(t._key,ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qr(jr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hf(e,t){if((e=(0,I.m9)(e)).firestore!==t)throw new qr(jr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class df extends af{constructor(e){super(),this.firestore=e}convertBytes(e){return new ud(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wh(this.firestore,null,t)}}function ff(e,t,n){e=Bh(e,Wh);const r=Bh(e.firestore,sd),s=cf(e.converter,t,n);return gf(r,[bd(wd(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,ji.none())])}function pf(e,t,n,...r){e=Bh(e,Wh);const s=Bh(e.firestore,sd),i=wd(s);let o;return o="string"==typeof(t=(0,I.m9)(t))||t instanceof ld?Ad(i,"updateDoc",e._key,t,n,r):kd(i,"updateDoc",e._key,t),gf(s,[o.toMutation(e._key,ji.exists(!0))])}function mf(e,...t){var n,r,s;e=(0,I.m9)(e);let i={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||nd(t[o])||(i=t[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(nd(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let c,l,u;if(e instanceof Wh)l=Bh(e.firestore,sd),u=li(e._key.path),c={next:n=>{t[o]&&t[o](yf(l,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Bh(e,Kh);l=Bh(n.firestore,sd),u=n._query;const r=new df(l);c={next:e=>{t[o]&&t[o](new Hd(l,r,n,e))},error:t[o+1],complete:t[o+2]},Wd(e._query)}return function(e,t,n,r){const s=new bh(r),i=new Ou(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>Tu(await Dh(e),i)),()=>{s.Xo(),e.asyncQueue.enqueueAndForget(async()=>Cu(await Dh(e),i))}}(id(l),u,a,c)}function gf(e,t){return function(e,t){const n=new zr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ph(e);try{const e=await function(e,t){const n=Ur(e),r=ns.now(),s=t.reduce((e,t)=>e.add(t.key),bo());let i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,s).next(s=>{i=s;const o=[];for(const e of t){const t=Gi(e,i.get(e.key));null!=t&&o.push(new Xi(e.key,t,Vs(t.value.mapValue),ji.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(i),{batchId:e.batchId,changes:i}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new ao(Zr)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await nh(r,e.changes),await ou(r.remoteStore)}catch(e){const t=wu(e,"Failed to persist write");n.reject(t)}}(await Rh(e),t,n)),n.promise}(id(e),t)}function yf(e,t,n){const r=n.docs.get(t._key),s=new df(e);return new zd(e,s,t._key,r,new qd(n.hasPendingWrites,n.fromCache),t.converter)}class vf extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wd(e)}get(e){const t=hf(e,this._firestore),n=new lf(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Mr();const r=e[0];if(r.isFoundDocument())return new Vd(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Vd(this._firestore,n,t._key,null,t.converter);throw Mr()})}set(e,t,n){const r=hf(e,this._firestore),s=cf(r.converter,t,n),i=bd(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,n);return this._transaction.set(r._key,i),this}update(e,t,n,...r){const s=hf(e,this._firestore);let i;return i="string"==typeof(t=(0,I.m9)(t))||t instanceof ld?Ad(this._dataReader,"Transaction.update",s._key,t,n,r):kd(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,i),this}delete(e){const t=hf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hf(e,this._firestore),n=new df(this._firestore);return super.get(e).then(e=>new zd(this._firestore,n,t._key,e._document,new qd(!1,!1),t.converter))}}function wf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qr("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function bf(){if("undefined"==typeof Uint8Array)throw new qr("unimplemented","Uint8Arrays are not available in this environment.")}function _f(){if("undefined"==typeof atob)throw new qr("unimplemented","Blobs are unavailable in Firestore in this environment.")}Nr=w.SDK_VERSION,(0,w._registerComponent)(new b.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new sd(n,new Yr(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,w.registerVersion)("@firebase/firestore","3.1.0",void 0);class If{constructor(e){this._delegate=e}static fromBase64String(e){return _f(),new If(ud.fromBase64String(e))}static fromUint8Array(e){return bf(),new If(ud.fromUint8Array(e))}toBase64(){return _f(),this._delegate.toBase64()}toUint8Array(){return bf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ef(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Sf{enableIndexedDbPersistence(e,t){return function(e,t){cd(e=Bh(e,sd));const n=id(e),r=e._freezeSettings(),s=new vh;return ad(n,s,new gh(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){cd(e=Bh(e,sd));const t=id(e),n=e._freezeSettings(),r=new vh;return ad(t,r,new yh(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new qr(jr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zr;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!$a.bt())return Promise.resolve();const t=e+"main";await $a.delete(t)}(Yc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class Tf{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||$r("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var s;const i=(e=Bh(e,Yh))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&$r("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Or.MOCK_USER;else{t=(0,I.Sg)(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new qr(jr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Or(i)}e._credentials=new Gr(new Br(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await xh(e),n=await Nh(e);return t.setNetworkEnabled(!0),function(e){const t=Ur(e);return t.Kr.delete(0),Hl(t)}(n)})}(id(Bh(this._delegate,sd)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await xh(e),n=await Nh(e);return t.setNetworkEnabled(!1),async function(e){const t=Ur(e);t.Kr.add(0),await Gl(t),t.Wr.set("Offline")}(n)})}(id(Bh(this._delegate,sd)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Uh("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Ur(e);Zl(n.remoteStore)||Pr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ur(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=wu(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Rh(e),t)),t.promise}(id(Bh(this._delegate,sd)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new bh(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Ur(e).Zr.add(t),t.next()}(await Dh(e),n)),()=>{n.Xo(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Ur(e).Zr.delete(t)}(await Dh(e),n))}}(id(Bh(this._delegate,sd)),nd(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new qr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vf(this,Qh(this._delegate,e))}catch(t){throw Nf(t,"collection()","Firestore.collection()")}}doc(e){try{return new Of(this,Jh(this._delegate,e))}catch(t){throw Nf(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $f(this,function(e,t){if(e=Bh(e,Yh),Vh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qr(jr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kh(e,null,function(e){return new ai(cs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Nf(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new kf(this,t)),function(e,t){const n=new zr;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return Ah(e).then(e=>e.datastore)}(e);new Eh(e.asyncQueue,r,t,n).run()}),n.promise}(id(t=this._delegate),e=>n(new vf(t,e)));var t,n}batch(){return id(this._delegate),new Af(new uf(this._delegate,e=>gf(this._delegate,e)))}loadBundle(e){return function(e,t){const n=id(e=Bh(e,sd)),r=new rd;return function(e,t,n,r){const s=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new _h(e,t)}(function(e,t){if(e instanceof Uint8Array)return wh(e,t);if(e instanceof ArrayBuffer)return wh(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Fl(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Ur(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ur(e),r=Mo(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Pu(r));const s=new Du(r,e.localStore,t.N);let i=await t.Qo();for(;i;){const e=await s.fo(i);e&&n._updateProgress(e),i=await t.Qo()}const o=await s.complete();await nh(e,o.Tn,void 0),await function(e,t){const n=Ur(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){$r("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await Rh(e),s,r)})}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Ur(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(await Oh(e),t))}(id(t=Bh(t,sd)),n).then(e=>e?new Kh(t,null,e.query):null)).then(e=>e?new $f(this,e):null);var t,n}}class Cf extends af{constructor(e){super(),this.firestore=e}convertBytes(e){return new If(new ud(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Of.forKey(t,this.firestore,null)}}class kf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}get(e){const t=Uf(e);return this._delegate.get(t).then(e=>new Pf(this._firestore,new zd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Uf(e);return n?(wf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Uf(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Uf(e);return this._delegate.delete(t),this}}class Af{constructor(e){this._delegate=e}set(e,t,n){const r=Uf(e);return n?(wf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const s=Uf(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...r),this}delete(e){const t=Uf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xf{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Bd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lf(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=xf.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let s=r.get(t);return s||(s=new xf(e,new Cf(e),t),r.set(t,s)),s}}xf.INSTANCES=new WeakMap;class Of{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}static forPath(e,t,n){if(e.length%2!=0)throw new qr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Of(t,new Wh(t._delegate,n,new Es(e)))}static forKey(e,t,n){return new Of(t,new Wh(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Vf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vf(this.firestore,Qh(this._delegate,e))}catch(t){throw Nf(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,I.m9)(e))instanceof Wh&&Zh(this._delegate,e)}set(e,t){t=wf("DocumentReference.set",t);try{return t?ff(this._delegate,e,t):ff(this._delegate,e)}catch(n){throw Nf(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?pf(this._delegate,e):pf(this._delegate,e,t,...n)}catch(r){throw Nf(r,"updateDoc()","DocumentReference.update()")}}delete(){return gf(Bh((e=this._delegate).firestore,sd),[new eo(e._key,ji.none())]);var e}onSnapshot(...e){const t=Rf(e),n=Df(e,e=>new Pf(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return mf(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Bh(e,Wh);const t=Bh(e.firestore,sd),n=id(t),r=new df(t);return function(e,t){const n=new zr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ur(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new qr(jr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=wu(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Oh(e),t,n)),n.promise}(n,e._key).then(n=>new zd(t,r,e._key,n,new qd(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Bh(e,Wh);const t=Bh(e.firestore,sd);return Ph(id(t),e._key,{source:"server"}).then(n=>yf(t,e,n))}(this._delegate):function(e){e=Bh(e,Wh);const t=Bh(e.firestore,sd);return Ph(id(t),e._key).then(n=>yf(t,e,n))}(this._delegate),t.then(e=>new Pf(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Of(this.firestore,this._delegate.withConverter(e?xf.getInstance(this.firestore,e):null))}}function Nf(e,t,n){return e.message=e.message.replace(t,n),e}function Rf(e){for(const t of e)if("object"==typeof t&&!Ef(t))return t;return{}}function Df(e,t){var n,r;let s;return s=Ef(e[0])?e[0]:Ef(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{s.next&&s.next(t(e))},error:null===(n=s.error)||void 0===n?void 0:n.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Pf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Of(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Yd(this._delegate,e._delegate)}}class Lf extends Pf{data(e){const t=this._delegate.data(e);return void 0!==t||Mr(),t}}class $f{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cf(e)}where(e,t,n){try{return new $f(this.firestore,Xd(this._delegate,function(e,t,n){const r=t,s=jd("where",e);return new Qd(s,r,n)}(e,t,n)))}catch(r){throw Nf(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $f(this.firestore,Xd(this._delegate,function(e,t="asc"){const n=t,r=jd("orderBy",e);return new Jd(r,n)}(e,t)))}catch(n){throw Nf(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $f(this.firestore,Xd(this._delegate,(Hh("limit",t=e),new Zd("limit",t,"F"))))}catch(n){throw Nf(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new $f(this.firestore,Xd(this._delegate,(Hh("limitToLast",t=e),new Zd("limitToLast",t,"L"))))}catch(n){throw Nf(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new $f(this.firestore,Xd(this._delegate,function(...e){return new ef("startAt",e,!0)}(...e)))}catch(t){throw Nf(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $f(this.firestore,Xd(this._delegate,function(...e){return new ef("startAfter",e,!1)}(...e)))}catch(t){throw Nf(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $f(this.firestore,Xd(this._delegate,function(...e){return new tf("endBefore",e,!0)}(...e)))}catch(t){throw Nf(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $f(this.firestore,Xd(this._delegate,function(...e){return new tf("endAt",e,!1)}(...e)))}catch(t){throw Nf(t,"endAt()","Query.endAt()")}}isEqual(e){return ed(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Bh(e,Kh);const t=Bh(e.firestore,sd),n=id(t),r=new df(t);return function(e,t){const n=new zr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await ol(e,t,!0),s=new Fu(t,r.Gn),i=s.Io(r.documents),o=s.applyChanges(i,!1);n.resolve(o.snapshot)}catch(e){const r=wu(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Oh(e),t,n)),n.promise}(n,e._query).then(n=>new Hd(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Bh(e,Kh);const t=Bh(e.firestore,sd),n=id(t),r=new df(t);return Lh(n,e._query,{source:"server"}).then(n=>new Hd(t,r,e,n))}(this._delegate):function(e){e=Bh(e,Kh);const t=Bh(e.firestore,sd),n=id(t),r=new df(t);return Wd(e._query),Lh(n,e._query).then(n=>new Hd(t,r,e,n))}(this._delegate),t.then(e=>new Mf(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Rf(e),n=Df(e,e=>new Mf(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return mf(this._delegate,t,n)}withConverter(e){return new $f(this.firestore,this._delegate.withConverter(e?xf.getInstance(this.firestore,e):null))}}class Ff{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Mf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $f(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Ff(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Lf(this._firestore,n))})}isEqual(e){return Yd(this._delegate,e._delegate)}}class Vf extends $f{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Of(this.firestore,e):null}doc(e){try{return new Of(this.firestore,void 0===e?Jh(this._delegate):Jh(this._delegate,e))}catch(t){throw Nf(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Bh(e.firestore,sd),r=Jh(e),s=cf(e.converter,t);return gf(n,[bd(wd(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,ji.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Of(this.firestore,e))}isEqual(e){return Zh(this._delegate,e._delegate)}withConverter(e){return new Vf(this.firestore,this._delegate.withConverter(e?xf.getInstance(this.firestore,e):null))}}function Uf(e){return Bh(e,Wh)}class jf{constructor(...e){this._delegate=new ld(...e)}static documentId(){return new jf(us.keyField().canonicalString())}isEqual(e){return(e=(0,I.m9)(e))instanceof ld&&this._delegate._internalPath.isEqual(e._internalPath)}}class qf{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ed("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new qf(e)}static delete(){const e=new _d("deleteField");return e._methodName="FieldValue.delete",new qf(e)}static arrayUnion(...e){const t=function(...e){return new Sd("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new qf(t)}static arrayRemove(...e){const t=function(...e){return new Td("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new qf(t)}static increment(e){const t=new Cd("increment",e);return t._methodName="FieldValue.increment",new qf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zf={Firestore:Tf,GeoPoint:dd,Timestamp:ns,Blob:If,Transaction:kf,WriteBatch:Af,DocumentReference:Of,DocumentSnapshot:Pf,Query:$f,QueryDocumentSnapshot:Lf,QuerySnapshot:Mf,CollectionReference:Vf,FieldPath:jf,FieldValue:qf,setLogLevel:function(e){Rr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var Bf;(Bf=v.Z).INTERNAL.registerComponent(new b.wA("firestore-compat",e=>{return t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate(),new Tf(t,n,new Sf);var t,n},"PUBLIC").setServiceProps(Object.assign({},zf))),Bf.registerVersion("@firebase/firestore-compat","0.1.3");var Hf=n(3820),Gf=n(7841);function Yf(e,t){return function(e,t=i.z){return new o.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Wf(e,t){return Yf(e,t).pipe((0,d.U)(e=>({payload:e,type:"query"})))}function Kf(e,t){return Wf(e,t).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,s)=>{const i=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));i&&JSON.stringify(i.doc.metadata)===JSON.stringify(t.metadata)||!i&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:s,newIndex:s,type:"modified",doc:t}})}),r}))}function Xf(e,t,n){return Kf(e,n).pipe((0,f.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Qf(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Qf(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Qf(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,p.x)(),(0,d.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Qf(e,t,n,...r){const s=e.slice();return s.splice(t,n,...r),s}function Jf(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class Zf{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Kf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,u.O)(void 0),(0,h.G)(),(0,m.h)(([e,t])=>t.length>0||!e),(0,d.U)(([e,t])=>t),l.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,f.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Jf(e);return Xf(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return Wf(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),l.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(l.iC)}add(e){return this.ref.add(e)}doc(e){return new ep(this.ref.doc(e),this.afs)}}class ep{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:s}=op(n,t);return new Zf(r,s,this.afs)}snapshotChanges(){return Yf(this.ref,this.afs.schedulers.outsideAngular).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(l.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,d.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,a.D)(this.ref.get(e)).pipe(l.iC)}}class tp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Kf(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,m.h)(e=>e.length>0),l.iC):Kf(this.query,this.afs.schedulers.outsideAngular).pipe(l.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,f.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Jf(e);return Xf(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return Wf(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),l.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(l.iC)}}const np=new s.OlP("angularfire2.enableFirestorePersistence"),rp=new s.OlP("angularfire2.firestore.persistenceSettings"),sp=new s.OlP("angularfire2.firestore.settings"),ip=new s.OlP("angularfire2.firestore.use-emulator");function op(e,t=(e=>e)){return{query:t(e),ref:e}}let ap=(()=>{class e{constructor(e,t,n,r,s,i,o,u,h,d,f,p,m,v,w,b){this.schedulers=o;const _=(0,g.on)(e,i,t),I=h;d&&(0,Hf.nw)(_,i,f,m,v,w,p,b),[this.firestore,this.persistenceEnabled$]=(0,l.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const e=i.runOutsideAngular(()=>_.firestore());if(r&&e.settings(r),I&&e.useEmulator(...I),n&&!(0,y.PM)(s)){const t=()=>{try{return(0,a.D)(e.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,c.of)(!1)}};return[e,i.runOutsideAngular(t)]}return[e,(0,c.of)(!1)]},[r,I,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:s}=op(n,t),i=this.schedulers.ngZone.run(()=>r);return new Zf(i,s,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new tp(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new ep(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(g.Dh),s.LFG(g.xv,8),s.LFG(np,8),s.LFG(sp,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(l.HU),s.LFG(rp,8),s.LFG(ip,8),s.LFG(Hf.zQ,8),s.LFG(Hf.Qv,8),s.LFG(Hf.L6,8),s.LFG(Hf._Q,8),s.LFG(Hf.rT,8),s.LFG(Hf.lh,8),s.LFG(Hf.f7,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),cp=(()=>{class e{constructor(){Gf.Z.registerVersion("angularfire",l.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:np,useValue:!0},{provide:rp,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[ap]}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,Ot:()=>l,GT:()=>c,on:()=>d,pX:()=>a});var r=n(8720),s=n(7841),i=n(9126);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(s,i)=>n.runOutsideAngular(()=>{var s;if(e[i])return(null===(s=null==r?void 0:r.spy)||void 0===s?void 0:s.get)&&r.spy.get(i,e[i]),e[i];if(o.indexOf(i)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[i];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const s=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(i,n,s),s})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=s.Z.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>s.Z.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){s.Z.registerVersion("angularfire",i.q4.full,"core"),s.Z.registerVersion("angularfire",i.q4.full,"app-compat"),s.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},9126:(e,t,n)=>{"use strict";n.d(t,{q4:()=>l,iC:()=>v,HU:()=>g,cc:()=>d});var r=n(8720);(0,n(5452).registerVersion)("firebase","9.1.1","app");var s=n(7771),i=n(3637),o=n(8307),a=n(3101),c=n(9746);e=n.hmd(e);const l=new r.GfV("7.0.4"),u=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,s){const[,i,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(i)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(s,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${u?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:s,was:o})),i;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,s]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=s.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class m{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let g=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return y(),(t=y(),function(e){return(e=e.lift(new m(t.ngZone))).pipe((0,a.R)(t.outsideAngular),(0,c.QV)(t.insideAngular))})(e);var t}},665:(e,t,n)=>{"use strict";n.d(t,{qu:()=>_e,u:()=>me,sg:()=>fe,u5:()=>we,JU:()=>f,a5:()=>V,JJ:()=>j,JL:()=>q,UX:()=>be,Q7:()=>ye,kI:()=>I,_Y:()=>le});var r=n(8720),s=n(8583),i=n(7574),o=n(9796),a=n(8002),c=n(1555),l=n(4402);function u(e,t){return new i.y(n=>{const r=e.length;if(0===r)return void n.complete();const s=new Array(r);let i=0,o=0;for(let a=0;a<r;a++){const c=(0,l.D)(e[a]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),s[a]=e},error:e=>n.error(e),complete:()=>{i++,i!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}let h=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),d=(()=>{class e extends h{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>g),multi:!0},m=new r.OlP("CompositionEventMode");let g=(()=>{class e extends h{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,s.q)()?(0,s.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(m,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([p]),r.qOj]}),e})();function y(e){return null==e||0===e.length}function v(e){return null!=e&&"number"==typeof e.length}const w=new r.OlP("NgValidators"),b=new r.OlP("NgAsyncValidators"),_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class I{static min(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(y(t.value)||y(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return E(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return y(e.value)||_.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>y(t.value)||!v(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>v(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return S;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(y(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return O(e)}static composeAsync(e){return R(e)}}function E(e){return y(e.value)?{required:!0}:null}function S(e){return null}function T(e){return null!=e}function C(e){const t=(0,r.QGY)(e)?(0,l.D)(e):e;return(0,r.CqO)(t),t}function k(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function A(e,t){return t.map(t=>t(e))}function x(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function O(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return k(A(e,t))}}function N(e){return null!=e?O(x(e)):null}function R(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,o.k)(t))return u(t,null);if((0,c.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&(0,o.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return u(e,null)}(A(e,t).map(C)).pipe((0,a.U)(k))}}function D(e){return null!=e?R(x(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L(e){return e._rawValidators}function $(e){return e._rawAsyncValidators}let F=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=D(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),M=(()=>{class e extends F{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class V extends F{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let j=(()=>{class e extends U{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(V,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),q=(()=>{class e extends U{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(M,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function z(e,t){G(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&W(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&W(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function B(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Y(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function H(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function G(e,t){const n=L(e);null!==t.validator?e.setValidators(P(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=$(e);null!==t.asyncValidator?e.setAsyncValidators(P(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();H(t._rawValidators,s),H(t._rawAsyncValidators,s)}function Y(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=L(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.validator);s.length!==r.length&&(n=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const r=$(e);if(Array.isArray(r)&&r.length>0){const s=r.filter(e=>e!==t.asyncValidator);s.length!==r.length&&(n=!0,e.setAsyncValidators(s))}}}const r=()=>{};return H(t._rawValidators,r),H(t._rawAsyncValidators,r),n}function W(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function K(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const X="VALID",Q="INVALID",J="PENDING",Z="DISABLED";function ee(e){return(se(e)?e.validators:e)||null}function te(e){return Array.isArray(e)?N(e):e||null}function ne(e,t){return(se(t)?t.asyncValidators:e)||null}function re(e){return Array.isArray(e)?D(e):e||null}function se(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ie{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=te(this._rawValidators),this._composedAsyncValidatorFn=re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===X}get invalid(){return this.status===Q}get pending(){return this.status==J}get disabled(){return this.status===Z}get enabled(){return this.status!==Z}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=te(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=re(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=J,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Z,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=X,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==X&&this.status!==J||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z:X}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ae?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ce&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Z:this.errors?Q:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(Q)?Q:X}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){se(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class oe extends ie{constructor(e=null,t,n){super(ee(t),ne(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ae extends ie{constructor(e,t,n){super(ee(t),ne(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof oe?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ce extends ie{constructor(e,t,n){super(ee(t),ne(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof oe?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const he=new r.OlP("NgModelWithFormControlWarning"),de={provide:M,useExisting:(0,r.Gpc)(()=>fe)};let fe=(()=>{class e extends M{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Y(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return z(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){B(e.control||null,e,!1),K(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(B(t||null,e),n instanceof oe&&(z(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){G(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return Y(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G(this.form,this),this._oldForm&&Y(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(w,10),r.Y36(b,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([de]),r.qOj,r.TTD]}),e})();const pe={provide:V,useExisting:(0,r.Gpc)(()=>me)};let me=(()=>{class e extends V{constructor(e,t,n,s,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,s;return Array.isArray(t),t.forEach(e=>{e.constructor===g?n=e:Object.getPrototypeOf(e.constructor)===d?r=e:s=e}),s||r||n||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return e=null==this.name?this.name:this.name.toString(),[...this._parent.path,e];var e}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(M,13),r.Y36(w,10),r.Y36(b,10),r.Y36(f,10),r.Y36(he,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([pe]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const ge={provide:w,useExisting:(0,r.Gpc)(()=>ye),multi:!0};let ye=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?E(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([ge])]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ue]]}),e})(),we=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ve]}),e})(),be=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:he,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ve]}),e})(),_e=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,s=null,i=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(s=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ae(n,{asyncValidators:i,updateOn:r,validators:s})}control(e,t,n){return new oe(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new ce(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof oe||e instanceof ae||e instanceof ce?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:be}),e})()},7405:(e,t,n)=>{"use strict";n.d(t,{gz:()=>it,jw:()=>fe,y6:()=>In,OD:()=>Z,eC:()=>me,wm:()=>Fn,wN:()=>yn,F0:()=>xn,rH:()=>On,Od:()=>Dn,Bz:()=>Hn,Hx:()=>$e,fw:()=>Pt});var r=n(8583),s=n(8720),i=n(4869),o=n(9796),a=n(7393);class c extends a.L{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class l extends a.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=n(7444),h=n(7574);function d(e,t,n,r,s=new l(e,n,r)){if(!s.closed)return t instanceof h.y?t.subscribe(s):(0,u.s)(t)(s)}var f=n(6693);const p={};class m{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new g(e,this.resultSelector))}}class g extends c{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(d(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,s=this.toRespond?r[n]===p?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var y=n(4402),v=n(5917),w=n(6215),b=n(3410),_=n(8071),I=n(1439),E=n(9193),S=n(2441),T=n(9765),C=n(5345);function k(e){return function(t){const n=new A(e),r=t.lift(n);return n.caught=r}}class A{constructor(e){this.selector=e}call(e,t){return t.subscribe(new x(e,this.selector,this.caught))}}class x extends C.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new C.IY(this);this.add(r);const s=(0,C.ft)(n,r);s!==r&&this.add(s)}}}var O=n(9773);function N(e,t){return(0,O.zg)(e,t,1)}var R=n(5435),D=n(7108);function P(e){return function(t){return 0===e?(0,E.c)():t.lift(new L(e))}}class L{constructor(e){if(this.total=e,this.total<0)throw new D.W}call(e,t){return t.subscribe(new $(e,this.total))}}class $ extends a.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(r[s])}}e.complete()}}var F=n(4635),M=n(5242),V=n(4487),U=n(5319);class j{constructor(e){this.callback=e}call(e,t){return t.subscribe(new q(e,this.callback))}}class q extends a.L{constructor(e,t){super(e),this.add(new U.w(t))}}var z=n(8002),B=n(3190),H=n(5257),G=n(9761),Y=n(2145),W=n(8049),K=n(8307),X=n(1307),Q=n(3282);class J{constructor(e,t){this.id=e,this.url=t}}class Z extends J{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends J{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class te extends J{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ne extends J{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends J{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oe extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class le{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ue{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class ge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ye(e){return new ge(e)}function ve(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function we(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let i=0;i<r.length;i++){const t=r[i],n=e[i];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}function be(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!_e(e[s],t[s]))return!1;return!0}function _e(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Ie(e){return Array.prototype.concat.apply([],e)}function Ee(e){return e.length>0?e[e.length-1]:null}function Se(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Te(e){return(0,s.CqO)(e)?e:(0,s.QGY)(e)?(0,y.D)(Promise.resolve(e)):(0,v.of)(e)}const Ce={exact:function e(t,n,r){if(!Le(t.segments,n.segments))return!1;if(!Ne(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s],r))return!1}return!0},subset:xe},ke={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_e(e[n],t[n]))},ignored:()=>!0};function Ae(e,t,n){return Ce[n.paths](e.root,t.root,n.matrixParams)&&ke[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xe(e,t,n){return Oe(e,t,t.segments,n)}function Oe(e,t,n,r){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!!Le(s,n)&&!t.hasChildren()&&!!Ne(s,n,r)}if(e.segments.length===n.length){if(!Le(e.segments,n))return!1;if(!Ne(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xe(e.children[n],t.children[n],r))return!1}return!0}{const s=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!Le(e.segments,s)&&!!Ne(e.segments,s,r)&&!!e.children[me]&&Oe(e.children[me],t,i,r)}}function Ne(e,t,n){return t.every((t,r)=>ke[n](e[r].parameters,t.parameters))}class Re{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Me.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Se(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ve(this)}}class Pe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function Le(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class $e{}class Fe{parse(e){const t=new Qe(e);return new Re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Ue(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${qe(t)}=${qe(e)}`).join("&"):`${qe(t)}=${qe(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Me=new Fe;function Ve(e){return e.segments.map(e=>Ge(e)).join("/")}function Ue(e,t){if(!e.hasChildren())return Ve(e);if(t){const t=e.children[me]?Ue(e.children[me],!1):"",n=[];return Se(e.children,(e,t)=>{t!==me&&n.push(`${t}:${Ue(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Se(e.children,(e,r)=>{r===me&&(n=n.concat(t(e,r)))}),Se(e.children,(e,r)=>{r!==me&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===me?[Ue(e.children[me],!1)]:[`${n}:${Ue(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[me]?`${Ve(e)}/${t[0]}`:`${Ve(e)}/(${t.join("//")})`}}function je(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(e){return je(e).replace(/%3B/gi,";")}function ze(e){return je(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Be(e){return decodeURIComponent(e)}function He(e){return Be(e.replace(/\+/g,"%20"))}function Ge(e){return`${ze(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${ze(e)}=${ze(t[e])}`).join("")}`;var t}const Ye=/^[^\/()?;=#]+/;function We(e){const t=e.match(Ye);return t?t[0]:""}const Ke=/^[^=?&#]+/,Xe=/^[^?&#]+/;class Qe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[me]=new De(e,t)),n}parseSegment(){const e=We(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pe(Be(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=We(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=We(this.remaining);e&&(n=e,this.capture(n))}e[Be(t)]=Be(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ke);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Xe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=He(t),s=He(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=We(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const i=this.parseChildren();t[s]=1===Object.keys(i).length?i[me]:new De([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Je{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ze(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ze(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return et(e,this._root).map(e=>e.value)}}function Ze(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ze(e,n);if(t)return t}return null}function et(e,t){if(e===t.value)return[t];for(const n of t.children){const r=et(e,n);if(r.length)return r.unshift(t),r}return[]}class tt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class rt extends Je{constructor(e,t){super(e),this.snapshot=t,lt(this,e)}toString(){return this.snapshot.toString()}}function st(e,t){const n=function(e,t){const n=new at([],{},{},"",{},me,t,null,e.root,-1,{});return new ct("",new tt(n,[]))}(e,t),r=new w.X([new Pe("",{})]),s=new w.X({}),i=new w.X({}),o=new w.X({}),a=new w.X(""),c=new it(r,s,o,a,i,me,t,n.root);return c.snapshot=n.root,new rt(new tt(c,[]),n)}class it{constructor(e,t,n,r,s,i,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,z.U)(e=>ye(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,z.U)(e=>ye(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class at{constructor(e,t,n,r,s,i,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ct extends Je{constructor(e,t){super(t),this.url=e,lt(this,t)}toString(){return ut(this._root)}}function lt(e,t){t.value._routerState=e,t.children.forEach(t=>lt(e,t))}function ut(e){const t=e.children.length>0?` { ${e.children.map(ut).join(", ")} } `:"";return`${e.value}${t}`}function ht(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,be(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),be(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!be(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),be(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){var n,r;return be(e.params,t.params)&&Le(n=e.url,r=t.url)&&n.every((e,t)=>be(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function ft(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const s=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ft(e,t,r);return ft(e,t)})}(e,t,n);return new tt(r,s)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return pt(t,e),e}}const n=new it(new w.X((r=t.value).url),new w.X(r.params),new w.X(r.queryParams),new w.X(r.fragment),new w.X(r.data),r.outlet,r.component,r),s=t.children.map(t=>ft(e,t));return new tt(n,s)}var r}function pt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)pt(e.children[n],t.children[n])}function mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gt(e){return"object"==typeof e&&null!=e&&e.outlets}function yt(e,t,n,r,s){let i={};return r&&Se(r,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Re(n.root===e?t:vt(n.root,e,t),i,s)}function vt(e,t,n){const r={};return Se(e.children,(e,s)=>{r[s]=e===t?n:vt(e,t,n)}),new De(e.segments,r)}class wt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gt);if(r&&r!==Ee(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function _t(e,t,n){if(e||(e=new De([],{})),0===e.segments.length&&e.hasChildren())return It(e,t,n);const r=function(e,t,n){let r=0,s=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return i;const t=e.segments[s],o=n[r];if(gt(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(s>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ct(a,c,t))return i;r+=2}else{if(!Ct(a,{},t))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new De(e.segments.slice(0,r.pathIndex),{});return t.children[me]=new De(e.segments.slice(r.pathIndex),e.children),It(t,0,s)}return r.match&&0===s.length?new De(e.segments,{}):r.match&&!e.hasChildren()?Et(e,t,n):r.match?It(e,0,s):Et(e,t,n)}function It(e,t,n){if(0===n.length)return new De(e.segments,{});{const r=function(e){return gt(e[0])?e[0].outlets:{[me]:e}}(n),s={};return Se(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[r]=_t(e.children[r],t,n))}),Se(e.children,(e,t)=>{void 0===r[t]&&(s[t]=e)}),new De(e.segments,s)}}function Et(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){const i=n[s];if(gt(i)){const e=St(i.outlets);return new De(r,e)}if(0===s&&mt(n[0])){r.push(new Pe(e.segments[t].path,Tt(n[0]))),s++;continue}const o=gt(i)?i.outlets[me]:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&mt(a)?(r.push(new Pe(o,Tt(a))),s+=2):(r.push(new Pe(o,{})),s++)}return new De(r,{})}function St(e){const t={};return Se(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Et(new De([],{}),0,e))}),t}function Tt(e){const t={};return Se(e,(e,n)=>t[n]=`${e}`),t}function Ct(e,t,n){return e==n.path&&be(t,n.parameters)}class kt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ht(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Se(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,s=nt(e);for(const i of Object.keys(s))this.deactivateRouteAndItsChildren(s[i],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new fe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(ht(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),At(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=s,t.outlet&&t.outlet.activateWith(r,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function At(e){ht(e.value),e.children.forEach(At)}class xt{constructor(e,t){this.routes=e,this.module=t}}function Ot(e){return"function"==typeof e}function Nt(e){return e instanceof Re}const Rt=Symbol("INITIAL_VALUE");function Dt(){return(0,B.w)(e=>function(...e){let t,n;return(0,i.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,f.n)(e,n).lift(new m(t))}(e.map(e=>e.pipe((0,H.q)(1),(0,G.O)(Rt)))).pipe((0,Y.R)((e,t)=>{let n=!1;return t.reduce((e,r,s)=>{if(e!==Rt)return e;if(r===Rt&&(n=!0),!n){if(!1===r)return r;if(s===t.length-1||Nt(r))return r}return e},e)},Rt),(0,R.h)(e=>e!==Rt),(0,z.U)(e=>Nt(e)?e:!0===e),(0,H.q)(1)))}let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"router-outlet")},directives:function(){return[Pn]},encapsulation:2}),e})();function Lt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];$t(r,Ft(t,r))}}function $t(e,t){e.children&&Lt(e.children,t)}function Ft(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Mt(e){const t=e.children&&e.children.map(Mt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Pt),n}function Vt(e){return e.outlet||me}function Ut(e,t){const n=e.filter(e=>Vt(e)===t);return n.push(...e.filter(e=>Vt(e)!==t)),n}const jt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},jt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||we)(n,e,t);if(!s)return Object.assign({},jt);const i={};Se(s.posParams,(e,t)=>{i[t]=e.path});const o=s.consumed.length>0?Object.assign(Object.assign({},i),s.consumed[s.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:o,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function zt(e,t,n,r,s="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Bt(e,t,n)&&Vt(n)!==me)}(e,n,r)){const s=new De(t,function(e,t,n,r){const s={};s[me]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&Vt(i)!==me){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[Vt(i)]=n}return s}(e,t,r,new De(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Bt(e,t,n))}(e,n,r)){const i=new De(e.segments,function(e,t,n,r,s,i){const o={};for(const a of r)if(Bt(e,n,a)&&!s[Vt(a)]){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[Vt(a)]=n}return Object.assign(Object.assign({},s),o)}(e,t,n,r,e.children,s));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new De(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Bt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ht(e,t,n,r){return!!(Vt(e)===r||r!==me&&Bt(t,n,e))&&("**"===e.path||qt(t,e,n).matched)}function Gt(e,t,n){return 0===t.length&&!e.children[n]}class Yt{constructor(e){this.segmentGroup=e||null}}class Wt{constructor(e){this.urlTree=e}}function Kt(e){return new h.y(t=>t.error(new Yt(e)))}function Xt(e){return new h.y(t=>t.error(new Wt(e)))}function Qt(e){return new h.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jt{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=zt(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe((0,z.U)(e=>this.createUrlTree(Zt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k(e=>{if(e instanceof Wt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Yt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe((0,z.U)(t=>this.createUrlTree(Zt(t),e.queryParams,e.fragment))).pipe(k(e=>{if(e instanceof Yt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new De([],{[me]:e}):e;return new Re(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,z.U)(e=>new De([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return(0,y.D)(r).pipe(N(r=>{const s=n.children[r],i=Ut(t,r);return this.expandSegmentGroup(e,i,s,r).pipe((0,z.U)(e=>({segment:e,outlet:r})))}),(0,Y.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,R.h)((t,n)=>e(t,n,r)):V.y,P(1),n?(0,M.d)(t):(0,F.T)(()=>new b.K))}())}expandSegment(e,t,n,r,s,i){return(0,y.D)(n).pipe(N(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,s,i).pipe(k(e=>{if(e instanceof Yt)return(0,v.of)(null);throw e}))),(0,W.P)(e=>!!e),k((e,n)=>{if(e instanceof b.K||"EmptyError"===e.name){if(Gt(t,r,s))return(0,v.of)(new De([],{}));throw new Yt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,s,i,o){return Ht(r,t,s,i)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i):Kt(t):Kt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xt(s):this.lineralizeSegments(n,s).pipe((0,O.zg)(n=>{const s=new De(n,{});return this.expandSegment(e,s,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,i){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=qt(t,r,s);if(!o)return Kt(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Xt(u):this.lineralizeSegments(r,u).pipe((0,O.zg)(r=>this.expandSegment(e,t,n,r.concat(s.slice(c)),i,!1)))}matchSegmentAgainstRoute(e,t,n,r,s){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,v.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,z.U)(e=>(n._loadedConfig=e,new De(r,{})))):(0,v.of)(new De(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=qt(t,n,r);if(!i)return Kt(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,O.zg)(e=>{const r=e.module,i=e.routes,{segmentGroup:a,slicedSegments:l}=zt(t,o,c,i),u=new De(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,i,u).pipe((0,z.U)(e=>new De(o,e)));if(0===i.length&&0===l.length)return(0,v.of)(new De(o,{}));const h=Vt(n)===s;return this.expandSegment(r,u,i,l,h?me:s,!0).pipe((0,z.U)(e=>new De(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,v.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,v.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,O.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,z.U)(e=>(t._loadedConfig=e,e))):function(e){return new h.y(t=>t.error(ve(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,v.of)(new xt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,v.of)(!0);const s=r.map(r=>{const s=e.get(r);let i;if(function(e){return e&&Ot(e.canLoad)}(s))i=s.canLoad(t,n);else{if(!Ot(s))throw new Error("Invalid CanLoad guard");i=s(t,n)}return Te(i)});return(0,v.of)(s).pipe(Dt(),(0,K.b)(e=>{if(!Nt(e))return;const t=ve(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,z.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,v.of)(n);if(r.numberOfChildren>1||!r.children[me])return Qt(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new Re(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Se(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let i={};return Se(t.children,(t,s)=>{i[s]=this.createSegmentGroup(e,t,n,r)}),new De(s,i)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Zt(e){const t={};for(const n of Object.keys(e.children)){const r=Zt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[me]){const t=e.children[me];return new De(e.segments.concat(t.segments),t.children)}return e}(new De(e.segments,t))}class en{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tn{constructor(e,t){this.component=e,this.route=t}}function nn(e,t,n){const r=e._root;return sn(r,t?t._root:null,n,[r.value])}function rn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function sn(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=nt(t);return e.children.forEach(e=>{!function(e,t,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Le(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Le(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new en(r)):(i.data=o.data,i._resolvedData=o._resolvedData),sn(e,t,i.component?a?a.children:null:n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new tn(a.outlet.component,o))}else o&&on(t,a,s),s.canActivateChecks.push(new en(r)),sn(e,null,i.component?a?a.children:null:n,r,s)}(e,i[e.value.outlet],n,r.concat([e.value]),s),delete i[e.value.outlet]}),Se(i,(e,t)=>on(e,n.getContext(t),s)),s}function on(e,t,n){const r=nt(e),s=e.value;Se(r,(e,r)=>{on(e,s.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new tn(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class an{}function cn(e){return new h.y(t=>t.error(e))}class ln{constructor(e,t,n,r,s,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=i}recognize(){const e=zt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const n=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(n,t),s=new ct(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,n=ot(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const s of Object.keys(t.children)){const r=t.children[s],i=Ut(e,s),o=this.processSegmentGroup(i,r,s);if(null===o)return null;n.push(...o)}const r=hn(n);return r.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const s of e){const e=this.processSegmentAgainstRoute(s,t,n,r);if(null!==e)return e}return Gt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ht(e,t,n,r))return null;let s,i=[],o=[];if("**"===e.path){const r=n.length>0?Ee(n).parameters:{};s=new at(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Vt(e),e.component,e,dn(t),fn(t)+n.length,mn(e))}else{const r=qt(t,e,n);if(!r.matched)return null;i=r.consumedSegments,o=n.slice(r.lastChild),s=new at(i,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Vt(e),e.component,e,dn(t),fn(t)+i.length,mn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=zt(t,i,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new tt(s,e)]}if(0===a.length&&0===l.length)return[new tt(s,[])];const u=Vt(e)===r,h=this.processSegment(a,c,l,u?me:r);return null===h?null:[new tt(s,h)]}}function un(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hn(e){const t=[],n=new Set;for(const r of e){if(!un(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=hn(r.children);t.push(new tt(r.value,e))}return t.filter(e=>!n.has(e))}function dn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function fn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pn(e){return e.data||{}}function mn(e){return e.resolve||{}}function gn(e){return(0,B.w)(t=>{const n=e(t);return n?(0,y.D)(n).pipe((0,z.U)(()=>t)):(0,v.of)(t)})}class yn{}class vn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wn=new s.OlP("ROUTES");class bn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,z.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new xt(Ie(r.injector.get(wn,void 0,s.XFs.Self|s.XFs.Optional)).map(Mt),r)}),k(e=>{throw t._loader$=void 0,e}));return t._loader$=new S.c(n,()=>new T.xQ).pipe((0,X.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,y.D)(this.loader.load(e)):Te(e()).pipe((0,O.zg)(e=>e instanceof s.YKP?(0,v.of)(e):(0,y.D)(this.compiler.compileModuleAsync(e))))}}class _n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new In,this.attachRef=null}}class In{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class En{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Sn(e){throw e}function Tn(e,t,n){return t.parse("/")}function Cn(e,t){return(0,v.of)(null)}const kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},An={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class e{constructor(e,t,n,r,i,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new T.xQ,this.errorHandler=Sn,this.malformedUriErrorHandler=Tn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new En,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(s.h0i),this.console=i.get(s.c2e);const l=i.get(s.R0b);this.isNgZoneEnabled=l instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Re(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bn(o,a,e=>this.triggerEvent(new ce(e)),e=>this.triggerEvent(new le(e))),this.routerState=st(this.currentUrlTree,this.rootComponentType),this.transitions=new w.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,R.h)(e=>0!==e.id),(0,z.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,B.w)(e=>{let n=!1,r=!1;return(0,v.of)(e).pipe((0,K.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,B.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,v.of)(e).pipe((0,B.w)(e=>{const n=this.transitions.getValue();return t.next(new Z(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?E.E:Promise.resolve(e)}),(r=this.ngModule.injector,s=this.configLoader,i=this.urlSerializer,o=this.config,(0,B.w)(e=>function(e,t,n,r,s){return new Jt(e,t,n,r,s).apply()}(r,s,i,e.extractedUrl,o).pipe((0,z.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,K.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,s){return(0,O.zg)(i=>function(e,t,n,r,s="emptyOnly",i="legacy"){try{const o=new ln(e,t,n,r,s,i).recognize();return null===o?cn(new an):(0,v.of)(o)}catch(o){return cn(o)}}(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),r,s).pipe((0,z.U)(e=>Object.assign(Object.assign({},i),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,K.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new re(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,s,i,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:i,extras:o}=e,a=new Z(n,this.serializeUrl(r),s,i);t.next(a);const c=st(r,this.rootComponentType).snapshot;return(0,v.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),E.E}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,K.b)(e=>{const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,z.U)(e=>Object.assign(Object.assign({},e),{guards:nn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,O.zg)(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?(0,v.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,y.D)(e).pipe((0,O.zg)(e=>function(e,t,n,r,s){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||0===i.length)return(0,v.of)(!0);const o=i.map(i=>{const o=rn(i,t,s);let a;if(function(e){return e&&Ot(e.canDeactivate)}(o))a=Te(o.canDeactivate(e,t,n,r));else{if(!Ot(o))throw new Error("Invalid CanDeactivate guard");a=Te(o(e,t,n,r))}return a.pipe((0,W.P)())});return(0,v.of)(o).pipe(Dt())}(e.component,e.route,n,t,r)),(0,W.P)(e=>!0!==e,!0))}(o,r,s,e).pipe((0,O.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,y.D)(t).pipe(N(t=>(0,_.z)(function(e,t){return null!==e&&t&&t(new ue(e)),(0,v.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new de(e)),(0,v.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,I.P)(()=>{const s=t.guards.map(s=>{const i=rn(s,t.node,n);let o;if(function(e){return e&&Ot(e.canActivateChild)}(i))o=Te(i.canActivateChild(r,e));else{if(!Ot(i))throw new Error("Invalid CanActivateChild guard");o=Te(i(r,e))}return o.pipe((0,W.P)())});return(0,v.of)(s).pipe(Dt())}));return(0,v.of)(s).pipe(Dt())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,v.of)(!0);const s=r.map(r=>(0,I.P)(()=>{const s=rn(r,t,n);let i;if(function(e){return e&&Ot(e.canActivate)}(s))i=Te(s.canActivate(t,e));else{if(!Ot(s))throw new Error("Invalid CanActivate guard");i=Te(s(t,e))}return i.pipe((0,W.P)())}));return(0,v.of)(s).pipe(Dt())}(e,t.route,n))),(0,W.P)(e=>!0!==e,!0))}(r,i,e,t):(0,v.of)(n)),(0,z.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,K.b)(e=>{if(Nt(e.guardsResult)){const t=ve(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,R.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),gn(e=>{if(e.guards.canActivateChecks.length)return(0,v.of)(e).pipe((0,K.b)(e=>{const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,B.w)(e=>{let t=!1;return(0,v.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,O.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,v.of)(e);let i=0;return(0,y.D)(s).pipe(N(e=>function(e,t,n,r){return function(e,t,n,r){const s=Object.keys(e);if(0===s.length)return(0,v.of)({});const i={};return(0,y.D)(s).pipe((0,O.zg)(s=>function(e,t,n,r){const s=rn(e,t,r);return Te(s.resolve?s.resolve(t,n):s(t,n))}(e[s],t,n,r).pipe((0,K.b)(e=>{i[s]=e}))),P(1),(0,O.zg)(()=>Object.keys(i).length===s.length?(0,v.of)(i):E.E))}(e._resolve,e,t,r).pipe((0,z.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ot(e,n).resolve),null)))}(e.route,t,n,r)),(0,K.b)(()=>i++),P(1),(0,O.zg)(t=>i===s.length?(0,v.of)(e):E.E))})),(0,K.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,K.b)(e=>{const t=new ae(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!i,replaceUrl:!!o})}),(0,z.U)(e=>{const t=function(e,t,n){const r=ft(e,t._root,n?n._root:void 0);return new rt(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,K.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,z.U)(e=>(new kt(o,e.targetRouterState,e.currentRouterState,a).activate(i),e))),(0,K.b)({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new j(s))),k(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Nt(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const s=new te(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new ne(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}var s;return E.E}));var s,i,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,s={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(s.state=e)}this.scheduleNavigation(r,e,n,s)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Lt(e),this.config=e.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,queryParamsHandling:i,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:s;let l=null;switch(i){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,s){if(0===n.length)return yt(t.root,t.root,t,r,s);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Se(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wt(n,t,r)}(n);if(i.toRoot())return yt(t.root,new De([],{}),t,r,s);const o=function(e,t,n){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new bt(e,e===t.root,0)}const r=mt(e.commands[0])?0:1;return function(e,t,n){let r=e,s=t,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new bt(r,!1,s-i)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?It(o.segmentGroup,o.index,i.commands):_t(o.segmentGroup,o.index,i.commands);return yt(o.segmentGroup,a,t,r,s)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Nt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},kn):!1===t?Object.assign({},An):t,Nt(e))return Ae(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ae(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,s){var i,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;s?(u=s.resolve,h=s.reject,d=s.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(i=this.browserPageId)&&void 0!==i?i:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new te(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.DyG),s.LFG($e),s.LFG(In),s.LFG(r.Ye),s.LFG(s.zs3),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),On=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.route=t,this.commands=[],this.onChanges=new T.xQ,null==n&&r.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Rn(this.skipLocationChange),replaceUrl:Rn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(it),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&s.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})(),Nn=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new T.xQ,this.subscription=e.events.subscribe(e=>{e instanceof ee&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,s){if(0!==e||t||n||r||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Rn(this.skipLocationChange),replaceUrl:Rn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(it),s.Y36(r.S$))},e.\u0275dir=s.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(s.Ikx("href",t.href,s.LSH),s.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[s.TTD]}),e})();function Rn(e){return""===e||!!e}let Dn=(()=>{class e{constructor(e,t,n,r,s,i){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=s,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof ee&&this.update()})}ngAfterContentInit(){(0,v.of)(this.links.changes,this.linksWithHrefs.changes,(0,v.of)(null)).pipe((0,Q.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,y.D)(t).pipe((0,Q.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(xn),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(On,8),s.Y36(Nn,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,On,5),s.Suo(n,Nn,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.links=e),s.iGM(e=s.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[s.TTD]}),e})(),Pn=(()=>{class e{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.name=r||me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new Ln(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(In),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},e.\u0275dir=s.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Ln{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===it?this.route:e===In?this.childContexts:this.parent.get(e,t)}}class $n{}class Fn{preload(e,t){return t().pipe(k(()=>(0,v.of)(null)))}}class Mn{preload(e,t){return(0,v.of)(null)}}let Vn=(()=>{class e{constructor(e,t,n,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new bn(t,n,t=>e.triggerEvent(new ce(t)),t=>e.triggerEvent(new le(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,R.h)(e=>e instanceof ee),N(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,y.D)(n).pipe((0,Q.J)(),(0,z.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,v.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,O.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(s.v3s),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG($n))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),Un=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pe&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(xn),s.LFG(r.EM),s.LFG(void 0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const jn=new s.OlP("ROUTER_CONFIGURATION"),qn=new s.OlP("ROUTER_FORROOT_GUARD"),zn=[r.Ye,{provide:$e,useClass:Fe},{provide:xn,useFactory:function(e,t,n,r,s,i,o,a={},c,l){const u=new xn(null,e,t,n,r,s,i,Ie(o));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[$e,In,r.Ye,s.zs3,s.v3s,s.Sil,wn,jn,[class{},new s.FiY],[yn,new s.FiY]]},In,{provide:it,useFactory:function(e){return e.routerState.root},deps:[xn]},{provide:s.v3s,useClass:s.EAV},Vn,Mn,Fn,{provide:jn,useValue:{enableTracing:!1}}];function Bn(){return new s.PXZ("Router",xn)}let Hn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[zn,Kn(t),{provide:qn,useFactory:Wn,deps:[[xn,new s.FiY,new s.tp0]]},{provide:jn,useValue:n||{}},{provide:r.S$,useFactory:Yn,deps:[r.lw,[new s.tBr(r.mr),new s.FiY],jn]},{provide:Un,useFactory:Gn,deps:[xn,r.EM,jn]},{provide:$n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:s.PXZ,multi:!0,useFactory:Bn},[Xn,{provide:s.ip1,multi:!0,useFactory:Qn,deps:[Xn]},{provide:Zn,useFactory:Jn,deps:[Xn]},{provide:s.tb,multi:!0,useExisting:Zn}]]}}static forChild(t){return{ngModule:e,providers:[Kn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(qn,8),s.LFG(xn,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})();function Gn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Un(e,t,n)}function Yn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Wn(e){return"guarded"}function Kn(e){return[{provide:s.deG,multi:!0,useValue:e},{provide:wn,multi:!0,useValue:e}]}let Xn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new T.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xn),r=this.injector.get(jn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,v.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(jn),n=this.injector.get(Vn),r=this.injector.get(Un),i=this.injector.get(xn),o=this.injector.get(s.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function Qn(e){return e.appInitializer.bind(e)}function Jn(e){return e.bootstrapListener.bind(e)}const Zn=new s.OlP("Router Initializer")},9534:(e,t,n)=>{"use strict";n.d(t,{Gb:()=>ie,Kz:()=>ue,EI:()=>le,lT:()=>oe,Iv:()=>ae,xP:()=>ce,Xd:()=>se});var r=n(5452),s=n(5601),i=n(3854),o=n(6034),a=n(6676);const c="w:0.5.1",l=new i.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function u(e){return e instanceof i.ZR&&e.code.includes("request-failed")}function h({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function d(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function f(e,t){const n=(await t.json()).error;return l.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function p({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function m(e){const t=await e();return t.status>=500&&t.status<600?e():t}function g(e){return new Promise(t=>{setTimeout(t,e)})}const y=/^[cdef][\w-]{21}$/;function v(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return y.test(t)?t:""}catch(e){return""}}function w(e){return`${e.appName}!${e.appId}`}const b=new Map;function _(e,t){const n=w(e);I(n,t),function(e,t){const n=(!E&&"BroadcastChannel"in self&&(E=new BroadcastChannel("[Firebase] FID Change"),E.onmessage=e=>{I(e.data.key,e.data.fid)}),E);n&&n.postMessage({key:e,fid:t}),0===b.size&&E&&(E.close(),E=null)}(n,t)}function I(e,t){const n=b.get(e);if(n)for(const r of n)r(t)}let E=null;const S="firebase-installations-store";let T=null;function C(){return T||(T=(0,a.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(S)}})),T}async function k(e,t){const n=w(e),r=(await C()).transaction(S,"readwrite"),s=r.objectStore(S),i=await s.get(n);return await s.put(t,n),await r.complete,i&&i.fid===t.fid||_(e,t.fid),t}async function A(e){const t=w(e),n=(await C()).transaction(S,"readwrite");await n.objectStore(S).delete(t),await n.complete}async function x(e,t){const n=w(e),r=(await C()).transaction(S,"readwrite"),s=r.objectStore(S),i=await s.get(n),o=t(i);return void 0===o?await s.delete(n):await s.put(o,n),await r.complete,!o||i&&i.fid===o.fid||_(e,o.fid),o}async function O(e){let t;const n=await x(e,n=>{const r=function(e){return D(e||{fid:v(),registrationStatus:0})}(n),s=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(l.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(e,t){try{return k(e,await async function(e,{fid:t}){const n=h(e),r={method:"POST",headers:p(e),body:JSON.stringify({fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:c})},s=await m(()=>fetch(n,r));if(s.ok){const e=await s.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:d(e.authToken)}}throw await f("Create Installation",s)}(e,t))}catch(n){throw u(n)&&409===n.customData.serverCode?await A(e):await k(e,{fid:t.fid,registrationStatus:0}),n}}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:N(e)}:{installationEntry:t}}(e,r);return t=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function N(e){let t=await R(e);for(;1===t.registrationStatus;)await g(100),t=await R(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await O(e);return n||t}return t}function R(e){return x(e,e=>{if(!e)throw l.create("installation-not-found");return D(e)})}function D(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function P(e,t=!1){let n;const r=await x(e.appConfig,r=>{if(!$(r))throw l.create("not-registered");const s=r.authToken;if(!t&&2===(i=s).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;var i;if(1===s.requestStatus)return n=async function(e,t){let n=await L(e.appConfig);for(;1===n.authToken.requestStatus;)await g(100),n=await L(e.appConfig);const r=n.authToken;return 0===r.requestStatus?P(e,t):r}(e,t),r;{if(!navigator.onLine)throw l.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await async function({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${h(e)}/${t}/authTokens:generate`}(e,n),s=function(e,{refreshToken:t}){const n=p(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),i=t.getImmediate({optional:!0});i&&s.append("x-firebase-client",i.getPlatformInfoString());const o={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:c}})},a=await m(()=>fetch(r,o));if(a.ok)return d(await a.json());throw await f("Generate Auth Token",a)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await k(e.appConfig,r),n}catch(n){if(!u(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await k(e.appConfig,n)}else await A(e.appConfig);throw n}}(e,t),t}});return n?await n:r.authToken}function L(e){return x(e,e=>{if(!$(e))throw l.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function $(e){return void 0!==e&&2===e.registrationStatus}function F(e){return l.create("missing-app-config-values",{valueName:e})}const M="installations";(0,r._registerComponent)(new o.wA(M,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw F("App Configuration");if(!e.name)throw F("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw F(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,r._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,r._registerComponent)(new o.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,r._getProvider)(t,M).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await O(t.appConfig);return r?r.catch(console.error):P(t).catch(console.error),n.fid}(n),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await O(e);t&&await t}(n.appConfig),(await P(n,t)).token}(n,e)}},"PRIVATE")),(0,r.registerVersion)("@firebase/installations","0.5.1");const V="analytics",U="https://www.googletagmanager.com/gtag/js",j=new s.Yd("@firebase/analytics");function q(e){return Promise.all(e.map(e=>e.catch(e=>e)))}const z=new i.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),B=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function H(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function G(e,t=B,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw z.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw z.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new W;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),Y({appId:r,apiKey:s,measurementId:i},o,a,t)}async function Y(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=B){const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(z.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return j.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:o,measurementId:a};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,s={method:"GET",headers:H(r)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(i,s);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw z.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(o),t}catch(c){if(!function(e){if(!(e instanceof i.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(s.deleteThrottleMetadata(o),a)return j.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:o,measurementId:a};throw c}const t=503===Number(c.customData.httpStatus)?(0,i.$s)(n,s.intervalMillis,30):(0,i.$s)(n,s.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return s.setThrottleMetadata(o,l),j.debug(`Calling attemptFetch again in ${t} millis`),Y(e,l,r,s)}}class W{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}class K{constructor(e){this.app=e}_delete(){return delete X[this.app.options.appId],Promise.resolve()}}let X={},Q=[];const J={};let Z,ee,te="dataLayer",ne="gtag",re=!1;function se(e){if(re)throw z.create("already-initialized");e.dataLayerName&&(te=e.dataLayerName),e.gtagName&&(ne=e.gtagName)}async function ie(){if((0,i.ru)())return!1;if(!(0,i.zI)())return!1;if(!(0,i.hl)())return!1;try{return await(0,i.eu)()}catch(e){return!1}}function oe(e,t,n){e=(0,i.m9)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(ee,X[e.app.options.appId],t,n).catch(e=>j.error(e))}function ae(e,t,n){e=(0,i.m9)(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(ee,X[e.app.options.appId],t,n).catch(e=>j.error(e))}function ce(e,t,n){e=(0,i.m9)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(ee,X[e.app.options.appId],t,n).catch(e=>j.error(e))}function le(e,t){e=(0,i.m9)(e),async function(e,t){const n=await e;window[`ga-disable-${n}`]=!t}(X[e.app.options.appId],t).catch(e=>j.error(e))}function ue(e,t,n,r){e=(0,i.m9)(e),async function(e,t,n,r,s){if(s&&s.global)e("event",n,r);else{const s=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}(ee,X[e.app.options.appId],t,n,r).catch(e=>j.error(e))}(0,r._registerComponent)(new o.wA(V,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,i.ru)()&&e.push("This is a browser extension environment."),(0,i.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=z.create("invalid-analytics-context",{errorInfo:t});j.warn(n.message)}}();const r=e.options.appId;if(!r)throw z.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw z.create("no-api-key");j.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=X[r])throw z.create("already-exists",{id:r});if(!re){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(te);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,s){let i=function(...e){window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(i=window[s]),window[s]=function(e,t,n,r){return async function(s,i,o){try{"event"===s?await async function(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let e=s.send_to;Array.isArray(e)||(e=[e]);const r=await q(n);for(const n of e){const e=r.find(e=>e.measurementId===n),s=e&&t[e.appId];if(!s){i=[];break}i.push(s)}}0===i.length&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){j.error(i)}}(e,t,n,i,o):"config"===s?await async function(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const e=(await q(n)).find(e=>e.measurementId===s);e&&await t[e.appId]}}catch(a){j.error(a)}e("config",s,i)}(e,t,n,r,i,o):e("set",i)}catch(a){j.error(a)}}}(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}(X,Q,J,te,ne);ee=e,Z=t,re=!0}return X[r]=async function(e,t,n,r,s,o,a){var c;const l=G(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&j.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>j.error(e)),t.push(l);const u=async function(){if(!(0,i.hl)())return j.warn(z.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,i.eu)()}catch(e){return j.warn(z.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then(e=>e?r.getId():void 0),[h,d]=await Promise.all([l,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(U))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${U}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,h.measurementId),s("js",new Date);const f=null!==(c=null==a?void 0:a.config)&&void 0!==c?c:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),s("config",h.measurementId,f),h.measurementId}(e,Q,J,t,Z,te,n),new K(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,r._registerComponent)(new o.wA("analytics-internal",function(e){try{const t=e.getProvider(V).getImmediate();return{logEvent:(e,n,r)=>ue(t,e,n,r)}}catch(t){throw z.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,r.registerVersion)("@firebase/analytics","0.7.1")},4486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(3854),s=n(6034),i=n(5452),o=n(5601);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,i._addComponent)(e,new s.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,i.deleteApp)(this._delegate)))}_getService(e,t=i._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=i._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,i._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,i._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(s,o={}){const a=i.initializeApp(s,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:s,registerVersion:i.registerVersion,setLogLevel:i.setLogLevel,onLog:i.onLog,apps:null,SDK_VERSION:i.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(i._registerComponent(t)&&"PUBLIC"===t.type){const i=(e=s())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(i,t.serviceProps),n[a]=i,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:i}};function s(e){if(!(0,r.r3)(t,e=e||i._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),s.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,i.registerVersion)("@firebase/app-compat","0.1.3",void 0)},5452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>i.ZR,SDK_VERSION:()=>_,_DEFAULT_ENTRY_NAME:()=>l,_addComponent:()=>f,_addOrOverwriteComponent:()=>p,_apps:()=>h,_clearComponents:()=>v,_components:()=>d,_getProvider:()=>g,_registerComponent:()=>m,_removeServiceInstance:()=>y,deleteApp:()=>T,getApp:()=>E,getApps:()=>S,initializeApp:()=>I,onLog:()=>k,registerVersion:()=>C,setLogLevel:()=>A});var r=n(6034),s=n(5601),i=n(3854);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",u={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},h=new Map,d=new Map;function f(e,t){try{e.container.addComponent(t)}catch(n){c.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function p(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(d.has(t))return c.debug(`There were multiple attempts to register component ${t}.`),!1;d.set(t,e);for(const n of h.values())f(n,e);return!0}function g(e,t){return e.container.getProvider(t)}function y(e,t,n=l){g(e,t).clearInstance(n)}function v(){d.clear()}const w=new i.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const _="9.1.1";function I(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},t),s=n.name;if("string"!=typeof s||!s)throw w.create("bad-app-name",{appName:String(s)});const o=h.get(s);if(o){if((0,i.vZ)(e,o.options)&&(0,i.vZ)(n,o.config))return o;throw w.create("duplicate-app",{appName:s})}const a=new r.H0(s);for(const r of d.values())a.addComponent(r);const c=new b(e,n,a);return h.set(s,c),c}function E(e=l){const t=h.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function S(){return Array.from(h.values())}async function T(e){const t=e.name;h.has(t)&&(h.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function C(e,t,n){var s;let i=null!==(s=u[e])&&void 0!==s?s:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void c.warn(e.join(" "))}m(new r.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function k(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function A(e){(0,s.Ub)(e)}m(new r.wA("platform-logger",e=>new o(e),"PRIVATE")),C(a,"0.7.2",void 0),C("fire-js","")},6034:(e,t,n)=>{"use strict";n.d(t,{wA:()=>i,H0:()=>c});var r=n(4762),s=n(3854),i=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new s.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var s=(0,r.XA)(this.instancesDeferred.entries()),i=s.next();!i.done;i=s.next()){var a=(0,r.CR)(i.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){t={error:d}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var s=e.options,i=void 0===s?{}:s,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var u=(0,r.CR)(l.value,2),h=u[1];o===this.normalizeInstanceIdentifier(u[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);var i=this.instances.get(r);return i&&e(i,r),function(){s.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,s,i=this.onInitCallbacks.get(t);if(i)try{for(var o=(0,r.XA)(i),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(l){}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,s=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:s}),this.instances.set(n,i),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(a){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},5601:(e,t,n)=>{"use strict";n.d(t,{in:()=>s,Yd:()=>l,Ub:()=>u,Am:()=>h});const r=[];var s=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={})),s))();const i={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=a[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=i[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:o,args:i,type:t.name})}}}},3854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>c,LL:()=>S,ZR:()=>E,zI:()=>I,tV:()=>o,$s:()=>$,r3:()=>C,Sg:()=>l,ne:()=>D,vZ:()=>A,ZB:()=>a,pd:()=>R,m9:()=>F,z$:()=>u,jU:()=>f,ru:()=>p,d:()=>g,xb:()=>k,w1:()=>y,hl:()=>b,uI:()=>h,UG:()=>d,b$:()=>m,G6:()=>w,Mn:()=>v,xO:()=>O,zd:()=>N,eu:()=>_});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,c=a?e[s+2]:0;let l=(15&o)<<2|c>>6,u=63&c;a||(u=64,i||(l=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw Error();r.push(t<<2|i>>4),64!==o&&(r.push(i<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},i=function(e){return function(e){const t=r(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(o)),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return u().indexOf("Electron/")>=0}function y(){const e=u();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function _(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function I(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(T,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error";return new E(r,`${this.serviceName}: ${i} (${r}).`,n)}}const T=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(x(n)&&x(i)){if(!A(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function x(e){return null!==e&&"object"==typeof e}function O(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new P(e,t);return n.subscribe.bind(n)}class P{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L(){}function $(e,t=1e3,n=2){const r=t*Math.pow(n,e),s=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+s)}function F(e){return e&&e._delegate?e._delegate:e}},2859:(e,t,n)=>{"use strict";function r(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function s(e,t){return function(n,r){t(n,r,e)}}function i(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}n.d(t,{Br:()=>st,dr:()=>ee,YG:()=>te,Sm:()=>ne,PM:()=>re,FN:()=>se,Zi:()=>ie,tO:()=>oe,gZ:()=>ae,wI:()=>ce,W2:()=>le,IJ:()=>ue,W4:()=>he,Gu:()=>de,gu:()=>fe,ju:()=>pe,MB:()=>me,pK:()=>ge,Ie:()=>ye,u8:()=>ve,IK:()=>we,td:()=>be,Q$:()=>_e,q_:()=>Ie,z0:()=>Ee,fG:()=>Se,zc:()=>Te,nJ:()=>Ce,Wo:()=>ke,jP:()=>Ze,Nd:()=>Ae,jI:()=>xe,g2:()=>Oe,wd:()=>Ne,sr:()=>Re,Pc:()=>vt,r4:()=>mt,SH:()=>G,YI:()=>tt,j9:()=>q,yF:()=>ut});var o=n(8720),a=n(665),c=n(8583),l=n(7405),u=n(4086),h=(n(9554),n(4991),n(7807)),d=n(9461),f=n(7585),p=n(2377),m=n(4001),g=n(5554),y=n(7053),v=(n(960),n(3150)),w=n(9765),b=n(2759),_=n(6215),I=n(5435),E=n(3190),S=n(7519);const T=f.i,C=["*"],k=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let A=(()=>{class e{constructor(e,t){this.injector=e,this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,x(this.el)}handleChangeEvent(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),x(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),x(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(a.a5)}catch(n){}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>x(this.el)));const t=e.control;t&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(e=>{if(t[e]){const n=t[e].bind(t);t[e]=(...e)=>{n(...e),x(this.el)}}})}}return e.\u0275fac=function(e){o.$Z()},e.\u0275dir=o.lG2({type:e,hostBindings:function(e,t){1&e&&o.NdJ("ionBlur",function(e){return t._handleBlurEvent(e.target)})}}),r([(0,o.L6J)("ionBlur",["$event.target"])],e.prototype,"_handleBlurEvent",null),e})();const x=e=>{k(()=>{const t=e.nativeElement,n=O(t);N(t,n);const r=t.closest("ion-item");r&&N(r,n)})},O=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&R(e,"ng-")&&n.push(`ion-${e.substr(3)}`)}return n},N=(e,t)=>{const n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(e=>n.remove(e)),t.forEach(e=>n.add(e))},R=(e,t)=>e.substr(0,t.length)===t;var D;let P=D=class extends A{constructor(e,t){super(e,t)}writeValue(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,x(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}};var L;P.\u0275fac=function(e){return new(e||P)(o.Y36(o.zs3),o.Y36(o.SBq))},P.\u0275dir=o.lG2({type:P,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:D,multi:!0}]),o.qOj]}),P.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],P.prototype,"_handleIonChange",null);let $=L=class extends A{constructor(e,t){super(e,t)}_handleIonChange(e){this.handleChangeEvent(e,e.value)}registerOnChange(e){super.registerOnChange(t=>{e(""===t?null:parseFloat(t))})}};var F;$.\u0275fac=function(e){return new(e||$)(o.Y36(o.zs3),o.Y36(o.SBq))},$.\u0275dir=o.lG2({type:$,selectors:[["ion-input","type","number"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:L,multi:!0}]),o.qOj]}),$.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],$.prototype,"_handleIonChange",null);let M=F=class extends A{constructor(e,t){super(e,t)}_handleIonSelect(e){this.handleChangeEvent(e,e.checked)}};var V;M.\u0275fac=function(e){return new(e||M)(o.Y36(o.zs3),o.Y36(o.SBq))},M.\u0275dir=o.lG2({type:M,selectors:[["ion-radio"]],hostBindings:function(e,t){1&e&&o.NdJ("ionSelect",function(e){return t._handleIonSelect(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:F,multi:!0}]),o.qOj]}),M.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionSelect",["$event.target"])],M.prototype,"_handleIonSelect",null);let U=V=class extends A{constructor(e,t){super(e,t)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}};var j;U.\u0275fac=function(e){return new(e||U)(o.Y36(o.zs3),o.Y36(o.SBq))},U.\u0275dir=o.lG2({type:U,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleChangeEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:V,multi:!0}]),o.qOj]}),U.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],U.prototype,"_handleChangeEvent",null);let q=j=class extends A{constructor(e,t){super(e,t)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}};q.\u0275fac=function(e){return new(e||q)(o.Y36(o.zs3),o.Y36(o.SBq))},q.\u0275dir=o.lG2({type:q,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleInputEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:j,multi:!0}]),o.qOj]}),q.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],q.prototype,"_handleInputEvent",null);let z=class{constructor(e,t){this.doc=e,this.backButton=new w.xQ,this.keyboardDidShow=new w.xQ,this.keyboardDidHide=new w.xQ,this.pause=new w.xQ,this.resume=new w.xQ,this.resize=new w.xQ,t.run(()=>{let n;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,n){return this.subscribe(r=>r.register(e,e=>t.run(()=>n(e))))},H(this.pause,e,"pause"),H(this.resume,e,"resume"),H(this.backButton,e,"ionBackButton"),H(this.resize,this.win,"resize"),H(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),H(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(e=>{n=e}),this.win&&this.win.cordova?e.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(e){return(0,f.a)(this.win,e)}platforms(){return(0,f.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return B(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(e){const t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};z.\u0275fac=function(e){return new(e||z)(o.LFG(c.K0),o.LFG(o.R0b))},z.\u0275prov=o.Yz7({token:z,factory:function(e){return z.\u0275fac(e)},providedIn:"root"}),z.ngInjectableDef=(0,o.Yz7)({factory:function(){return new z((0,o.LFG)(c.K0),(0,o.LFG)(o.R0b))},token:z,providedIn:"root"}),z=r([s(0,(0,o.tBr)(c.K0))],z);const B=(e,t)=>{t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},H=(e,t,n)=>{t&&t.addEventListener(n,t=>{e.next(null!=t?t.detail:void 0)})};let G=class{constructor(e,t,n,r){this.location=t,this.serializer=n,this.router=r,this.direction=W,this.animated=K,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(e=>{if(e instanceof l.OD){const t=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=t<this.lastNavId?"back":"forward",this.guessAnimation=e.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?e.id:t}}),e.backButton.subscribeWithPriority(0,e=>{this.pop(),e()})}navigateForward(e,t={}){return this.setDirection("forward",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateBack(e,t={}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateRoot(e,t={}){return this.setDirection("root",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return i(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,t,n,r){this.direction=e,this.animated=Y(e,t,n),this.animationBuilder=r}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,t="root";const n=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=W,this.animated=K,this.animationBuilder=void 0,{direction:t,animation:e,animationBuilder:n}}navigate(e,t){if(Array.isArray(e))return this.router.navigate(e,t);{const n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}};G.\u0275fac=function(e){return new(e||G)(o.LFG(z),o.LFG(c.Ye),o.LFG(l.Hx),o.LFG(l.F0,8))},G.\u0275prov=o.Yz7({token:G,factory:function(e){return G.\u0275fac(e)},providedIn:"root"}),G.ngInjectableDef=(0,o.Yz7)({factory:function(){return new G((0,o.LFG)(z),(0,o.LFG)(c.Ye),(0,o.LFG)(l.Hx),(0,o.LFG)(l.F0,8))},token:G,providedIn:"root"}),G=r([s(3,(0,o.FiY)())],G);const Y=(e,t,n)=>{if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},W="auto",K=void 0,X=(e,t)=>{const n=e.prototype;t.forEach(e=>{Object.defineProperty(n,e,{get(){return this.el[e]},set(t){this.z.runOutsideAngular(()=>this.el[e]=t)}})})},Q=(e,t)=>{const n=e.prototype;t.forEach(e=>{n[e]=function(){const t=arguments;return this.z.runOutsideAngular(()=>this.el[e].apply(this.el,t))}})},J=(e,t,n)=>{n.forEach(n=>e[n]=(0,b.R)(t,n))};function Z(e){return function(t){return e.inputs&&X(t,e.inputs),e.methods&&Q(t,e.methods),t}}let ee=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-app"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),te=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),ne=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["collapse"]})],e),e})(),re=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),se=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["mode"]})],e),e})(),ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","mode","translucent"]})],e),e})(),oe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","mode"]})],e),e})(),ae=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","mode"]})],e),e})(),ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],e),e})(),le=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),ue=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],e),e})(),he=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],e),e})(),de=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["collapse","mode","translucent"]})],e),e})(),fe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),pe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionInfinite"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["disabled","position","threshold"],methods:["complete"]})],e),e})(),me=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-infinite-scroll-content"]],inputs:{loadingSpinner:"loadingSpinner",loadingText:"loadingText"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["loadingSpinner","loadingText"]})],e),e})(),ge=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),ye=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),ve=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),we=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["side"]})],e),e})(),be=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionDrag"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),_e=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","mode","position"]})],e),e})(),Ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),Ee=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],e),e})(),Se=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["autoHide","color","disabled","menu","mode","type"]})],e),e})(),Te=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["autoHide","menu"]})],e),e})(),Ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionRefresh","ionPull","ionStart"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],e),e})(),ke=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],e),e})(),Ae=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-row"]],ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),xe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionSplitPaneVisible"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["contentId","disabled","when"]})],e),e})(),Oe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,J(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],e),e})(),Ne=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","size"]})],e),e})(),Re=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:C,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([Z({inputs:["color","mode"]})],e),e})(),De=class{get(e,t){const n=Le();return n?n.get(e,t):null}getBoolean(e,t){const n=Le();return!!n&&n.getBoolean(e,t)}getNumber(e,t){const n=Le();return n?n.getNumber(e,t):0}set(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=Le();n&&n.set(e,t)}};De.\u0275fac=function(e){return new(e||De)},De.\u0275prov=o.Yz7({token:De,factory:function(e){return De.\u0275fac(e)},providedIn:"root"}),De.ngInjectableDef=(0,o.Yz7)({factory:function(){return new De},token:De,providedIn:"root"});const Pe=new o.OlP("USERCONFIG"),Le=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null};class $e{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Fe=(()=>{let e=class{constructor(e,t){this.zone=e,this.appRef=t}create(e,t,n){return new Me(e,t,n,this.appRef,this.zone)}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b),o.LFG(o.z2F))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class Me{constructor(e,t,n,r,s){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,n,r){return this.zone.run(()=>new Promise(s=>{s(Ve(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,n,r))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(e=>{const n=this.elRefMap.get(t);if(n){n.destroy(),this.elRefMap.delete(t);const e=this.elEventsMap.get(t);e&&(e(),this.elEventsMap.delete(t))}e()}))}}const Ve=(e,t,n,r,s,i,a,c,l,u,h)=>{const d=t.resolveComponentFactory(l),f=o.zs3.create({providers:ze(u),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),m=p.instance,g=p.location.nativeElement;if(u&&Object.assign(m,u),h)for(const o of h)g.classList.add(o);const y=je(e,m,g);return c.appendChild(g),r||s.attachView(p.hostView),p.changeDetectorRef.reattach(),i.set(g,p),a.set(g,y),g},Ue=[m.L,m.a,m.b,m.c,m.d],je=(e,t,n)=>e.run(()=>{const e=Ue.filter(e=>"function"==typeof t[e]).map(e=>{const r=n=>t[e](n.detail);return n.addEventListener(e,r),()=>n.removeEventListener(e,r)});return()=>e.forEach(e=>e())}),qe=new o.OlP("NavParamsToken"),ze=e=>[{provide:qe,useValue:e},{provide:$e,useFactory:Be,deps:[qe]}],Be=e=>new $e(e),He=(e,t)=>((e=e.filter(e=>e.stackId!==t.stackId)).push(t),e),Ge=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},Ye=(e,t)=>{if(!e)return;const n=We(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},We=e=>e.split("/").map(e=>e.trim()).filter(e=>""!==e),Ke=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class Xe{constructor(e,t,n,r,s,i){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=s,this.location=i,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?We(e):void 0}createView(e,t){const n=Ge(this.router,t),r=e&&e.location&&e.location.nativeElement,s=je(this.zone,e.instance,r);return{id:this.nextId++,stackId:Ye(this.tabsPrefix,n),unlistenEvents:s,element:r,ref:e,url:n}}getExistingView(e){const t=Ge(this.router,e),n=this.views.find(e=>e.url===t);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(e){const t=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:s}=t;const i=this.activeView,o=((e,t)=>!t||e.stackId!==t.stackId)(e,i);o&&(n="back",r=void 0);const a=this.views.slice();let c;const l=this.router;l.getCurrentNavigation?c=l.getCurrentNavigation():l.navigations&&l.navigations.value&&(c=l.navigations.value),c&&c.extras&&c.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const u=this.views.includes(e),h=this.insertView(e,n);u||e.ref.changeDetectorRef.detectChanges();const d=e.animationBuilder;return void 0!==s||"back"!==n||o||void 0===d||(s=d),i&&(i.animationBuilder=s),this.zone.runOutsideAngular(()=>this.wait(()=>(i&&i.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,i,r,this.canGoBack(1),!1,s).then(()=>Qe(e,h,a,this.location)).then(()=>({enteringView:e,direction:n,animation:r,tabSwitch:o})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(t);if(n.length<=e)return Promise.resolve(!1);const r=n[n.length-e-1];let s=r.url;const i=r.savedData;if(i){const e=i.get("primary");e&&e.route&&e.route._routerState&&e.route._routerState.snapshot&&e.route._routerState.snapshot.url&&(s=e.route._routerState.snapshot.url)}const{animationBuilder:o}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,Object.assign({},r.savedExtras,{animation:o})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),n=t[t.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,e,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Je(this.activeView,this.views,this.views,this.location)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ke),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((e,t,n)=>"root"===n?He(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):He(e,t))(e,t))(this.views,e,t),this.views.slice()}transition(e,t,n,r,s,i){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const o=e?e.element:void 0,a=t?t.element:void 0,c=this.containerEl;return o&&o!==a&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==c&&c.appendChild(o),c.commit)?c.commit(o,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:s,animationBuilder:i}):Promise.resolve(!1)}wait(e){return i(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const Qe=(e,t,n,r)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{Je(e,t,n,r),s()})}):Promise.resolve(),Je=(e,t,n,r)=>{n.filter(e=>!t.includes(e)).forEach(Ke),t.forEach(t=>{const n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){const e=t.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})};let Ze=(()=>{let e=class{constructor(e,t,n,r,s,i,a,c,u,h,d,f,p){this.parentContexts=e,this.location=t,this.resolver=n,this.config=i,this.navCtrl=a,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new _.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=u.nativeElement,this.name=r||l.eC,this.tabsPrefix="true"===s?Ge(h,f):void 0,this.stackCtrl=new Xe(this.tabsPrefix,this.nativeEl,h,a,d,c),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,p.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,t){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);const t=this.activatedView.savedData.get("primary");if(t&&e.route&&(t.route=Object.assign({},e.route)),this.activatedView.savedExtras={},e.route){const t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=e;let r=this.stackCtrl.getExistingView(e);if(r){n=this.activated=r.ref;const t=r.savedData;t&&(this.getContext().children.contexts=t),this.updateActivatedRouteProxy(n.instance,e)}else{const s=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new _.X(null),a=this.createActivatedRouteProxy(o,e),c=new et(a,i,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,c),o.next(n.instance),r=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=r,this.stackCtrl.setActive(r).then(e=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(e)})}canGoBack(e=1,t){return this.stackCtrl.canGoBack(e,t)}pop(e=1,t){return this.stackCtrl.pop(e,t)}getLastUrl(e){const t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,t){const n=new l.gz;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}proxyObservable(e,t){return e.pipe((0,I.h)(e=>!!e),(0,E.w)(e=>this.currentActivatedRoute$.pipe((0,I.h)(t=>null!==t&&t.component===e),(0,E.w)(e=>e&&e.activatedRoute[t]),(0,S.x)())))}updateActivatedRouteProxy(e,t){const n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.y6),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.$8M("tabs"),o.Y36(De),o.Y36(G),o.Y36(c.Ye),o.Y36(o.SBq),o.Y36(l.F0),o.Y36(o.R0b),o.Y36(l.gz),o.Y36(e,12))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r([(0,o.r_U)()],e.prototype,"stackEvents",void 0),r([(0,o.r_U)("activate")],e.prototype,"activateEvents",void 0),r([(0,o.r_U)("deactivate")],e.prototype,"deactivateEvents",void 0),e=r([s(3,(0,o.ahi)("name")),s(4,(0,o.FiY)()),s(4,(0,o.ahi)("tabs")),s(12,(0,o.tp0)()),s(12,(0,o.FiY)())],e),e})();class et{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===l.gz?this.route:e===l.y6?this.childContexts:this.parent.get(e,t)}}let tt=(()=>{let e=class{constructor(e,t,n,r,s){this.locationStrategy=e,this.navCtrl=t,this.elementRef=n,this.router=r,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateTargetUrlAndHref(){if(this.routerLink){const e=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=e}}onClick(e){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),e.preventDefault()}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.S$),o.Y36(G),o.Y36(o.SBq),o.Y36(l.F0),o.Y36(l.rH,8))},e.\u0275dir=o.lG2({type:e,selectors:[["","routerLink",""]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.onClick(e)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[o.TTD]}),r([(0,o.L6J)("click",["$event"])],e.prototype,"onClick",null),e=r([s(4,(0,o.FiY)())],e),e})();class nt{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,n){return this.ctrl.dismiss(e,t,n)}getTop(){return this.ctrl.getTop()}}let rt=class extends nt{constructor(){super(y.b)}};rt.\u0275fac=function(e){return new(e||rt)},rt.\u0275prov=o.Yz7({token:rt,factory:function(e){return rt.\u0275fac(e)},providedIn:"root"}),rt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new rt},token:rt,providedIn:"root"});let st=class extends nt{constructor(){super(y.a)}};st.\u0275fac=function(e){return new(e||st)},st.\u0275prov=o.Yz7({token:st,factory:function(e){return st.\u0275fac(e)},providedIn:"root"}),st.ngInjectableDef=(0,o.Yz7)({factory:function(){return new st},token:st,providedIn:"root"});let it=class extends nt{constructor(){super(y.l)}};it.\u0275fac=function(e){return new(e||it)},it.\u0275prov=o.Yz7({token:it,factory:function(e){return it.\u0275fac(e)},providedIn:"root"}),it.ngInjectableDef=(0,o.Yz7)({factory:function(){return new it},token:it,providedIn:"root"});let ot=class{open(e){return g.m.open(e)}close(e){return g.m.close(e)}toggle(e){return g.m.toggle(e)}enable(e,t){return g.m.enable(e,t)}swipeGesture(e,t){return g.m.swipeGesture(e,t)}isOpen(e){return g.m.isOpen(e)}isEnabled(e){return g.m.isEnabled(e)}get(e){return g.m.get(e)}getOpen(){return g.m.getOpen()}getMenus(){return g.m.getMenus()}};ot.\u0275fac=function(e){return new(e||ot)},ot.\u0275prov=o.Yz7({token:ot,factory:function(e){return ot.\u0275fac(e)},providedIn:"root"}),ot.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ot},token:ot,providedIn:"root"});let at=class extends nt{constructor(){super(y.p)}};at.\u0275fac=function(e){return new(e||at)},at.\u0275prov=o.Yz7({token:at,factory:function(e){return at.\u0275fac(e)},providedIn:"root"}),at.ngInjectableDef=(0,o.Yz7)({factory:function(){return new at},token:at,providedIn:"root"});let ct=(()=>{let e=class extends nt{constructor(e,t,n){super(y.m),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Fe),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),lt=(()=>{let e=class extends nt{constructor(e,t,n){super(y.c),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Fe),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),ut=class extends nt{constructor(){super(y.t)}};ut.\u0275fac=function(e){return new(e||ut)},ut.\u0275prov=o.Yz7({token:ut,factory:function(e){return ut.\u0275fac(e)},providedIn:"root"}),ut.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ut},token:ut,providedIn:"root"});let ht=class{read(e){dt().read(e)}write(e){dt().write(e)}};ht.\u0275fac=function(e){return new(e||ht)},ht.\u0275prov=o.Yz7({token:ht,factory:function(e){return ht.\u0275fac(e)},providedIn:"root"}),ht.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ht},token:ht,providedIn:"root"});const dt=()=>{const e="undefined"!=typeof window?window:null;if(null!=e){const t=e.Ionic;return t&&t.queue?t.queue:{read:t=>e.requestAnimationFrame(t),write:t=>e.requestAnimationFrame(t)}}return{read:e=>e(),write:e=>e()}};let ft=class{create(e){return(0,u.c)(e)}easingTime(e,t,n,r,s){return(0,h.g)(e,t,n,r,s)}};ft.\u0275fac=function(e){return new(e||ft)},ft.\u0275prov=o.Yz7({token:ft,factory:function(e){return ft.\u0275fac(e)},providedIn:"root"}),ft.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ft},token:ft,providedIn:"root"});let pt=class{constructor(e){this.zone=e}create(e,t=!1){return t&&Object.getOwnPropertyNames(e).forEach(t=>{if("function"==typeof e[t]){const n=e[t];e[t]=(...e)=>this.zone.run(()=>n(...e))}}),(0,d.createGesture)(e)}};pt.\u0275fac=function(e){return new(e||pt)(o.LFG(o.R0b))},pt.\u0275prov=o.Yz7({token:pt,factory:function(e){return pt.\u0275fac(e)},providedIn:"root"}),pt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new pt((0,o.LFG)(o.R0b))},token:pt,providedIn:"root"});class mt{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const n=e.params,r=t.params,s=Object.keys(n),i=Object.keys(r);if(s.length!==i.length)return!1;for(const o of s)if(r[o]!==n[o])return!1;return!0}}const gt=(e,t,r)=>()=>{const s=t.defaultView;if(s&&"undefined"!=typeof window){(s.Ionic=s.Ionic||{}).config=Object.assign({},e,{_zoneGate:e=>r.run(e)});const i="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(n.e(6748).then(n.t.bind(n,5141,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(2214).then(n.t.bind(n,7656,23)))}return Promise.all(e)}().then(()=>{return e={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:k,jmp:e=>r.runOutsideAngular(e),ael(e,t,n,r){e[i](t,n,r)},rel(e,t,n,r){e.removeEventListener(t,n,r)}},"undefined"==typeof window?Promise.resolve():(v.C&&v.C.supports&&v.C.supports("color","var(--c)")?(0,v.a)():n.e(1843).then(n.t.bind(n,5902,23)).then(()=>(v.p.$cssShim$=v.w.__cssshim)?v.p.$cssShim$.i():0)).then(()=>(T(),(0,v.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),e)));var e})}};var yt;let vt=yt=class{static forRoot(e){return{ngModule:yt,providers:[{provide:Pe,useValue:e},{provide:o.ip1,useFactory:gt,multi:!0,deps:[Pe,c.K0,o.R0b]}]}}};vt.\u0275fac=function(e){return new(e||vt)},vt.\u0275mod=o.oAB({type:vt}),vt.\u0275inj=o.cJS({providers:[Fe,ct,lt],imports:[[c.ez]]})},4086:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var r=n(2377);let s;const i=e=>{if(void 0===s){const t=void 0!==e.style.webkitAnimationName;s=void 0===e.style.animationName&&t?"-webkit-":""}return s},o=(e,t,n)=>{const r=t.startsWith("animation")?i(e):"";e.style.setProperty(r+t,n)},a=(e,t)=>{const n=t.startsWith("animation")?i(e):"";e.style.removeProperty(n+t)},c=[],l=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},u=e=>{let t,n,s,u,h,d,f,p,m,g,y,v,w,b=[],_=[],I=[],E=!1,S={},T=[],C=[],k={},A=0,x=!1,O=!1,N=!0,R=!1,D=!0;const P=e,L=[],$=[],F=[],M=[],V=[],U=[],j=[],q=[],z=[],B=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,Y=(e,t)=>((t&&t.oneTimeCallback?$:L).push({c:e,o:t}),w),W=()=>{if(G)B.forEach(e=>{e.cancel()}),B.length=0;else{const e=F.slice();(0,r.r)(()=>{e.forEach(e=>{a(e,"animation-name"),a(e,"animation-duration"),a(e,"animation-timing-function"),a(e,"animation-iteration-count"),a(e,"animation-delay"),a(e,"animation-play-state"),a(e,"animation-fill-mode"),a(e,"animation-direction")})})}},K=()=>{V.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),V.length=0},X=()=>void 0!==h?h:f?f.getFill():"both",Q=()=>void 0!==m?m:void 0!==d?d:f?f.getDirection():"normal",J=()=>x?"linear":void 0!==s?s:f?f.getEasing():"linear",Z=()=>O?0:void 0!==g?g:void 0!==n?n:f?f.getDuration():0,ee=()=>void 0!==u?u:f?f.getIterations():1,te=()=>void 0!==y?y:void 0!==t?t:f?f.getDelay():0,ne=()=>{0!==A&&(A--,0===A&&((()=>{ue(),q.forEach(e=>e()),z.forEach(e=>e());const e=N?1:0,t=T,n=C,r=k;F.forEach(e=>{const s=e.classList;t.forEach(e=>s.add(e)),n.forEach(e=>s.remove(e));for(const t in r)r.hasOwnProperty(t)&&o(e,t,r[t])}),L.forEach(t=>t.c(e,w)),$.forEach(t=>t.c(e,w)),$.length=0,D=!0,N&&(R=!0),N=!0})(),f&&f.animationFinish()))},re=(t=!0)=>{(()=>{U.forEach(e=>e()),j.forEach(e=>e());const e=_,t=I,n=S;F.forEach(r=>{const s=r.classList;e.forEach(e=>s.add(e)),t.forEach(e=>s.remove(e));for(const e in n)n.hasOwnProperty(e)&&o(r,e,n[e])})})(),b.length>0&&(G?(F.forEach(e=>{const t=e.animate(b,{id:P,delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:X(),direction:Q()});t.pause(),B.push(t)}),B.length>0&&(B[0].onfinish=()=>{ne()})):((t=!0)=>{K();const n=((s=b).forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{const r=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==t&&(e[r]=n,delete e[t])}}}),s);var s;F.forEach(s=>{if(n.length>0){const a=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(n);v=void 0!==e?e:(e=>{let t=c.indexOf(e);return t<0&&(t=c.push(e)-1),`ion-animation-${t}`})(a);const l=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),s=i(n),o=r.querySelector("#"+e);if(o)return o;const a=(n.ownerDocument||document).createElement("style");return a.id=e,a.textContent=`@${s}keyframes ${e} { ${t} } @${s}keyframes ${e}-alt { ${t} }`,r.appendChild(a),a})(v,a,s);V.push(l),o(s,"animation-duration",`${Z()}ms`),o(s,"animation-timing-function",J()),o(s,"animation-delay",`${te()}ms`),o(s,"animation-fill-mode",X()),o(s,"animation-direction",Q());const u=ee()===1/0?"infinite":ee().toString();o(s,"animation-iteration-count",u),o(s,"animation-play-state","paused"),t&&o(s,"animation-name",`${l.id}-alt`),(0,r.r)(()=>{o(s,"animation-name",l.id||null)})}})})(t)),E=!0},se=e=>{if(e=Math.min(Math.max(e,0),.9999),G)B.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+Z()*e,t.pause()});else{const t=`-${Z()*e}ms`;F.forEach(e=>{b.length>0&&(o(e,"animation-delay",t),o(e,"animation-play-state","paused"))})}},ie=e=>{B.forEach(e=>{e.effect.updateTiming({delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:X(),direction:Q()})}),void 0!==e&&se(e)},oe=(e=!0,t)=>{(0,r.r)(()=>{F.forEach(n=>{o(n,"animation-name",v||null),o(n,"animation-duration",`${Z()}ms`),o(n,"animation-timing-function",J()),o(n,"animation-delay",void 0!==t?`-${t*Z()}ms`:`${te()}ms`),o(n,"animation-fill-mode",X()||null),o(n,"animation-direction",Q()||null);const s=ee()===1/0?"infinite":ee().toString();o(n,"animation-iteration-count",s),e&&o(n,"animation-name",`${v}-alt`),(0,r.r)(()=>{o(n,"animation-name",v||null)})})})},ae=(e=!1,t=!0,n)=>(e&&M.forEach(r=>{r.update(e,t,n)}),G?ie(n):oe(t,n),w),ce=()=>{E&&(G?B.forEach(e=>{e.pause()}):F.forEach(e=>{o(e,"animation-play-state","paused")}))},le=()=>{p=void 0,ne()},ue=()=>{p&&clearTimeout(p)},he=e=>new Promise(t=>{e&&e.sync&&(O=!0,Y(()=>O=!1,{oneTimeCallback:!0})),E||re(),R&&(G?(se(0),ie()):oe(),R=!1),D&&(A=M.length+1,D=!1),Y(()=>t(),{oneTimeCallback:!0}),M.forEach(e=>{e.play()}),G?(B.forEach(e=>{e.play()}),0!==b.length&&0!==F.length||ne()):(()=>{if(ue(),(0,r.r)(()=>{F.forEach(e=>{b.length>0&&o(e,"animation-play-state","running")})}),0===b.length||0===F.length)ne();else{const e=te()||0,t=Z()||0,n=ee()||1;isFinite(n)&&(p=setTimeout(le,e+t*n+100)),((e,t)=>{let n;const s={passive:!0},i=t=>{e===t.target&&(n&&n(),ue(),(0,r.r)(()=>{F.forEach(e=>{a(e,"animation-duration"),a(e,"animation-delay"),a(e,"animation-play-state")}),(0,r.r)(ne)}))};e&&(e.addEventListener("webkitAnimationEnd",i,s),e.addEventListener("animationend",i,s),n=()=>{e.removeEventListener("webkitAnimationEnd",i,s),e.removeEventListener("animationend",i,s)})})(F[0])}})()}),de=(e,t)=>{const n=b[0];return void 0===n||void 0!==n.offset&&0!==n.offset?b=[{offset:0,[e]:t},...b]:n[e]=t,w};return w={parentAnimation:f,elements:F,childAnimations:M,id:P,animationFinish:ne,from:de,to:(e,t)=>{const n=b[b.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?b=[...b,{offset:1,[e]:t}]:n[e]=t,w},fromTo:(e,t,n)=>de(e,t).to(e,n),parent:e=>(f=e,w),play:he,pause:()=>(M.forEach(e=>{e.pause()}),ce(),w),stop:()=>{M.forEach(e=>{e.stop()}),E&&(W(),E=!1),x=!1,O=!1,D=!0,m=void 0,g=void 0,y=void 0,A=0,R=!1,N=!0},destroy:e=>(M.forEach(t=>{t.destroy(e)}),(e=>{W(),e&&K()})(e),F.length=0,M.length=0,b.length=0,L.length=0,$.length=0,E=!1,D=!0,w),keyframes:e=>(b=e,w),addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(w),M.push(t);else e.parent(w),M.push(e);return w},addElement:e=>{if(null!=e)if(1===e.nodeType)F.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)F.push(e[t]);else console.error("Invalid addElement value");return w},update:ae,fill:e=>(h=e,ae(!0),w),direction:e=>(d=e,ae(!0),w),iterations:e=>(u=e,ae(!0),w),duration:e=>(G||0!==e||(e=1),n=e,ae(!0),w),easing:e=>(s=e,ae(!0),w),delay:e=>(t=e,ae(!0),w),getWebAnimations:()=>B,getKeyframes:()=>b,getFill:X,getDirection:Q,getDelay:te,getIterations:ee,getEasing:J,getDuration:Z,afterAddRead:e=>(q.push(e),w),afterAddWrite:e=>(z.push(e),w),afterClearStyles:(e=[])=>{for(const t of e)k[t]="";return w},afterStyles:(e={})=>(k=e,w),afterRemoveClass:e=>(C=l(C,e),w),afterAddClass:e=>(T=l(T,e),w),beforeAddRead:e=>(U.push(e),w),beforeAddWrite:e=>(j.push(e),w),beforeClearStyles:(e=[])=>{for(const t of e)S[t]="";return w},beforeStyles:(e={})=>(S=e,w),beforeRemoveClass:e=>(I=l(I,e),w),beforeAddClass:e=>(_=l(_,e),w),onFinish:Y,progressStart:(e=!1,t)=>(M.forEach(n=>{n.progressStart(e,t)}),ce(),x=e,E?ae(!1,!0,t):re(),w),progressStep:e=>(M.forEach(t=>{t.progressStep(e)}),se(e),w),progressEnd:(e,t,n)=>(x=!1,M.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(g=n),R=!1,N=!0,0===e?(m="reverse"===Q()?"normal":"reverse","reverse"===m&&(N=!1),G?(ae(),se(1-t)):(y=(1-t)*Z()*-1,ae(!1,!1))):1===e&&(G?(ae(),se(t)):(y=t*Z()*-1,ae(!1,!1))),void 0!==e&&(Y(()=>{g=void 0,m=void 0,y=void 0},{oneTimeCallback:!0}),f||he()),w)}}},7807:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});const r=(e,t,n,r,o)=>i(e[1],t[1],n[1],r[1],o).map(i=>s(e[0],t[0],n[0],r[0],i)),s=(e,t,n,r,s)=>s*(3*t*Math.pow(s-1,2)+s*(-3*n*s+3*n+r*s))-e*Math.pow(s-1,3),i=(e,t,n,r,s)=>o((r-=s)-3*(n-=s)+3*(t-=s)-(e-=s),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),o=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const s=(3*(n/=e)-(t/=e)*t)/3,i=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===s)return[Math.pow(-i,1/3)];if(0===i)return[Math.sqrt(-s),-Math.sqrt(-s)];const o=Math.pow(i/2,2)+Math.pow(s/3,3);if(0===o)return[Math.pow(i/2,.5)-t/3];if(o>0)return[Math.pow(-i/2+Math.sqrt(o),1/3)-Math.pow(i/2+Math.sqrt(o),1/3)-t/3];const a=Math.sqrt(Math.pow(-s/3,3)),c=Math.acos(-i/(2*Math.sqrt(Math.pow(-s/3,3)))),l=2*Math.pow(a,1/3);return[l*Math.cos(c/3)-t/3,l*Math.cos((c+2*Math.PI)/3)-t/3,l*Math.cos((c+4*Math.PI)/3)-t/3]}},960:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});class r{constructor(e,t,n,r,s){this.id=t,this.name=n,this.disableScroll=s,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class s{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const i="backdrop-no-scroll",o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new s(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(e=>{s=Math.max(s,e)}),s===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(i)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(i)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}},3087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:()=>o,OVERLAY_BACK_BUTTON_PRIORITY:()=>i,blockHardwareBackButton:()=>r,startHardwareBackButton:()=>s});const r=()=>{document.addEventListener("backbutton",()=>{})},s=()=>{const e=document;let t=!1;e.addEventListener("backbutton",()=>{if(t)return;let n=0,r=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(s);const i=()=>{if(r.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(t=>{t.priority>=e.priority&&(e=t)}),t=!0,r=r.filter(t=>t.id!==e.id),(async e=>{try{if(e&&e.handler){const t=e.handler(i);null!=t&&await t}}catch(t){console.error(t)}})(e).then(()=>t=!1)}};i()})},i=100,o=99},2377:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>o,c:()=>r,d:()=>h,e:()=>d,f:()=>v,g:()=>a,h:()=>u,i:()=>s,j:()=>f,k:()=>l,l:()=>p,m:()=>y,n:()=>w,o:()=>m,p:()=>g,r:()=>c});const r=(e,t)=>{e.componentOnReady?e.componentOnReady().then(e=>t(e)):c(()=>t(e))},s=(e,t=[])=>{const n={};return t.forEach(t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))}),n},i=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_ael");if(s)return s(e,t,n,r);if(i._ael)return i._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},o=(e,t,n,r)=>{if("undefined"!=typeof window){const s=window,i=s&&s.Ionic&&s.Ionic.config;if(i){const s=i.get("_rel");if(s)return s(e,t,n,r);if(i._rel)return i._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},a=(e,t=e)=>e.shadowRoot||t,c=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),l=e=>!!e.shadowRoot&&!!e.attachShadow,u=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},h=(e,t)=>{let n;const r=e.getAttribute("aria-labelledby"),s=e.id;let i=null!==r&&""!==r.trim()?r:t+"-lbl",o=null!==r&&""!==r.trim()?document.getElementById(r):u(e);return o?(null===r&&(o.id=i),n=o.textContent,o.setAttribute("aria-hidden","true")):""!==s.trim()&&(o=document.querySelector(`label[for="${s}"]`),o&&(""!==o.id?i=o.id:o.id=i=`${s}-lbl`,n=o.textContent)),{label:o,labelId:i,labelText:n}},d=(e,t,n,r,s)=>{if(e||l(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=s,e.name=n,e.value=r||""}},f=(e,t,n)=>Math.max(e,Math.min(t,n)),p=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},m=e=>e.timeStamp||Date.now(),g=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},y=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},v=(e,t)=>{const n=e._original||e;return{_original:e,emit:w(n.emit.bind(n),t)}},w=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}},5554:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var r=n(3087),s=n(2377),i=n(7585),o=n(4086);const a=e=>(0,o.c)().duration(e?400:300),c=e=>{let t,n;const r=e.width+8,s=(0,o.c)(),c=(0,o.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),s.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`);const l="ios"===(0,i.b)(e),u=l?.2:.25;return c.addElement(e.backdropEl).fromTo("opacity",.01,u),a(l).addAnimation([s,c])},l=e=>{let t,n;const r=(0,i.b)(e),s=e.width;e.isEndSide?(t=-s+"px",n=s+"px"):(t=s+"px",n=-s+"px");const c=(0,o.c)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),l=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),u=(0,o.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return a("ios"===r).addAnimation([c,l,u])},u=e=>{const t=(0,i.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return a("ios"===t).addAnimation(r)},h=(()=>{const e=new Map,t=[],n=async e=>(await p(),"start"===e||"end"===e?f(t=>t.side===e&&!t.disabled)||f(t=>t.side===e):null!=e?f(t=>t.menuId===e):f(e=>!e.disabled)||(t.length>0?t[0].el:void 0)),i=async()=>(await p(),h()),o=(t,n)=>{e.set(t,n)},a=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},h=()=>f(e=>e._isOpen),d=()=>t.some(e=>e.isAnimating),f=e=>{const n=t.find(e);if(void 0!==n)return n.el},p=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>new Promise(t=>(0,s.c)(e,t))));return o("reveal",u),o("push",l),o("overlay",c),"undefined"!=typeof document&&document.addEventListener("ionBackButton",e=>{const t=h();t&&e.detail.register(r.MENU_BACK_BUTTON_PRIORITY,()=>t.close())}),{registerAnimation:o,get:n,getMenus:async()=>(await p(),t.map(e=>e.el)),getOpen:i,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await p(),d()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await i()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):i());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:h,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||a(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(d())return!1;if(t){const t=await i();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:a}})()},9461:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:()=>r.G,createGesture:()=>c});var r=n(960);const s=(e,t,n,r)=>{const s=i(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,a;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),e[o](t,n,s),()=>{e[a](t,n,s)}},i=e=>{if(void 0===o)try{const t=Object.defineProperty({},"passive",{get:()=>{o=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){o=!1}return!!o};let o;const a=e=>e instanceof Document?e:e.ownerDocument,c=e=>{let t=!1,n=!1,i=!0,o=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),d=c.canStart,f=c.onWillStart,p=c.onStart,m=c.onEnd,g=c.notCaptured,y=c.onMove,v=c.threshold,w=c.passive,b=c.blurOnStart,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},I=((e,t,n)=>{const r=n*(Math.PI/180),s="x"===e,i=Math.cos(r),o=t*t;let a=0,c=0,l=!1,u=0;return{start(e,t){a=e,c=t,u=0,l=!0},detect(e,t){if(!l)return!1;const n=e-a,r=t-c,h=n*n+r*r;if(h<o)return!1;const d=Math.sqrt(h),f=(s?n:r)/d;return u=f>i?1:f<-i?-1:0,l=!1,!0},isGesture:()=>0!==u,getDirection:()=>u}})(c.direction,c.threshold,c.maxAngle),E=r.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),S=()=>{t&&(o=!1,y&&y(_))},T=()=>!(E&&!E.capture()||(t=!0,i=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,f?f(_).then(C):C(),0)),C=()=>{b&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;null!==e&&e.blur&&e.blur()}})(),p&&p(_),i=!0},k=()=>{t=!1,n=!1,o=!1,i=!0,E.release()},A=e=>{const n=t,r=i;k(),r&&(l(_,e),n?m&&m(_):g&&g(_))},x=((e,t,n,r,i)=>{let o,c,l,u,h,d,f,p=0;const m=r=>{p=Date.now()+2e3,t(r)&&(!c&&n&&(c=s(e,"touchmove",n,i)),l||(l=s(r.target,"touchend",y,i)),u||(u=s(r.target,"touchcancel",y,i)))},g=r=>{p>Date.now()||t(r)&&(!d&&n&&(d=s(a(e),"mousemove",n,i)),f||(f=s(a(e),"mouseup",v,i)))},y=e=>{w(),r&&r(e)},v=e=>{b(),r&&r(e)},w=()=>{c&&c(),l&&l(),u&&u(),c=l=u=void 0},b=()=>{d&&d(),f&&f(),d=f=void 0},_=()=>{w(),b()},I=(t=!0)=>{t?(o||(o=s(e,"touchstart",m,i)),h||(h=s(e,"mousedown",g,i))):(o&&o(),h&&h(),o=h=void 0,_())};return{enable:I,stop:_,destroy:()=>{I(!1),r=n=t=void 0}}})(c.el,e=>{const t=h(e);return!(n||!i)&&(u(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!d||!1!==d(_))&&(E.release(),!!E.start()&&(n=!0,0===v?T():(I.start(_.startX,_.startY),!0))))},e=>{t?!o&&i&&(o=!0,l(_,e),requestAnimationFrame(S)):(l(_,e),I.detect(_.currentX,_.currentY)&&(I.isGesture()&&T()||O()))},A,{capture:!1,passive:w}),O=()=>{k(),x.stop(),g&&g(_)};return{enable(e=!0){e||(t&&A(void 0),k()),x.enable(e)},destroy(){E.destroy(),x.destroy()}}},l=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,s=e.currentTime;u(t,e);const i=e.currentX,o=e.currentY,a=(e.currentTime=h(t))-s;if(a>0&&a<100){const t=(o-r)/a;e.velocityX=(i-n)/a*.7+.3*e.velocityX,e.velocityY=.7*t+.3*e.velocityY}e.deltaX=i-e.startX,e.deltaY=o-e.startY,e.event=t},u=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},h=e=>e.timeStamp||Date.now()},3150:(e,t,n)=>{"use strict";n.d(t,{B:()=>qe,C:()=>d,H:()=>L,a:()=>g,b:()=>Ie,c:()=>je,e:()=>re,f:()=>Ue,g:()=>O,h:()=>D,i:()=>ne,j:()=>he,k:()=>Ee,p:()=>p,r:()=>Ce,s:()=>x,w:()=>h});let r,s,i,o=!1,a=!1,c=!1,l=!1,u=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},m=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),g=e=>Promise.resolve(e),y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),v=(e,t,n,r)=>{n&&n.map(([n,r,s])=>{const i=b(e,n),o=w(t,s),a=_(n);p.ael(i,r,o,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>p.rel(i,r,o,a))})},w=(e,t)=>n=>{try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){xe(r)}},b=(e,t)=>4&t?f:8&t?h:16&t?f.body:e,_=e=>0!=(2&e),I="s-id",E="c-id",S="http://www.w3.org/1999/xlink",T=new WeakMap,C=(e,t,n)=>{let r=Re.get(e);y&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,Re.set(e,r)},k=(e,t,n,r)=>{let s=A(t,n),i=Re.get(s);if(e=11===e.nodeType?e:f,i)if("string"==typeof i){let n,o=T.get(e=e.head||e);if(o||T.set(e,o=new Set),!o.has(s)){if(e.host&&(n=e.querySelector(`[sty-id="${s}"]`)))n.innerHTML=i;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,s,i,!!(10&t.$flags$));const e=n["s-sc"];e&&(s=e,o=null)}else n=f.createElement("style"),n.innerHTML=i;e.insertBefore(n,e.querySelector("link"))}o&&o.add(s)}}else e.adoptedStyleSheets.includes(i)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s},A=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),x=e=>De.push(e),O=e=>Te(e).$modeName$,N={},R=e=>"object"==(e=typeof e)||"function"===e,D=(e,t,...n)=>{let r=null,s=null,i=null,o=!1,a=!1,c=[];const l=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?l(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!R(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?P(null,r):r),a=o)};if(l(n),t){t.key&&(s=t.key),t.name&&(i=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,c,$);const u=P(e,null);return u.$attrs$=t,c.length>0&&(u.$children$=c),u.$key$=s,u.$name$=i,u},P=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),L={},$={forEach:(e,t)=>e.map(F).forEach(t),map:(e,t)=>e.map(F).map(t).map(M)},F=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),M=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),D(e.vtag,t,...e.vchildren||[])}const t=P(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},V=(e,t,n,r,s,i)=>{if(n!==r){let a=Ae(e,t),c=t.toLowerCase();if("class"===t){const t=e.classList,s=j(n),i=j(r);t.remove(...s.filter(e=>e&&!i.includes(e))),t.add(...i.filter(e=>e&&!s.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(a||"o"!==t[0]||"n"!==t[1]){const l=R(r);if((a||l&&null!==r)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{let s=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==s||(e[t]=s)}}catch(o){}let u=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,u=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(u?e.removeAttributeNS(S,t):e.removeAttribute(t)):(!a||4&i||s)&&!l&&(r=!0===r?"":r,u?e.setAttributeNS(S,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):Ae(h,c)?c.slice(2):c[2]+t.slice(3),n&&p.rel(e,t,n,!1),r&&p.ael(e,t,r,!1)}},U=/\s/,j=e=>e?e.split(U):[],q=(e,t,n,r)=>{const s=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||N,o=t.$attrs$||N;for(r in i)r in o||V(s,r,i[r],void 0,n,t.$flags$);for(r in o)V(s,r,i[r],o[r],n,t.$flags$)},z=(e,t,n,a)=>{let u,h,d,p=t.$children$[n],m=0;if(o||(c=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)u=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)u=p.$elm$=f.createTextNode("");else{if(l||(l="svg"===p.$tag$),u=p.$elm$=f.createElementNS(l?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),l&&"foreignObject"===p.$tag$&&(l=!1),q(null,p,l),null!=r&&u["s-si"]!==r&&u.classList.add(u["s-si"]=r),p.$children$)for(m=0;m<p.$children$.length;++m)h=z(e,p,m,u),h&&u.appendChild(h);"svg"===p.$tag$?l=!1:"foreignObject"===u.tagName&&(l=!0)}return u["s-hn"]=i,3&p.$flags$&&(u["s-sr"]=!0,u["s-cr"]=s,u["s-sn"]=p.$name$||"",d=e&&e.$children$&&e.$children$[n],d&&d.$tag$===p.$tag$&&e.$elm$&&B(e.$elm$,!1)),u},B=(e,t)=>{p.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==i&&e["s-ol"]&&(K(e).insertBefore(e,W(e)),e["s-ol"].remove(),e["s-ol"]=void 0,c=!0),t&&B(e,t)}p.$flags$&=-2},H=(e,t,n,r,s,o)=>{let a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===i&&(c=c.shadowRoot);s<=o;++s)r[s]&&(a=z(null,n,s,e),a&&(r[s].$elm$=a,c.insertBefore(a,W(t))))},G=(e,t,n,r,s)=>{for(;t<=n;++t)(r=e[t])&&(s=r.$elm$,te(r),a=!0,s["s-ol"]?s["s-ol"].remove():B(s,!0),s.remove())},Y=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),W=e=>e&&e["s-ol"]||e,K=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,X=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;let a;null===o?(l="svg"===i||"foreignObject"!==i&&l,"slot"===i||q(e,t,l),null!==r&&null!==s?((e,t,n,r)=>{let s,i,o=0,a=0,c=0,l=0,u=t.length-1,h=t[0],d=t[u],f=r.length-1,p=r[0],m=r[f];for(;o<=u&&a<=f;)if(null==h)h=t[++o];else if(null==d)d=t[--u];else if(null==p)p=r[++a];else if(null==m)m=r[--f];else if(Y(h,p))X(h,p),h=t[++o],p=r[++a];else if(Y(d,m))X(d,m),d=t[--u],m=r[--f];else if(Y(h,m))"slot"!==h.$tag$&&"slot"!==m.$tag$||B(h.$elm$.parentNode,!1),X(h,m),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++o],m=r[--f];else if(Y(d,p))"slot"!==h.$tag$&&"slot"!==m.$tag$||B(d.$elm$.parentNode,!1),X(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--u],p=r[++a];else{for(c=-1,l=o;l<=u;++l)if(t[l]&&null!==t[l].$key$&&t[l].$key$===p.$key$){c=l;break}c>=0?(i=t[c],i.$tag$!==p.$tag$?s=z(t&&t[a],n,c,e):(X(i,p),t[c]=void 0,s=i.$elm$),p=r[++a]):(s=z(t&&t[a],n,a,e),p=r[++a]),s&&K(h.$elm$).insertBefore(s,W(h.$elm$))}o>u?H(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&G(t,o,u)})(n,r,t,s):null!==s?(null!==e.$text$&&(n.textContent=""),H(n,null,t,s,0,s.length-1)):null!==r&&G(r,0,r.length-1),l&&"svg"===i&&(l=!1)):(a=n["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(n.data=o)},Q=e=>{let t,n,r,s,i,o,a=e.childNodes;for(n=0,r=a.length;n<r;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(i=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(o=a[s].nodeType,a[s]["s-hn"]!==t["s-hn"]||""!==i){if(1===o&&i===a[s].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==a[s].textContent.trim()){t.hidden=!0;break}Q(t)}},J=[],Z=e=>{let t,n,r,s,i,o,c=0,l=e.childNodes,u=l.length;for(;c<u;c++){if(t=l[c],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,s=t["s-sn"],o=r.length-1;o>=0;o--)n=r[o],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(ee(n,s)?(i=J.find(e=>e.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||s,i?i.$slotRefNode$=t:J.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&J.map(e=>{ee(e.$nodeToRelocate$,n["s-sn"])&&(i=J.find(e=>e.$nodeToRelocate$===n),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))})):J.some(e=>e.$nodeToRelocate$===n)||J.push({$nodeToRelocate$:n}));1===t.nodeType&&Z(t)}},ee=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,te=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(te)},ne=e=>Te(e).$hostElement$,re=(e,t,n)=>{const r=ne(e);return{emit:e=>se(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},se=(e,t,n)=>{const r=p.ce(t,n);return e.dispatchEvent(r),r},ie=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},oe=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return ie(e,e.$ancestorComponent$),je(()=>ae(e,t));e.$flags$|=512},ae=(e,t)=>{const n=e.$lazyInstance$;let r;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>fe(n,e,t)),e.$queuedListeners$=null),r=fe(n,"componentWillLoad")),r=pe(r,()=>fe(n,"componentWillRender")),pe(r,()=>ce(e,n,t))},ce=async(e,t,n)=>{const r=e.$hostElement$,s=r["s-rc"];n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=k(m&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&r&&(n["s-sc"]=s,n.classList.add(s+"-h"),2&r&&n.classList.add(s+"-s"))})(e),le(e,t),p.$cssShim$&&p.$cssShim$.updateHost(r),s&&(s.map(e=>e()),r["s-rc"]=void 0);{const t=r["s-p"],n=()=>ue(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},le=(e,t,n)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const n=e.$hostElement$,l=e.$cmpMeta$,u=e.$vnode$||P(null,null),h=(d=t)&&d.$tag$===L?t:D(null,null,t);var d;if(i=n.tagName,l.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},l.$attrsToReflect$.map(([e,t])=>h.$attrs$[t]=n[e])),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=u.$elm$=n.shadowRoot||n,r=n["s-sc"],s=n["s-cr"],o=m&&0!=(1&l.$flags$),a=!1,X(u,h),p.$flags$|=1,c){let e,t,n,r,s,i;Z(h.$elm$);let o=0;for(;o<J.length;o++)e=J[o],t=e.$nodeToRelocate$,t["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(o=0;o<J.length;o++)if(e=J[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,s=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(i=n["s-nr"],i&&i["s-sn"]===t["s-sn"]&&r===i.parentNode&&(i=i.nextSibling,!i||!i["s-nr"])){s=i;break}(!s&&r!==t.parentNode||t.nextSibling!==s)&&t!==s&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,s))}else 1===t.nodeType&&(t.hidden=!0)}a&&Q(h.$elm$),p.$flags$&=-2,J.length=0})(e,t)}catch(l){xe(l,e.$hostElement$)}return null},ue=e=>{const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?fe(n,"componentDidUpdate"):(e.$flags$|=64,me(t),fe(n,"componentDidLoad"),e.$onReadyResolve$(t),r||de()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Ve(()=>oe(e,!1)),e.$flags$&=-517},he=e=>{{const t=Te(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&oe(t,!1),n}},de=e=>{me(f.documentElement),Ve(()=>se(h,"appload",{detail:{namespace:"ionic"}}))},fe=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){xe(r)}},pe=(e,t)=>e&&e.then?e.then(t):t(),me=e=>e.classList.add("hydrated"),ge=(e,t,n,r,s,i,o)=>{let a,c,l,u;if(1===i.nodeType){for(a=i.getAttribute(E),a&&(c=a.split("."),c[0]!==o&&"0"!==c[0]||(l={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:i.tagName.toLowerCase(),$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(l),i.removeAttribute(E),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,e=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))),u=i.childNodes.length-1;u>=0;u--)ge(e,t,n,r,s,i.childNodes[u],o);if(i.shadowRoot)for(u=i.shadowRoot.childNodes.length-1;u>=0;u--)ge(e,t,n,r,s,i.shadowRoot.childNodes[u],o)}else if(8===i.nodeType)c=i.nodeValue.split("."),c[1]!==o&&"0"!==c[1]||(a=c[0],l={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:i,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(l.$elm$=i.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,t.push(l),i.remove(),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l,r&&"0"===l.$depth$&&(r[l.$index$]=l.$elm$))):l.$hostId$===o&&("s"===a?(l.$tag$="slot",i["s-sn"]=c[5]?l.$name$=c[5]:"",i["s-sr"]=!0,r&&(l.$elm$=f.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),i.parentNode.insertBefore(l.$elm$,i),i.remove(),"0"===l.$depth$&&(r[l.$index$]=l.$elm$)),n.push(l),e.$children$||(e.$children$=[]),e.$children$[l.$index$]=l):"r"===a&&(r?i.remove():(s["s-cr"]=i,i["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=P(null,i.textContent);t.$elm$=i,t.$index$="0",e.$children$=[t]}},ye=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)ye(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)ye(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},ve=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),s=e.prototype;if(r.map(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(s,e,{get(){return t=e,Te(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const s=Te(this),i=s.$hostElement$,o=s.$instanceValues$.get(t),a=s.$flags$,c=s.$lazyInstance$;var l,u;if(u=r.$members$[t][0],n=null==(l=n)||R(l)?l:4&u?"false"!==l&&(""===l||!!l):2&u?parseFloat(l):1&u?String(l):l,!(8&a&&void 0!==o||n===o)&&(s.$instanceValues$.set(t,n),c)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map(e=>{try{c[e](n,o,t)}catch(r){xe(r,i)}})}2==(18&a)&&oe(s,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(s,e,{value(...t){const n=Te(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;s.attributeChangedCallback=function(e,t,r){p.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const s=r[1]||e;return n.set(s,e),512&r[0]&&t.$attrsToReflect$.push([e,s]),s})}}return e},we=e=>{fe(e,"connectedCallback")},be=e=>{if(0==(1&p.$flags$)){const t=Te(e),r=t.$cmpMeta$,s=()=>{};if(1&t.$flags$)v(e,t,r.$listeners$),we(t.$lazyInstance$);else{let s;if(t.$flags$|=1,s=e.getAttribute(I),s){if(m&&1&r.$flags$){const t=k(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(t+"-h",t+"-s")}((e,t,n,r)=>{const s=e.shadowRoot,i=[],o=s?[]:null,a=r.$vnode$=P(t,null);p.$orgLocNodes$||ye(f.body,p.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute(I),ge(a,i,[],o,e,e,n),i.map(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=p.$orgLocNodes$.get(n),i=e.$elm$;r&&m&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),s||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),p.$orgLocNodes$.delete(n)}),s&&o.map(e=>{e&&s.appendChild(e)})})(e,r.$tagName$,s,t)}s||12&r.$flags$&&_e(e);{let n=e;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){ie(t,t.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),Ve(()=>(async(e,t,r,s,i)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(i=Ne(r)).then){const e=()=>{};i=await i,e()}i.isProxied||(r.$watchers$=i.watchers,ve(i,r,2),i.isProxied=!0);const e=()=>{};t.$flags$|=8;try{new i(t)}catch(c){xe(c)}t.$flags$&=-9,t.$flags$|=128,e(),we(t.$lazyInstance$)}if(i.style){let s=i.style;"string"!=typeof s&&(s=s[t.$modeName$=(e=>De.map(t=>t(e)).find(e=>!!e))(e)]);const o=A(r,t.$modeName$);if(!Re.has(o)){const e=()=>{};8&r.$flags$&&(s=await n.e(8810).then(n.bind(n,8810)).then(e=>e.scopeCss(s,o,!1))),C(o,s,!!(1&r.$flags$)),e()}}}const o=t.$ancestorComponent$,a=()=>oe(t,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()})(e,t,r))}s()}},_e=e=>{const t=e["s-cr"]=f.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Ie=(e,t={})=>{const n=[],r=t.exclude||[],s=h.customElements,i=f.head,o=i.querySelector("meta[charset]"),a=f.createElement("style"),c=[],l=f.querySelectorAll("[sty-id]");let u,d=!0,g=0;for(Object.assign(p,t),p.$resourcesUrl$=new URL(t.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;g<l.length;g++)C(l[g].getAttribute("sty-id"),l[g].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);e.map(e=>e[1].map(t=>{const i={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};i.$members$=t[2],i.$listeners$=t[3],i.$attrsToReflect$=[],i.$watchers$={},!m&&1&i.$flags$&&(i.$flags$|=8);const o=i.$tagName$,a=class extends HTMLElement{constructor(e){super(e),ke(e=this,i),1&i.$flags$&&(m?e.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){u&&(clearTimeout(u),u=null),d?c.push(this):p.jmp(()=>be(this))}disconnectedCallback(){p.jmp(()=>(e=>{if(0==(1&p.$flags$)){const t=Te(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(e),fe(n,"disconnectedCallback")}})(this))}componentOnReady(){return Te(this).$onReadyPromise$}};i.$lazyBundleId$=e[0],r.includes(o)||s.get(o)||(n.push(o),s.define(o,ve(a,i,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),i.insertBefore(a,o?o.nextSibling:i.firstChild),d=!1,c.length?c.map(e=>e.connectedCallback()):p.jmp(()=>u=setTimeout(de,30))},Ee=e=>{const t=new URL(e,p.$resourcesUrl$);return t.origin!==h.location.origin?t.href:t.pathname},Se=new WeakMap,Te=e=>Se.get(e),Ce=(e,t)=>Se.set(t.$lazyInstance$=e,t),ke=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],v(e,n,t.$listeners$),Se.set(e,n)},Ae=(e,t)=>t in e,xe=(e,t)=>(0,console.error)(e,t),Oe=new Map,Ne=(e,t,r)=>{const s=e.$tagName$.replace(/-/g,"_"),i=e.$lazyBundleId$,o=Oe.get(i);return o?o[s]:n(863)(`./${i}.entry.js`).then(e=>(Oe.set(i,e),e[s]),xe)},Re=new Map,De=[],Pe=[],Le=[],$e=(e,t)=>n=>{e.push(n),u||(u=!0,t&&4&p.$flags$?Ve(Me):p.raf(Me))},Fe=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){xe(t)}e.length=0},Me=()=>{Fe(Pe),Fe(Le),(u=Pe.length>0)&&p.raf(Me)},Ve=e=>g().then(e),Ue=$e(Pe,!1),je=$e(Le,!0),qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},4001:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,a:()=>o,b:()=>a,c:()=>c,d:()=>l,e:()=>S,g:()=>k,l:()=>I,s:()=>T,t:()=>u});var r=n(3150),s=n(2377);const i="ionViewWillEnter",o="ionViewDidEnter",a="ionViewWillLeave",c="ionViewDidLeave",l="ionViewWillUnload",u=e=>new Promise((t,n)=>{(0,r.c)(()=>{h(e),d(e).then(n=>{n.animation&&n.animation.destroy(),f(e),t(n)},t=>{f(e),n(t)})})}),h=e=>{const t=e.enteringEl,n=e.leavingEl;C(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),T(t,!1),t.style.setProperty("pointer-events","none"),n&&(T(n,!1),n.style.setProperty("pointer-events","none"))},d=async e=>{const t=await p(e);return t&&r.B.isBrowser?m(t,e):g(e)},f=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await Promise.resolve().then(n.bind(n,9554))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(n,4991))).mdTransitionAnimation},m=async(e,t)=>{await y(t,!0);const n=e(t.baseEl,t);b(t.enteringEl,t.leavingEl);const r=await w(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&_(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},g=async e=>{const t=e.enteringEl,n=e.leavingEl;return await y(e,!1),b(t,n),_(t,n),{hasCompleted:!0}},y=async(e,t)=>{const n=(void 0!==e.deepWait?e.deepWait:t)?[S(e.enteringEl),S(e.leavingEl)]:[E(e.enteringEl),E(e.leavingEl)];await Promise.all(n),await v(e.viewIsReady,e.enteringEl)},v=async(e,t)=>{e&&await e(t)},w=(e,t)=>{const n=t.progressCallback,r=new Promise(t=>{e.onFinish(e=>t(1===e))});return n?(e.progressStart(!0),n(e)):e.play(),r},b=(e,t)=>{I(t,a),I(e,i)},_=(e,t)=>{I(e,o),I(t,c)},I=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},E=e=>e?new Promise(t=>(0,s.c)(e,t)):Promise.resolve(),S=async e=>{const t=e;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(S))}},T=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},C=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},k=e=>e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e},7585:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>I,c:()=>v,g:()=>s,i:()=>E});var r=n(3150);const s=e=>o(e),i=(e,t)=>("string"==typeof e&&(t=e,e=void 0),s(e).includes(t)),o=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a(e),t.forEach(t=>e.document.documentElement.classList.add(`plt-${t}`))),t},a=e=>Object.keys(g).filter(t=>g[t](e)),c=e=>!!p(e,/iPad/i)||!(!p(e,/Macintosh/i)||!u(e)),l=e=>p(e,/android|sink/i),u=e=>m(e,"(any-pointer:coarse)"),h=e=>d(e)||f(e),d=e=>!!(e.cordova||e.phonegap||e.PhoneGap),f=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},p=(e,t)=>t.test(e.navigator.userAgent),m=(e,t)=>e.matchMedia(t).matches,g={ipad:c,iphone:e=>p(e,/iPhone/i),ios:e=>p(e,/iPhone|iPod/i)||c(e),android:l,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return r>390&&r<520&&s>620&&s<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),s=Math.max(t,n);return c(e)||(e=>l(e)&&!p(e,/mobile/i))(e)||r>460&&r<820&&s>780&&s<1400},cordova:d,capacitor:f,electron:e=>p(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:u,mobileweb:e=>u(e)&&!h(e),desktop:e=>!u(e),hybrid:h};class y{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const v=new y,w="ionic:",b="ionic-persist-config";let _;const I=e=>e&&(0,r.g)(e)||_,E=(e={})=>{if("undefined"==typeof window)return;const t=window.document,n=window,s=n.Ionic=n.Ionic||{};o(n);const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(b);return null!==t?JSON.parse(t):{}}catch(t){return{}}})(n)),{persistConfig:!1}),s.config),(e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>"ionic:"===e.substr(0,w.length)).map(([e,t])=>[e.slice(w.length),t]).forEach(([e,n])=>{t[e]=n}),t})(n)),e);v.reset(a),v.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(b,JSON.stringify(t))}catch(n){return}})(n,a),s.config=v,s.mode=_=v.get("mode",t.documentElement.getAttribute("mode")||(i(n,"ios")?"ios":"md")),v.set("mode",_),t.documentElement.setAttribute("mode",_),t.documentElement.classList.add(_),v.getBoolean("_testing")&&v.set("animated",!1);const c=e=>e.tagName&&e.tagName.startsWith("ION-"),l=e=>["ios","md"].includes(e);(0,r.s)(e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;c(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return _})}},9554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{iosTransitionAnimation:()=>h,shadow:()=>o});var r=n(4086),s=n(4001);n(3150);const i=e=>document.querySelector(`${e}.ion-cloned-element`),o=e=>e.shadowRoot||e,a=e=>{const t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){const e=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=e?e.querySelector(n):null}return e.querySelector(n)},c=(e,t)=>{const n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs");let r=[];if(null!=n){const e=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=e&&(r=e.querySelectorAll("ion-buttons"))}else r=e.querySelectorAll("ion-buttons");for(const s of r){const e=s.closest("ion-header"),n=e&&!e.classList.contains("header-collapse-condense-inactive"),r=s.querySelector("ion-back-button"),i=s.classList.contains("buttons-collapse"),o="start"===s.slot||""===s.slot;if(null!==r&&o&&(i&&n&&t||!i))return r}return null},l=(e,t,n,s,a,c)=>{const l=t?`calc(100% - ${c.right+4}px)`:c.left-4+"px",u=t?"7px":"-7px",h=t?"-4px":"4px",d=t?"-4px":"4px",f=t?"right":"left",p=t?"left":"right",m=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${u}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`}],g=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`}],y=(0,r.c)(),v=(0,r.c)(),w=i("ion-back-button"),b=o(w).querySelector(".button-text"),_=o(w).querySelector("ion-icon");w.text=s.text,w.mode=s.mode,w.icon=s.icon,w.color=s.color,w.disabled=s.disabled,w.style.setProperty("display","block"),w.style.setProperty("position","fixed"),v.addElement(_),y.addElement(b),y.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{s.style.setProperty("display","none"),w.style.setProperty(f,l)}).afterAddWrite(()=>{s.style.setProperty("display",""),w.style.setProperty("display","none"),w.style.removeProperty(f)}).keyframes(m),v.beforeStyles({"transform-origin":`${p} center`}).keyframes(g),e.addAnimation([y,v])},u=(e,t,n,s,o,a)=>{const c=t?`calc(100% - ${o.right}px)`:`${o.left}px`,l=t?"-18px":"18px",u=t?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-4}px, 0) scale(0.5)`}],d=i("ion-title"),f=(0,r.c)();d.innerText=s.innerText,d.size=s.size,d.color=s.color,f.addElement(d),f.beforeStyles({"transform-origin":`${u} center`,height:"46px",display:"",position:"relative",[u]:c}).beforeAddWrite(()=>{s.style.setProperty("display","none")}).afterAddWrite(()=>{s.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),e.addAnimation(f)},h=(e,t)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",i="opacity",h="transform",d="0%",f=.8,p="rtl"===e.ownerDocument.dir,m=p?"-99.5%":"99.5%",g=p?"33%":"-33%",y=t.enteringEl,v=t.leavingEl,w="back"===t.direction,b=y.querySelector(":scope > ion-content"),_=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),I=y.querySelectorAll(":scope > ion-header > ion-toolbar"),E=(0,r.c)(),S=(0,r.c)();if(E.addElement(y).duration(t.duration||540).easing(t.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),v&&e){const t=(0,r.c)();t.addElement(e),E.addAnimation(t)}if(b||0!==I.length||0!==_.length?(S.addElement(b),S.addElement(_)):S.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),E.addAnimation(S),w?S.beforeClearStyles([i]).fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(i,f,1):S.beforeClearStyles([i]).fromTo("transform",`translateX(${m})`,`translateX(${d})`),b){const e=o(b).querySelector(".transition-effect");if(e){const t=e.querySelector(".transition-cover"),n=e.querySelector(".transition-shadow"),s=(0,r.c)(),o=(0,r.c)(),a=(0,r.c)();s.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),o.addElement(t).beforeClearStyles([i]).fromTo(i,0,.1),a.addElement(n).beforeClearStyles([i]).fromTo(i,.03,.7),s.addAnimation([o,a]),S.addAnimation([s])}}const T=y.querySelector("ion-header.header-collapse-condense"),{forward:C,backward:k}=((e,t,n,r,s)=>{const i=c(r,n),o=a(s),h=a(r),d=c(s,n),f=null!==i&&null!==o&&!n,p=null!==h&&null!==d&&n;if(f){const r=o.getBoundingClientRect(),s=i.getBoundingClientRect();u(e,t,n,o,r,s),l(e,t,n,i,r,s)}else if(p){const r=h.getBoundingClientRect(),s=d.getBoundingClientRect();u(e,t,n,h,r,s),l(e,t,n,d,r,s)}return{forward:f,backward:p}})(E,p,w,y,v);if(I.forEach(e=>{const t=(0,r.c)();t.addElement(e),E.addAnimation(t);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive");let u;u=a.filter(w?e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t}:e=>!e.classList.contains("buttons-collapse")),s.addElement(u);const h=(0,r.c)();h.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=(0,r.c)();f.addElement(o(e).querySelector(".toolbar-background"));const y=(0,r.c)(),v=e.querySelector("ion-back-button");if(v&&y.addElement(v),t.addAnimation([n,s,h,f,y]),s.fromTo(i,.01,1),h.fromTo(i,.01,1),w)l||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),y.fromTo(i,.01,1);else if(T||n.fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(i,.01,1),h.fromTo("transform",`translateX(${m})`,`translateX(${d})`),f.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(i,.01,"var(--opacity)"),C||y.fromTo(i,.01,1),v&&!C){const e=(0,r.c)();e.addElement(o(v).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(e)}}),v){const e=(0,r.c)(),t=v.querySelector(":scope > ion-content"),n=v.querySelectorAll(":scope > ion-header > ion-toolbar"),a=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(t||0!==n.length||0!==a.length?(e.addElement(t),e.addElement(a)):e.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),E.addAnimation(e),w){e.beforeClearStyles([i]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const t=(0,s.g)(v);E.afterAddWrite(()=>{"normal"===E.getDirection()&&t.style.setProperty("display","none")})}else e.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(i,1,f);if(t){const n=o(t).querySelector(".transition-effect");if(n){const t=n.querySelector(".transition-cover"),s=n.querySelector(".transition-shadow"),o=(0,r.c)(),a=(0,r.c)(),c=(0,r.c)();o.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(t).beforeClearStyles([i]).fromTo(i,.1,0),c.addElement(s).beforeClearStyles([i]).fromTo(i,.7,.03),o.addAnimation([a,c]),e.addAnimation([o])}}n.forEach(e=>{const t=(0,r.c)();t.addElement(e);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const s=(0,r.c)(),a=e.querySelectorAll("ion-buttons,[menuToggle]"),c=e.closest("ion-header"),l=c&&c.classList.contains("header-collapse-condense-inactive"),u=Array.from(a).filter(e=>{const t=e.classList.contains("buttons-collapse");return t&&!l||!t});s.addElement(u);const f=(0,r.c)(),m=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");m.length>0&&f.addElement(m);const y=(0,r.c)();y.addElement(o(e).querySelector(".toolbar-background"));const v=(0,r.c)(),b=e.querySelector("ion-back-button");if(b&&v.addElement(b),t.addAnimation([n,s,f,v,y]),E.addAnimation(t),v.fromTo(i,.99,0),s.fromTo(i,.99,0),f.fromTo(i,.99,0),w){if(l||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(i,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([i,"transform"]),(null==c?void 0:c.translucent)?y.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):y.fromTo(i,"var(--opacity)",0),b&&!k){const e=(0,r.c)();e.addElement(o(b).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),t.addAnimation(e)}}else l||n.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(i,.99,0).afterClearStyles([h,i]),f.fromTo("transform",`translateX(${d})`,`translateX(${g})`).afterClearStyles([h,i]),v.afterClearStyles([i]),n.afterClearStyles([i]),s.afterClearStyles([i])})}return E}catch(n){throw n}}},4991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mdTransitionAnimation:()=>i});var r=n(4086),s=n(4001);n(3150);const i=(e,t)=>{const n="back"===t.direction,i=t.leavingEl,o=(0,s.g)(t.enteringEl),a=o.querySelector("ion-toolbar"),c=(0,r.c)();if(c.addElement(o).fill("both").beforeRemoveClass("ion-page-invisible"),n?c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),a){const e=(0,r.c)();e.addElement(a),c.addAnimation(e)}if(i&&n){c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const e=(0,r.c)();e.addElement((0,s.g)(i)).onFinish(t=>{1===t&&e.elements.length>0&&e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),c.addAnimation(e)}return c}},7053:(e,t,n)=>{"use strict";n.d(t,{B:()=>P,a:()=>l,b:()=>u,c:()=>p,d:()=>S,e:()=>g,f:()=>C,g:()=>x,h:()=>a,i:()=>N,l:()=>h,m:()=>d,p:()=>f,s:()=>D,t:()=>m});var r=n(7585),s=n(3087),i=n(2377);let o=0;const a=new WeakMap,c=e=>({create:t=>y(e,t),dismiss:(t,n,r)=>_(document,t,n,e,r),getTop:async()=>I(document,e)}),l=c("ion-alert"),u=c("ion-action-sheet"),h=c("ion-loading"),d=c("ion-modal"),f=c("ion-picker"),p=c("ion-popover"),m=c("ion-toast"),g=e=>{"undefined"!=typeof document&&b(document);const t=o++;e.overlayIndex=t,e.hasAttribute("id")||(e.id=`ion-overlay-${t}`)},y=(e,t)=>"undefined"!=typeof customElements?customElements.whenDefined(e).then(()=>{const n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),k(document).appendChild(n),new Promise(e=>(0,i.c)(n,e))}):Promise.resolve(),v='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',w="input:not([type=hidden]), textarea, button, select",b=e=>{0===o&&(o=1,e.addEventListener("focus",t=>((e,t)=>{const n=I(t),r=e.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const e=(0,i.g)(n);if(!e.contains(r))return;const s=e.querySelector(".ion-overlay-wrapper");if(!s)return;if(s.contains(r))n.lastFocus=r;else{const e=n.lastFocus;((e,t)=>{let n=e.querySelector(v);const r=n&&n.shadowRoot;r&&(n=r.querySelector(w)||n),n?n.focus():t.focus()})(s,n),e===t.activeElement&&((e,t)=>{const n=Array.from(e.querySelectorAll(v));let r=n.length>0?n[n.length-1]:null;const s=r&&r.shadowRoot;s&&(r=s.querySelector(w)||r),r?r.focus():t.focus()})(s,n),n.lastFocus=t.activeElement}}})(t,e),!0),e.addEventListener("ionBackButton",t=>{const n=I(e);n&&n.backdropDismiss&&t.detail.register(s.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,P))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=I(e);t&&t.backdropDismiss&&t.dismiss(void 0,P)}}))},_=(e,t,n,r,s)=>{const i=I(e,r,s);return i?i.dismiss(t,n):Promise.reject("overlay does not exist")},I=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},E=(e=!1)=>{const t=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},S=async(e,t,n,s,i)=>{if(e.presented)return;E(!0),e.presented=!0,e.willPresent.emit();const o=(0,r.b)(e),a=e.enterAnimation?e.enterAnimation:r.c.get(t,"ios"===o?n:s);await A(e,a,e.el,i)&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&T(e.el),e.keyboardClose&&e.el.focus()},T=async e=>{let t=document.activeElement;if(!t)return;const n=t&&t.shadowRoot;n&&(t=n.querySelector(w)||t),await e.onDidDismiss(),t.focus()},C=async(e,t,n,s,i,o,c)=>{if(!e.presented)return!1;E(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n});const l=(0,r.b)(e),u=e.leaveAnimation?e.leaveAnimation:r.c.get(s,"ios"===l?i:o);"gesture"!==n&&await A(e,u,e.el,c),e.didDismiss.emit({data:t,role:n}),a.delete(e)}catch(l){console.error(l)}return e.el.remove(),!0},k=e=>e.querySelector("ion-app")||e.body,A=async(e,t,n,s)=>{n.classList.remove("overlay-hidden");const i=t(n.shadowRoot||e.el,s);e.animated&&r.c.getBoolean("animated",!0)||i.duration(0),e.keyboardClose&&i.beforeAddWrite(()=>{const e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const o=a.get(e)||[];return a.set(e,[...o,i]),await i.play(),!0},x=(e,t)=>{let n;const r=new Promise(e=>n=e);return O(e,t,e=>{n(e.detail)}),r},O=(e,t,n)=>{const r=s=>{(0,i.b)(e,t,r),n(s)};(0,i.a)(e,t,r)},N=e=>"cancel"===e||e===P,R=e=>e(),D=(e,t)=>{if("function"==typeof e)return r.c.get("_zoneGate",R)(()=>{try{return e(t)}catch(n){console.error(n)}})},P="backdrop"},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(4486);r.Z.registerVersion("firebase","9.1.1","app-compat")},5128:(e,t,n)=>{"use strict";n.r(t);var r=n(4486),s=n(3854),i=n(5452),o=n(4762),a=n(5601),c=n(6034);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},u=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new a.Yd("@firebase/auth");function d(e,...t){h.logLevel<=a.in.ERROR&&h.error(`Auth (${i.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function p(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||w(t)}const _=new Map;function I(e){b(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new C(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,r,i={}){return D(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=new(A.headers());return c.set("Content-Type","application/json"),c.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&c.set("X-Firebase-Locale",e.languageCode),A.fetch()(L(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},i))})}async function D(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new $(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw F(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw F(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw F(e,"email-already-in-use",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}}async function P(e,t,n,r,s={}){const i=await R(e,t,n,r,s);return"mfaPendingCredential"in i&&f(e,"multi-factor-auth-required",{serverResponse:i}),i}function L(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?k(e.config,s):`${e.config.apiScheme}://${s}`}class ${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"timeout")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function F(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=p(e,t,r);return s.customData._tokenResponse=n,s}function M(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function V(e){return 1e3*Number(e)}function U(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(i){return d("Caught error parsing JWT payload as JSON",i),null}}async function j(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof s.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function B(e){var t;const n=e.auth,r=await e.getIdToken(),s=await j(e,async function(e,t){return R(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));v(null==s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?i.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=(l=a,[...e.providerData.filter(e=>!l.some(t=>t.providerId===e.providerId)),...l]);var l;const u=!!e.isAnonymous&&!(e.email&&i.passwordHash||(null==c?void 0:c.length)),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new z(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=U(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await D(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=L(e,r,"/v1/token",`key=${i}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new H;return n&&(v("string"==typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(v("number"==typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return w("not implemented")}}function G(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Y{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.metadata=new z(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await j(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,s.m9)(e),r=await n.getIdToken(t),i=U(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:M(V(i.auth_time)),issuedAtTime:M(V(i.iat)),expirationTime:M(V(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,s.m9)(e);await B(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Y(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await B(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await j(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:I,stsTokenManager:E}=t;v(w&&E,e,"internal-error");const S=H.fromJSON(this.name,E);v("string"==typeof w,e,"internal-error"),G(u,e.name),G(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof _,e,"internal-error"),G(d,e.name),G(f,e.name),G(p,e.name),G(m,e.name),G(g,e.name),G(y,e.name);const T=new Y({uid:w,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(T.providerData=I.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new H;r.updateFromServerResponse(t);const s=new Y({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await B(s),s}}const W=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function K(e,t,n){return`firebase:${e}:${t}:${n}`}class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=K(this.userKey,r.apiKey,s),this.fullPersistenceKey=K("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Y._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(I(W),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||I(W);const i=K(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(i);if(t){const n=Y._fromJSON(e,t);l!==s&&(o=n),s=l;break}}catch(c){}const a=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(c){}})),new X(s,e,n)):new X(s,e,n)}}function Q(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(te(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(re(t))return"Blackberry";if(se(t))return"Webos";if(Z(t))return"Safari";if((t.includes("chrome/")||ee(t))&&!t.includes("edge/"))return"Chrome";if(ne(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function J(e=(0,s.z$)()){return/firefox\//i.test(e)}function Z(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ee(e=(0,s.z$)()){return/crios\//i.test(e)}function te(e=(0,s.z$)()){return/iemobile/i.test(e)}function ne(e=(0,s.z$)()){return/android/i.test(e)}function re(e=(0,s.z$)()){return/blackberry/i.test(e)}function se(e=(0,s.z$)()){return/webos/i.test(e)}function ie(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function oe(e=(0,s.z$)()){return ie(e)||ne(e)||se(e)||re(e)||/windows phone/i.test(e)||te(e)}function ae(e,t=[]){let n;switch(e){case"Browser":n=Q((0,s.z$)());break;case"Worker":n=`${Q((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.SDK_VERSION}/${r}`}class ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ue(this),this.idTokenSubscription=new ue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=I(t)),this._initializationPromise=this.queue(async()=>{var n;this._deleted||(this.persistenceManager=await X.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==n?void 0:n._redirectEventId,i=await this.tryRedirectSignIn(e);r&&r!==s||!(null==i?void 0:i.user)||(n=i.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await B(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,s.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(I(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&I(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[I(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),i=this._isInitialized?Promise.resolve():this._initializationPromise;return v(i,this,"internal-error"),i.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function le(e){return(0,s.m9)(e)}class ue{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function he(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function de(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function pe(e,t){return R(e,"POST","/v1/accounts:resetPassword",N(e,t))}async function me(e,t){return R(e,"POST","/v1/accounts:update",t)}async function ge(e,t){return R(e,"POST","/v1/accounts:sendOobCode",N(e,t))}class ye extends fe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ve(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class we extends fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new we(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=(0,o._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new we(n,r);return Object.assign(i,s),i}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}const be={USER_NOT_FOUND:"user-not-found"};class _e extends fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw F(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),be)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new _e({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class Ie{constructor(e){var t,n,r,i,o,a;const c=(0,s.zd)((0,s.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new Ie(t)}catch(n){return null}}}let Ee=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ie.parseLink(t);return v(n,"argument-error"),ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Se{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Te extends Se{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ce extends Te{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),we._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ce.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ce.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:s,nonce:i,providerId:o}=e;if(!(n||r||t||s))return null;if(!o)return null;try{return new Ce(o)._credential({idToken:t,accessToken:n,rawNonce:i,pendingToken:s})}catch(a){return null}}}let ke=(()=>{class e extends Te{constructor(){super("facebook.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),Ae=(()=>{class e extends Te{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),xe=(()=>{class e extends Te{constructor(){super("github.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class Oe extends fe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:s}=t;return n&&r&&s&&n===r?new Oe(n,s):null}static _create(e,t){return new Oe(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ne=(()=>{class e extends Te{constructor(){super("twitter.com")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(s){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();async function Re(e,t){return P(e,"POST","/v1/accounts:signUp",N(e,t))}class De{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await Y._fromIdTokenResponse(e,n,r),i=Pe(n);return new De({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pe(n);return new De({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Le extends s.ZR{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(s=e.tenantId)&&void 0!==s?s:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Le(e,t,n,r)}}function $e(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Le._fromErrorAndOperation(e,n,t,r);throw n})}function Fe(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function Me(e,t,n=!1){const r=await j(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return De._forOperation(e,"link",r)}async function Ve(e,t,n){await B(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(Fe(t.providerData).has(n)===e,t.auth,r)}async function Ue(e,t,n=!1){const{auth:r}=e,s="reauthenticate";try{const i=await j(e,$e(r,s,t,e),n);v(i.idToken,r,"internal-error");const o=U(i.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(e.uid===a,r,"user-mismatch"),De._forOperation(e,s,i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&f(r,"user-mismatch"),i}}async function je(e,t,n=!1){const r="signIn",s=await $e(e,r,t),i=await De._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function qe(e,t){return je(le(e),t)}async function ze(e,t){const n=(0,s.m9)(e);return await Ve(!1,n,t.providerId),Me(n,t)}async function Be(e,t){return Ue((0,s.m9)(e),t)}class He{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ge._fromServerResponse(e,t):f(e,"internal-error")}}class Ge extends He{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ge(t)}}function Ye(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function We(e,t){const n=(0,s.m9)(e),r=await pe(n,{oobCode:t}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=He._fromServerResponse(le(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Ke(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const i=await j(e,me(r,s));await e._updateTokensIfNecessary(i,!0)}class Xe{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Qe extends Xe{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Je extends Xe{constructor(e,t){super(e,"facebook.com",t)}}class Ze extends Qe{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class et extends Xe{constructor(e,t){super(e,"google.com",t)}}class tt extends Qe{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,s=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=U(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Xe(i,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Je(i,s);case"github.com":return new Ze(i,s);case"google.com":return new et(i,s);case"twitter.com":return new tt(i,s,e.screenName||null);case"custom":case"anonymous":return new Xe(i,null);default:return new Xe(i,r,s)}}(n)}class rt{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new rt("enroll",e)}static _fromMfaPendingCredential(e){return new rt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return rt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class st{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=le(e),r=(t.serverResponse.mfaInfo||[]).map(e=>He._fromServerResponse(n,e));v(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=rt._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new st(s,r,async e=>{const r=await e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await De._fromIdTokenResponse(n,t.operationType,i);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),De._forOperation(t.user,t.operationType,i);default:f(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class it{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>He._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new it(e)}async getSession(){return rt._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),s=await j(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await j(this.user,(s=this.user.auth,i={idToken:n,mfaEnrollmentId:t},R(s,"POST","/v2/accounts/mfaEnrollment:withdraw",N(s,i))));var s,i;this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const ot=new WeakMap,at="__sak";class ct{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(at,"1"),this.storage.removeItem(at),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const lt=(()=>{class e extends ct{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return Z(e)||ie(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=oe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}return e.type="LOCAL",e})(),ut=(()=>{class e extends ct{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let ht=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,s)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function dt(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class ft{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const c=dt("",20);r.port1.start();const l=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(l),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function pt(){return window}function mt(){return void 0!==pt().WorkerGlobalScope&&"function"==typeof pt().importScripts}const gt="firebaseLocalStorageDb",yt="firebaseLocalStorage",vt="fbase_key";class wt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bt(e,t){return e.transaction([yt],t?"readwrite":"readonly").objectStore(yt)}function _t(){const e=indexedDB.open(gt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(yt,{keyPath:vt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(yt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(gt);return new wt(e).toPromise()}(),t(await _t()))})})}async function It(e,t,n){const r=bt(e,!0).put({[vt]:t,value:n});return new wt(r).toPromise()}function Et(e,t){const n=bt(e,!0).delete(t);return new wt(n).toPromise()}const St=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ht._getInstance(mt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ft(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _t();return await It(e,at,"1"),await Et(e,at),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>It(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=bt(e,!1).get(t),r=await new wt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Et(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=bt(e,!1).getAll();return new wt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Tt(e){return new Promise((t,n)=>{const r=document.createElement("script");var s,i;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(i=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==i?i:document).appendChild(r)})}function Ct(e){return`__${e}${Math.floor(1e6*Math.random())}`}const kt=1e12;class At{constructor(e){this.auth=e,this.counter=kt,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new xt(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||kt;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||kt))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||kt))||void 0===t||t.execute(),""}}class xt{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ot=Ct("rcb"),Nt=new C(3e4,6e4);class Rt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pt().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(pt().grecaptcha):new Promise((n,r)=>{const i=pt().setTimeout(()=>{r(p(e,"network-request-failed"))},Nt.get());pt()[Ot]=()=>{pt().clearTimeout(i),delete pt()[Ot];const s=pt().grecaptcha;if(!s)return void r(p(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Tt(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Ot,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(p(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!pt().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dt{async load(e){return new At(e)}clearedOneInstance(){}}const Pt="recaptcha",Lt={theme:"light",type:"image"};class $t{constructor(e,t=Object.assign({},Lt),n){this.parameters=t,this.type=Pt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=le(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dt:new Rt,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=pt()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){v(S()&&!mt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await R(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);v(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ft{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_e._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Mt(e,t,n){var r;const s=await n.verify();try{let i;if(v("string"==typeof s,e,"argument-error"),v(n.type===Pt,e,"argument-error"),i="string"==typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i)return v("enroll"===t.type,e,"internal-error"),(await function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}let Vt=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=le(t)}verifyPhoneNumber(e,t){return Mt(this.auth,e,(0,s.m9)(t))}static credential(e,t){return _e._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_e._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function Ut(e,t){return t?I(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class jt extends fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qt(e){return je(e.auth,new jt(e),e.bypassAuthState)}function zt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Ue(n,new jt(e),e.bypassAuthState)}async function Bt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Me(n,new jt(e),e.bypassAuthState)}class Ht{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qt;case"linkViaPopup":case"linkViaRedirect":return Bt;case"reauthViaPopup":case"reauthViaRedirect":return zt;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gt=new C(2e3,1e4);let Yt=(()=>{class e extends Ht{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=dt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Gt.get())};e()}}return e.currentPopupAction=null,e})();const Wt=new Map;class Kt extends Ht{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jt(t),r="true"===await Qt(e)._get(n);return await Qt(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Xt(e,t){return Qt(e)._set(Jt(t),"true")}function Qt(e){return I(e._redirectPersistence)}function Jt(e){return K("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t,n=!1){const r=le(e),s=Ut(r,t),i=new Kt(r,s,n),o=await i.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function en(e){const t=dt(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class tn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!rn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nn(e))}saveEventToCache(e){this.cachedEventUids.add(nn(e)),this.lastProcessedEventTime=Date.now()}}function nn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function rn({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function sn(e,t={}){return R(e,"GET","/v1/projects",t)}const on=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,an=/^https?/;function cn(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!an.test(n))return!1;if(on.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ln=new C(3e4,6e4);function un(){const e=pt().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let hn=null;function dn(e){return hn=hn||function(e){return new Promise((t,n)=>{var r,s,i;function o(){un(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{un(),n(p(e,"network-request-failed"))},timeout:ln.get()})}if(null===(s=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=pt().gapi)||void 0===i?void 0:i.load)){const t=Ct("iframefcb");return pt()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},Tt(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw hn=null,e})}(e),hn}const fn=new C(5e3,15e3),pn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:i.SDK_VERSION},o=mn.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}const yn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wn(e,t,n,r,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:i.SDK_VERSION,eventId:o};if(t instanceof Se){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Te){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const s of Object.keys(l))void 0===l[s]&&delete l[s];return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(l).slice(1)}`}const bn="webStorageSupport";class _n extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _n(e)}_finalizeEnroll(e,t,n){return function(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let In=(()=>{class e{constructor(){}static assertion(e){return _n._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var En;class Sn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tn(){return window}En="Browser",(0,i._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:s,clientPlatform:En,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ae(En)},i=new ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(I);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(i,t),i})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,i._registerComponent)(new c.wA("auth-internal",e=>{return t=le(e.getProvider("auth").getImmediate()),new Sn(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.registerVersion)("@firebase/auth","0.18.1",void 0);class Cn extends tn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function kn(e){const t=await xn()._get(On(e));return t&&await xn()._remove(On(e)),t}function An(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function xn(){return I(lt)}function On(e){return K("authEvent",e.config.apiKey,e.name)}function Nn(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Rn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:p("no-auth-event")}}function Dn(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Pn(e=(0,s.z$)()){return!("file:"!==Dn()&&"ionic:"!==Dn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ln(){try{const e=self.localStorage,t=dt();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return $n()&&(0,s.hl)()}return!1}function $n(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fn(){return("http:"===Dn()||"https:"===Dn()||(0,s.ru)()||Pn())&&!((0,s.b$)()||(0,s.UG)())&&Ln()&&!$n()}function Mn(){return Pn()&&"undefined"!=typeof document}const Vn={LOCAL:"local",NONE:"none",SESSION:"session"},Un=v,jn="persistence";async function qn(e){await e._initializationPromise;const t=zn(),n=K(jn,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function zn(){return"undefined"!=typeof window?window:null}const Bn=v;class Hn{constructor(){this.browserResolver=I(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=Zt}async _openPopup(e,t,n,r){var i;return b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},yn),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(c=ee(u)?"_blank":n),J(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new vn(null);const d=window.open(t||"",c,h);v(d,e,"popup-blocked");try{d.focus()}catch(f){}return new vn(d)}(e,wn(e,t,n,E(),r),dt())}async _openRedirect(e,t,n,r){var s;return await this._originValidation(e),s=wn(e,t,n,E(),r),pt().location.href=s,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await dn(e),n=pt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:gn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=p(e,"network-request-failed"),i=pt().setTimeout(()=>{r(s)},fn.get());function o(){pt().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(s)})}))}(e),n=new tn(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bn,{type:bn},n=>{var r;const s=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==s&&t(!!s),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sn(e);for(const r of t)try{if(cn(r))return}catch(n){}f(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oe()||Z()||ie()}}),this.cordovaResolver=I(class{constructor(){this._redirectPersistence=ut,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zt}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Cn(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,s,i,o,a,c,l,u;const h=Tn();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(i=null===(s=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===s?void 0:s.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Wt.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:An(),postBody:null,tenantId:e.tenantId,error:p(e,"no-auth-event")}}(e,n,r);await function(e,t){return xn()._set(On(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:s}=Tn();b(t.sessionId,"AuthEvent did not contain a session ID");const i=await async function(e){const t=function(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return ie()?o.ibi=s.packageName:ne()?o.apn=s.packageName:f(e,"operation-not-supported-in-this-environment"),s.displayName&&(o.appDisplayName=s.displayName),o.sessionId=i,wn(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,o,t);return async function(e,t,n){const{cordova:r}=Tn();let s=()=>{};try{await new Promise((i,o)=>{let a=null;function c(){var e;i();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{o(p(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ne()&&document.addEventListener("visibilitychange",u,!1),s=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{s()}}(e,i,await function(e){const{cordova:t}=Tn();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Tn(),n={};ie()?n.iosBundleId=t.packageName:ne()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),await sn(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:s}=Tn(),i=setTimeout(async()=>{await kn(e),t.onEvent(Rn())},500),o=async n=>{clearTimeout(i);const r=await kn(e);let s=null;r&&(null==n?void 0:n.url)&&(s=function(e,t){var n,r;const s=function(e){const t=Nn(e),n=t.link?decodeURIComponent(t.link):void 0,r=Nn(n).link,s=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Nn(s).link||s||r||n||e}(t);if(s.includes("/__/auth/callback")){const t=Nn(s),i=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==i?void 0:i.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?p(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}(r,n.url)),t.onEvent(s||Rn())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${s.packageName.toLowerCase()}://`;Tn().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"==typeof a)try{a(e)}catch(t){console.error(t)}}}}),this.underlyingResolver=null,this._redirectPersistence=ut,this._completeRedirectFn=Zt}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bn(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Mn()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Gn(e){return e.unwrap()}function Yn(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Vt.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Ae;break;case"facebook.com":r=ke;break;case"github.com":r=xe;break;case"twitter.com":r=Ne;break;default:const{oauthIdToken:e,oauthAccessToken:s,oauthTokenSecret:i,pendingToken:o,nonce:a}=t;return s||i||e||o?o?n.startsWith("saml.")?Oe._create(n,o):we._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:s}):new Ce(n).credential({idToken:e,accessToken:s,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}async function Wn(e,t){let n;try{n=await t}catch(a){throw a instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Xn(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return v(t.operationType,r,"argument-error"),v(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),st._fromError(r,i)}(e,t));else if(r){const e=Yn(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,a),a}const{operationType:r,user:i}=n;return{operationType:r,credential:(o=n,Yn(o)),additionalUserInfo:nt(n),user:Qn.getOrCreate(i)};var o}async function Kn(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Wn(e,n.confirm(t))}}class Xn{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wn(Gn(this.auth),this.resolver.resolveSignIn(e))}}class Qn{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return ot.has(t)||ot.set(t,it._fromUser(t)),ot.get(t)}(e)}static getOrCreate(e){return Qn.USER_MAP.has(e)||Qn.USER_MAP.set(e,new Qn(e)),Qn.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wn(this.auth,ze(this._delegate,e))}async linkWithPhoneNumber(e,t){return Kn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);await Ve(!1,r,"phone");const i=await Mt(r.auth,t,(0,s.m9)(n));return new Ft(i,e=>ze(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return Wn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Se);const i=Ut(r.auth,n);return new Yt(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Hn))}async linkWithRedirect(e){return await qn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Se);const i=Ut(r.auth,n);await Ve(!1,r,t.providerId),await Xt(i,r.auth);const o=await en(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Hn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wn(this.auth,Be(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Kn(this.auth,async function(e,t,n){const r=(0,s.m9)(e),i=await Mt(r.auth,t,(0,s.m9)(n));return new Ft(i,e=>Be(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wn(this.auth,async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Se);const i=Ut(r.auth,n);return new Yt(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Hn))}async reauthenticateWithRedirect(e){return await qn(le(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,s.m9)(e);g(r.auth,t,Se);const i=Ut(r.auth,n);await Xt(i,r.auth);const o=await en(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Hn)}sendEmailVerification(e){return async function(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ye(n.auth,r,t);const{email:i}=await async function(e,t){return ge(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=(0,s.m9)(e);await Ve(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return R(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Fe(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Ke((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ke((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Me((0,s.m9)(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await j(r,async function(e,t){return R(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ye(r.auth,i,n);const{email:o}=await async function(e,t){return ge(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qn.USER_MAP=new WeakMap;const Jn=v;let Zn=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Jn(n,"invalid-api-key",{appName:e.name});let r=[W];if("undefined"!=typeof window){r=function(e,t){const n=zn();if(!(null==n?void 0:n.sessionStorage))return[];const r=K(jn,e,t);switch(n.sessionStorage.getItem(r)){case Vn.NONE:return[W];case Vn.LOCAL:return[St,ut];case Vn.SESSION:return[ut];default:return[]}}(n,e.name);for(const e of[St,lt,ut])r.includes(e)||r.push(e)}Jn(n,"invalid-api-key",{appName:e.name});const s="undefined"!=typeof window?Hn:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:s}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=le(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),i=he(t),{host:o,port:a}=function(e){const t=he(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:de(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:de(t)}}}(t);r.config.emulator={url:`${i}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(s)}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return R(e,"POST","/v1/accounts:update",N(e,t))}((0,s.m9)(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return We(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await pe((0,s.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wn(this._delegate,async function(e,t,n){const r=le(e),s=await Re(r,{returnSecureToken:!0,email:t,password:n}),i=await De._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:S()?E():"http://localhost"},{signinMethods:r}=await async function(e,t){return R(e,"POST","/v1/accounts:createAuthUri",N(e,t))}((0,s.m9)(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ie.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}async getRedirectResult(){Jn(Fn(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await le(e)._initializationPromise,Zt(e,t,!1)}(this._delegate,Hn);return e?Wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){le(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:s,complete:i}=er(e,t,n);return this._delegate.onAuthStateChanged(r,s,i)}onIdTokenChanged(e,t,n){const{next:r,error:s,complete:i}=er(e,t,n);return this._delegate.onIdTokenChanged(r,s,i)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&Ye(r,i,n),await async function(e,t){return ge(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ye(r,i,n),await async function(e,t){return ge(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Un(Object.values(Vn).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Un(t!==Vn.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Un(t===Vn.NONE,e,"unsupported-persistence-type"):$n()?Un(t===Vn.NONE||t===Vn.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Un(t===Vn.NONE||Ln(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Vn.SESSION:t=ut;break;case Vn.LOCAL:t=await I(St)._isAvailable()?St:lt;break;case Vn.NONE:t=W;break;default:return f("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wn(this._delegate,async function(e){var t;const n=le(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new De({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Re(n,{returnSecureToken:!0}),s=await De._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}(this._delegate))}signInWithCredential(e){return Wn(this._delegate,qe(this._delegate,e))}signInWithCustomToken(e){return Wn(this._delegate,async function(e,t){const n=le(e),r=await async function(e,t){return P(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))}(n,{token:t,returnSecureToken:!0}),s=await De._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wn(this._delegate,function(e,t,n){return qe((0,s.m9)(e),Ee.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wn(this._delegate,async function(e,t,n){const r=(0,s.m9)(e),i=Ee.credentialWithLink(t,n||E());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qe(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Kn(this._delegate,async function(e,t,n){const r=le(e),i=await Mt(r,t,(0,s.m9)(n));return new Ft(i,e=>qe(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return Jn(Fn(),this._delegate,"operation-not-supported-in-this-environment"),Wn(this._delegate,async function(e,t,n){const r=le(e);g(e,t,Se);const s=Ut(r,n);return new Yt(r,"signInViaPopup",t,s).executeNotNull()}(this._delegate,e,Hn))}async signInWithRedirect(e){return Jn(Fn(),this._delegate,"operation-not-supported-in-this-environment"),await qn(this._delegate),function(e,t,n){return async function(e,t,n){const r=le(e);g(e,t,Se);const s=Ut(r,n);return await Xt(s,r),s._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Hn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await We((0,s.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Vn,e})();function er(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const s=r;return{next:e=>s(e&&Qn.getOrCreate(e)),error:t,complete:n}}class tr{constructor(){this.providerId="phone",this._delegate=new Vt(Gn(r.Z.auth()))}static credential(e,t){return Vt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}tr.PHONE_SIGN_IN_METHOD=Vt.PHONE_SIGN_IN_METHOD,tr.PROVIDER_ID=Vt.PROVIDER_ID;const nr=v;var rr;(rr=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zn(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ee,FacebookAuthProvider:ke,GithubAuthProvider:xe,GoogleAuthProvider:Ae,OAuthProvider:Ce,PhoneAuthProvider:tr,PhoneMultiFactorGenerator:In,RecaptchaVerifier:class{constructor(e,t,n=r.Z.app()){var s;nr(null===(s=n.options)||void 0===s?void 0:s.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new $t(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Ne,Auth:Zn,AuthCredential:fe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rr.registerVersion("@firebase/auth-compat","0.1.4")},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var s,i=new Promise(function(i,o){n(s=e[t].apply(e,r)).then(i,o)});return i.request=s,i}function s(e,t,n){var s=r(e,t,n);return s.then(function(e){if(e)return new u(e,s.request)})}function i(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,s){s.forEach(function(s){s in n.prototype&&(e.prototype[s]=function(){return r(this[t],s,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function c(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return s(this[t],r,arguments)})})}function l(e){this._index=e}function u(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}i(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(u.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new u(e,t._request)})})})}),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},i(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},i(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},i(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,l].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],s=this._store||this._index,i=s[e].apply(s,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})})}),[l,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(s){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():s(r)):s(r)})})})}),e.openDb=function(e,t,n){var s=r(indexedDB,"open",[e,t]),i=s.request;return i&&(i.onupgradeneeded=function(e){n&&n(new f(i.result,e.oldVersion,i.transaction))}),s.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},6215:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(9765),s=n(7971);class i extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.N;return this._value}next(e){super.next(this._value=e)}}},3098:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(9193),s=n(5917),i=n(205);class o{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return(0,i._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(7393),s=n(9181),i=n(6490),o=n(6554),a=n(4487),c=n(2494);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[s.b])return e[s.b]()}return e||t||n?new r.L(e,t,n):new r.L(i.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(s){n(s),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(2494),s=n(4449);const i={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,s.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>u});var r=n(7574),s=n(7393),i=n(5319),o=n(7971),a=n(8858),c=n(9181);class l extends s.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),i.w.EMPTY):this.isStopped?(e.complete(),i.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):i.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(5319);class s extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(9105),s=n(6490),i=n(5319),o=n(9181),a=n(2494),c=n(4449);class l extends i.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.c;break;case 1:if(!e){this.destination=s.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new l(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==s.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),s=n(1555),i=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,i.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,s.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>c});var r=n(7393),s=n(7574),i=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof s.y)return e.subscribe(t);let n;try{n=(0,i.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>c});var r=n(9765),s=n(7574),i=n(5319),o=n(1307);class a extends s.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new i.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=i.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},8071:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(5917),s=n(3282);function i(...e){return(0,s.J)(1)((0,r.of)(...e))}},1439:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(7574),s=n(4402),i=n(9193);function o(e){return new r.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,s.D)(n):(0,i.c)()).subscribe(t)})}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,c:()=>i});var r=n(7574);const s=new r.y(e=>e.complete());function i(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):s}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),s=n(7444),i=n(5319),o=n(6554),a=n(4087),c=n(377),l=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>{const s=e[o.L]();r.add(s.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,l.t)(e))return function(e,t){return new r.y(n=>{const r=new i.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new i.w;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(t.schedule(()=>{s=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,s.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),s=n(5015),i=n(4087);function o(e,t){return t?(0,i.r)(e,t):new r.y((0,s.V)(e))}},2759:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),s=n(9796),i=n(9105),o=n(8002);function a(e,t,n,l){return(0,i.m)(n)&&(l=n,n=void 0),l?a(e,t,n).pipe((0,o.U)(e=>(0,s.k)(e)?l(...e):l(e))):new r.y(r=>{c(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function c(e,t,n,r,s){let i;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,s),i=()=>r.removeEventListener(t,n,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),i=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),i=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let i=0,o=e.length;i<o;i++)c(e[i],t,n,r,s)}r.add(i)}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),s=n(4869),i=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,s.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,i.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),s=n(6693),i=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,i.r)(e,t)):(0,s.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(7574);function s(e,t){return new r.y(t?n=>t.schedule(i,0,{error:e,subscriber:n}):t=>t.error(e))}function i({error:e,subscriber:t}){t.error(e)}},5242:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(7393);function s(e=null){return t=>t.lift(new i(e))}class i{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393);function s(e,t){return n=>n.lift(new i(e,t))}class i{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},5435:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(7393);function s(e,t){return function(n){return n.lift(new i(e,t))}}class i{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},8049:(e,t,n)=>{"use strict";n.d(t,{P:()=>l});var r=n(3410),s=n(5435),i=n(5257),o=n(5242),a=n(4635),c=n(4487);function l(e,t){const n=arguments.length>=2;return l=>l.pipe(e?(0,s.h)((t,n)=>e(t,n,l)):c.y,(0,i.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(7393);function s(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}}class i{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(9773),s=n(4487);function i(e=Number.POSITIVE_INFINITY){return(0,r.zg)(s.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),s=n(4402),i=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new i.IY(this),n=this.destination;n.add(t);const r=(0,i.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(2441);function s(e,t){return function(n){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(s,t));const o=Object.create(n,r.N);return o.source=n,o.subjectFactory=s,o}}class i{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),s=n(r).subscribe(e);return s.add(t.subscribe(r)),s}}},9746:(e,t,n)=>{"use strict";n.d(t,{QV:()=>i,ht:()=>a});var r=n(7393),s=n(3098);function i(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(e,this.destination)))}_next(e){this.scheduleMessage(s.P.createNext(e))}_error(e){this.scheduleMessage(s.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(s.P.createComplete()),this.unsubscribe()}}class c{constructor(e,t){this.notification=e,this.destination=t}}},9328:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(7393);function s(){return e=>e.lift(new i)}class i{call(e,t){return t.subscribe(new o(e))}}class o extends r.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393);function s(){return function(e){return e.lift(new i(e))}}class i{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2145:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(7393);function s(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new i(e,t,n))}}class i{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},2066:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var r=n(9765),s=n(7771),i=n(5319),o=n(9746),a=n(7971),c=n(8858);class l extends r.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;let l;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?l=i.w.EMPTY:(this.observers.push(e),l=new c.W(this,e)),r&&e.add(e=new o.ht(e,r)),t)for(let i=0;i<s&&!e.closed;i++)e.next(n[i]);else for(let i=0;i<s&&!e.closed;i++)e.next(n[i].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),l}_getNow(){return(this.scheduler||s.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,s=r.length;let i=0;for(;i<s&&!(e-r[i].time<n);)i++;return s>t&&(i=Math.max(i,s-t)),i>0&&r.splice(0,i),r}}class u{constructor(e,t){this.time=e,this.value=t}}function h(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let s,i,o=0,a=!1,c=!1;return function(u){let h;o++,!s||a?(a=!1,s=new l(e,t,r),h=s.subscribe(this),i=u.subscribe({next(e){s.next(e)},error(e){a=!0,s.error(e)},complete(){c=!0,i=void 0,s.complete()}}),c&&(i=void 0)):h=s.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,i&&!c&&n&&0===o&&(i.unsubscribe(),i=void 0,s=void 0)})}}(r))}},9761:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(8071),s=n(4869);function i(...e){const t=e[e.length-1];return(0,s.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let s=1;const i=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=s++;return o[t]=!0,i.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var l=n(6465),u=n(6102);const h=new class extends u.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,n){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new m(e,t))}}class m{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3190:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8002),s=n(4402),i=n(5345);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,i)=>(0,s.D)(e(n,i)).pipe((0,r.U)((e,r)=>t(n,e,i,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends i.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new i.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,i.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},5257:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(7393),s=n(7108),i=n(9193);function o(e){return t=>0===e?(0,i.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new s.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},8307:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393),s=n(8640),i=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=s.Z,this._tapError=s.Z,this._tapComplete=s.Z,this._tapError=n||s.Z,this._tapComplete=r||s.Z,(0,i.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||s.Z,this._tapError=t.error||s.Z,this._tapComplete=t.complete||s.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4635:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(3410),s=n(7393);function i(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends s.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new r.K}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(7574),s=n(5319);function i(e,t){return new r.y(n=>{const r=new s.w;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(5319);class s extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class i extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(s){r=!0,n=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class s extends r{constructor(e,t=r.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>s,P:()=>i});var r=n(6465);const s=new(n(6102).v)(r.o),i=s},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>i});var r=n(6465),s=n(6102);const i=new class extends s.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=i},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},3410:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},8640:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),s=n(4449),i=n(377),o=n(6554),a=n(9489),c=n(4072),l=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s.z),e);if(e&&"function"==typeof e[i.hZ])return t=e,e=>{const n=t[i.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,l.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},9198:(e,t,n)=>{"use strict";var r=n(8583),s=n(8720);class i extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends i{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,c=null;const l=new s.OlP("TRANSITION_ID"),u=[{provide:s.ip1,useFactory:function(e,t,n){return()=>{n.get(s.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[l,r.K0,s.zs3],multi:!0}];class h{static init(){(0,s.VLi)(new h)}addToWindow(e){s.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(e=>{const t=s.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const f=new s.OlP("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(f),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?_(e,s,n):(s=s.replace(b,e),n.push(s))}return n}function I(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case s.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case s.ifc.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(p),s.LFG(y),s.LFG(s.AFp))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class S{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=w[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,n,r&s.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,I(n)):this.eventManager.addEventListener(e,t,I(n))}}class T extends S{constructor(e,t,n,r){super(e),this.component=n;const s=_(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class C extends S{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const e=document.createElement("style");e.textContent=s[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let k=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let R=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,s){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let i="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=r,o.fullKey=i,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O.hasOwnProperty(t)&&(t=O[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,N[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return s=>{e.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const D=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:r.bD},{provide:s.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),P=[[],{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:f,useClass:k,multi:!0,deps:[r.K0,s.R0b,s.Lbi]},{provide:f,useClass:R,multi:!0,deps:[r.K0]},[],{provide:E,useClass:E,deps:[p,y,s.AFp]},{provide:s.FYo,useExisting:E},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:p,useClass:p,deps:[f,s.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let L=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:s.AFp,useValue:t.appId},{provide:l,useExisting:s.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(e,12))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:P,imports:[r.ez,s.hGG]}),e})();function $(){return new F((0,s.LFG)(r.K0))}let F=(()=>{class e{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.K0))},e.\u0275prov=(0,s.Yz7)({factory:$,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window;var M=n(7405),V=n(2859);function U(e,t){if(1&e&&(s.TgZ(0,"ion-menu-toggle",6),s.TgZ(1,"ion-item",7),s.TgZ(2,"ion-label"),s._uU(3),s.qZA(),s._UZ(4,"ion-icon",8),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Q6J("routerLink",e.redirectTo),s.xp6(2),s.hij(" ",e.title," "),s.xp6(1),s.Q6J("name",e.icon)}}let j=(()=>{class e{constructor(){this.menu=[{title:"Inicio",icon:"home",redirectTo:"/home"},{title:"Encuesta",icon:"happy",redirectTo:"/encuestas"},{title:"A\xf1adir contacto",icon:"person-add",redirectTo:"/contactoadd"},{title:"Ver Reportes",icon:"document-attach",redirectTo:"/verreportes"},{title:"Ver avisos",icon:"reader",redirectTo:"/avisos"},{title:"Enviar avisos",icon:"paper-plane",redirectTo:"/nuevoaviso"},{title:"Validar vecino",icon:"person-circle",redirectTo:"/vecino"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-root"]],decls:11,vars:1,consts:[["contentId","main","when","md"],["side","start","contentId","main","menuId","first","type","overlay",1,"menu"],["color","primary"],["id","inbox-list"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"name"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-app"),s.TgZ(1,"ion-split-pane",0),s.TgZ(2,"ion-menu",1),s.TgZ(3,"ion-header"),s.TgZ(4,"ion-toolbar",2),s.TgZ(5,"ion-title"),s._uU(6,"GRICDMX-ADMIN"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"ion-content"),s.TgZ(8,"ion-list",3),s.YNc(9,U,5,3,"ion-menu-toggle",4),s.qZA(),s.qZA(),s.qZA(),s._UZ(10,"ion-router-outlet",5),s.qZA(),s.qZA()),2&e&&(s.xp6(9),s.Q6J("ngForOf",t.menu))},directives:[V.dr,V.jI,V.z0,V.Gu,V.sr,V.wd,V.W2,V.q_,r.sg,V.jP,V.zc,V.Ie,M.Od,V.YI,M.rH,V.Q$,V.gu],styles:["ion-item.selected[_ngcontent-%COMP%]{--color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background:rgba(var(--ion-color-primary-rgb),0.14)}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),e})();const q=[{path:"home",loadChildren:()=>Promise.all([n.e(6738),n.e(1315)]).then(n.bind(n,1315)).then(e=>e.HomePageModule)},{path:"encuestas",loadChildren:()=>Promise.all([n.e(6738),n.e(5953)]).then(n.bind(n,5953)).then(e=>e.EncuestasPageModule)},{path:"contactoadd",loadChildren:()=>n.e(403).then(n.bind(n,403)).then(e=>e.ContactoaddPageModule)},{path:"avisos",loadChildren:()=>Promise.all([n.e(6738),n.e(5598)]).then(n.bind(n,5598)).then(e=>e.AvisosPageModule)},{path:"verreportes",loadChildren:()=>n.e(7967).then(n.bind(n,7967)).then(e=>e.VerreportesPageModule)},{path:"vecino",loadChildren:()=>n.e(5966).then(n.bind(n,5966)).then(e=>e.VecinoPageModule)},{path:"nuevoaviso",loadChildren:()=>n.e(4121).then(n.bind(n,4121)).then(e=>e.NuevoavisoPageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"home",pathMatch:"full"}];let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[M.Bz.forRoot(q,{preloadingStrategy:M.wm})],M.Bz]}),e})();var B=n(1439),H=n(205),G=n(2759),Y=n(5917),W=n(8071),K=n(9765),X=n(7574),Q=n(8640);const J=new X.y(Q.Z);var Z=n(6682),ee=n(8002),te=n(5435),ne=n(3190),re=n(4458),se=n(5257),ie=n(8307),oe=n(3637),ae=n(7393),ce=n(3098);class le{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new ue(e,this.delay,this.scheduler))}}class ue extends ae.L{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(ue.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new he(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(ce.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(ce.P.createComplete()),this.unsubscribe()}}class he{constructor(e,t){this.time=e,this.notification=t}}const de="Service workers are disabled or not supported by this browser";class fe{constructor(e){if(this.serviceWorker=e,e){const t=(0,G.R)(e,"controllerchange").pipe((0,ee.U)(()=>e.controller)),n=(0,B.P)(()=>(0,Y.of)(e.controller)),r=(0,W.z)(n,t);this.worker=r.pipe((0,te.h)(e=>!!e)),this.registration=this.worker.pipe((0,ne.w)(()=>e.getRegistration()));const s=(0,G.R)(e,"message").pipe((0,ee.U)(e=>e.data)).pipe((0,te.h)(e=>e&&e.type)).pipe((0,re.O)(new K.xQ));s.connect(),this.events=s}else this.worker=this.events=this.registration=(0,B.P)(()=>(0,H._)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe((0,se.q)(1),(0,ie.b)(n=>{n.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,n){const r=this.waitForStatus(n),s=this.postMessage(e,t);return Promise.all([r,s]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe((0,te.h)(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,se.q)(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe((0,te.h)(t=>t.nonce===e),(0,se.q)(1),(0,ee.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let pe=(()=>{class e{constructor(e){if(this.sw=e,this.subscriptionChanges=new K.xQ,!e.isEnabled)return this.messages=J,this.notificationClicks=J,void(this.subscription=J);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ee.U)(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ee.U)(e=>e.data)),this.pushManager=this.sw.registration.pipe((0,ee.U)(e=>e.pushManager));const t=this.pushManager.pipe((0,ne.w)(e=>e.getSubscription()));this.subscription=(0,Z.T)(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(de));const t={userVisibleOnly:!0};let n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return t.applicationServerKey=r,this.pushManager.pipe((0,ne.w)(e=>e.subscribe(t)),(0,se.q)(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,se.q)(1),(0,ne.w)(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(de))}decodeBase64(e){return atob(e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(fe))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),me=(()=>{class e{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=J,this.activated=J,void(this.unrecoverable=J);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(de));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(de));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(fe))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();class ge{}const ye=new s.OlP("NGSW_REGISTER_SCRIPT");function ve(e,t,n,i){return()=>{if(!(0,r.NF)(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[t,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(t){case"registerImmediately":o=(0,Y.of)(null);break;case"registerWithDelay":o=we(+r[0]||0);break;case"registerWhenStable":o=r[0]?(0,Z.T)(be(e),we(+r[0])):be(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}e.get(s.R0b).runOutsideAngular(()=>o.pipe((0,se.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(e=>console.error("Service worker registration failed with:",e))))}}function we(e){return(0,Y.of)(null).pipe(function(e,t=oe.P){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new le(r,t))}(e))}function be(e){return e.get(s.z2F).isStable.pipe((0,te.h)(e=>e))}function _e(e,t){return new fe((0,r.NF)(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let Ie=(()=>{class e{static register(t,n={}){return{ngModule:e,providers:[{provide:ye,useValue:t},{provide:ge,useValue:n},{provide:fe,useFactory:_e,deps:[ge,s.Lbi]},{provide:s.ip1,useFactory:ve,deps:[s.zs3,ye,ge,s.Lbi],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[pe,me]}),e})();const Ee={apiKey:"AIzaSyCnbCHaQXYzcGiltTH0-vlYXiT_HXYT3VE",authDomain:"apropipn01.firebaseapp.com",projectId:"apropipn01",storageBucket:"apropipn01.appspot.com",messagingSenderId:"686430345965",appId:"1:686430345965:web:11387bbd3d6231436c0ae4",measurementId:"G-QC9D3690WC"};var Se=n(8939),Te=n(4762),Ce=n(9193),ke=n(9746),Ae=n(2066),xe=n(5319);class Oe{constructor(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}call(e,t){return t.subscribe(new Ne(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ne extends ae.L{constructor(e,t,n,r,s){super(e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=s,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}_group(e,t){let n=this.groups;n||(n=this.groups=new Map);let r,s=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(i){this.error(i)}else r=e;if(!s){s=this.subjectSelector?this.subjectSelector():new K.xQ,n.set(t,s);const e=new De(t,s,this);if(this.destination.next(e),this.durationSelector){let e;try{e=this.durationSelector(new De(t,s))}catch(i){return void this.error(i)}this.add(e.subscribe(new Re(t,s,this)))}}s.closed||s.next(r)}_error(e){const t=this.groups;t&&(t.forEach((t,n)=>{t.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((e,t)=>{e.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Re extends ae.L{constructor(e,t,n){super(t),this.key=e,this.group=t,this.parent=n}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class De extends X.y{constructor(e,t,n){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=n}_subscribe(e){const t=new xe.w,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&t.add(new Pe(n)),t.add(r.subscribe(e)),t}}class Pe extends xe.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;e.closed||this.closed||(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var Le=n(9773),$e=n(7519),Fe=n(9761),Me=n(9328),Ve=n(9126),Ue=n(9534),je=n(3820),qe=n(7841);const ze=new s.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Be=new s.OlP("angularfire2.analytics.appVersion"),He=new s.OlP("angularfire2.analytics.appName"),Ge=new s.OlP("angularfire2.analytics.debugMode"),Ye=new s.OlP("angularfire2.analytics.config");let We=(()=>{class e{constructor(e,t,s,i,o,a,c,l,u){if(this.analyticsInitialized=new Promise(()=>{}),(0,r.NF)(c)){window.dataLayer=window.dataLayer||[];const e=(...e)=>"config"===e[0]&&"firebase"===e[2].origin&&(this.measurementId=e[1],!0),t=e=>{window.gtag=(...t)=>{e&&e(...t),"event"===t[0]&&t[2].send_to===this.measurementId&&(i&&(t[2].app_name=i),s&&(t[2].app_version=s)),o&&"undefined"!=typeof console&&console.info(...t),function(...e){window.dataLayer.push(arguments)}(...t)}};window.dataLayer.some(e)?(this.analyticsInitialized=Promise.resolve(),t()):this.analyticsInitialized=new Promise(n=>{t((...t)=>{e(...t)&&n()})}),a&&this.updateConfig(a),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const h=(0,Y.of)(void 0).pipe((0,ke.QV)(u.outsideAngular),(0,ne.w)(Ue.Gb),(0,ne.w)(e=>e?l.runOutsideAngular(()=>n.e(399).then(n.bind(n,399))):Ce.E),(0,ee.U)(()=>(0,Ve.cc)("analytics","AngularFireAnalytics",e.name,()=>{const n=e.analytics();return!1===t&&n.setAnalyticsCollectionEnabled(!1),n},[e,t,a,o])),(0,Ae.d)({bufferSize:1,refCount:!1}));return(0,Se.pX)(this,h,l)}updateConfig(e){return(0,Te.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(Se.Ot),s.LFG(ze,8),s.LFG(Be,8),s.LFG(He,8),s.LFG(Ge,8),s.LFG(Ye,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ve.HU))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Ke=(()=>{class e{constructor(e,t,n,s){if(this.disposables=[],qe.Z.registerVersion("angularfire",Ve.q4.full,"compat-user-tracking"),(0,r.PM)(t))this.initialized=Promise.resolve();else{let t;this.initialized=s.runOutsideAngular(()=>new Promise(e=>t=e)),this.disposables=[n.authState.subscribe(n=>{e.setUserId(null==n?void 0:n.uid),t()}),n.credential.subscribe(t=>{if(t){const n=t.user.isAnonymous?"anonymous":t.additionalUserInfo.providerId;t.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:n}),e.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(We),s.LFG(s.Lbi),s.LFG(je.zQ),s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();const Xe="screen_class";let Qe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Je={},Ze=e=>{const t=[e.screen_class,e.outlet].join("#");if(Je.hasOwnProperty(t))return Je[t];{const e=Qe++;return Je[t]=e,e}};let et=(()=>{class e{constructor(e,t,n,s,i,o,a){if(qe.Z.registerVersion("angularfire",Ve.q4.full,"compat-screen-tracking"),!t||!(0,r.NF)(i))return this;o.runOutsideAngular(()=>{const r=t.events.pipe((0,te.h)(e=>e instanceof M.jw));var i;this.disposable=r.pipe((0,ne.w)(e=>{var r;const i=(null===(r=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,e=>e.replace("://",":///"))).root.children[e.snapshot.outlet])||void 0===r?void 0:r.toString())||"",o=t.routerState.root.children.map(e=>e).find(t=>t.outlet===e.snapshot.outlet);if(!o)return(0,Y.of)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const c=a.pathFromRoot.map(e=>{var t;return null===(t=e.routeConfig)||void 0===t?void 0:t.path}).filter(e=>e).join("/")||"/",l={screen_name:c,page_path:`/${i}`,firebase_event_origin:"auto",firebase_screen:c,outlet:e.snapshot.outlet};n&&(l.page_title=n.getTitle());let u=o.component;if(u){if(u===M.fw){let t=e.snapshot;for(;t.firstChild;)t=t.firstChild;u=t.component}}else u=e.snapshot.component;if("string"==typeof u)return(0,Y.of)(Object.assign(Object.assign({},l),{[Xe]:u}));if(u){const e=s.resolveComponentFactory(u);return(0,Y.of)(Object.assign(Object.assign({},l),{[Xe]:e.selector}))}return(0,Y.of)(null)}),(0,te.h)(e=>e),(0,ee.U)(e=>Object.assign({firebase_screen_class:e.screen_class,firebase_screen_id:Ze(e)},e)),(i=e=>e.outlet,e=>e.lift(new Oe(i,void 0,void 0,void 0))),(0,Le.zg)(t=>t.pipe((0,$e.x)((e,t)=>JSON.stringify(e)===JSON.stringify(t)),(0,Fe.O)(void 0),(0,Me.G)(),(0,ee.U)(([e,t])=>e?Object.assign({firebase_previous_class:e.screen_class,firebase_previous_screen:e.screen_name,firebase_previous_id:e.firebase_screen_id},t):t),(0,ne.w)(t=>(0,Te.mG)(this,void 0,void 0,function*(){return a&&(yield a.initialized),yield e.logEvent("screen_view",t)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(We),s.LFG(M.F0,8),s.LFG(F,8),s.LFG(s._Vd),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Ke,8))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),tt=(()=>{class e{constructor(e,t,n){qe.Z.registerVersion("angularfire",Ve.q4.full,"analytics-compat"),e.app.then(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(We),s.LFG(et,8),s.LFG(Ke,8))},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[We]}),e})();var nt=n(4384);let rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e,bootstrap:[j]}),e.\u0275inj=s.cJS({providers:[{provide:M.wN,useClass:V.r4}],imports:[[L,V.Pc.forRoot(),z,Se.hO.initializeApp(Ee),tt,nt.yb,nt.yb,Ie.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]]}),e})();(0,s.G48)(),D().bootstrapModule(rt).catch(e=>console.log(e))},863:(e,t,n)=>{var r={"./ion-action-sheet.entry.js":[7321,8592,7321],"./ion-alert.entry.js":[6108,8592,6108],"./ion-app_8.entry.js":[1489,8592,1489],"./ion-avatar_3.entry.js":[305,8592,305],"./ion-back-button.entry.js":[5830,8592,5830],"./ion-backdrop.entry.js":[7757,7757],"./ion-button_2.entry.js":[392,8592,392],"./ion-card_5.entry.js":[6911,8592,6911],"./ion-checkbox.entry.js":[937,8592,937],"./ion-chip.entry.js":[8695,8592,8695],"./ion-col_3.entry.js":[2239,6034],"./ion-datetime_3.entry.js":[8837,8592,8837],"./ion-fab_3.entry.js":[4195,8592,4195],"./ion-img.entry.js":[1709,1709],"./ion-infinite-scroll_2.entry.js":[5931,8592,3087],"./ion-input.entry.js":[4513,8592,4513],"./ion-item-option_3.entry.js":[8056,8592,8056],"./ion-item_8.entry.js":[862,8592,862],"./ion-loading.entry.js":[7509,8592,7509],"./ion-menu_3.entry.js":[6030,8592,6272],"./ion-modal.entry.js":[1855,8592,1855],"./ion-nav_2.entry.js":[8708,8592,8708],"./ion-popover.entry.js":[3527,8592,3527],"./ion-progress-bar.entry.js":[4694,8592,4694],"./ion-radio_2.entry.js":[9222,8592,9222],"./ion-range.entry.js":[5277,8592,5277],"./ion-refresher_2.entry.js":[9921,8592,9921],"./ion-reorder_2.entry.js":[3122,8592,3122],"./ion-ripple-effect.entry.js":[1602,1602],"./ion-route_4.entry.js":[5174,8592,5174],"./ion-searchbar.entry.js":[7895,8592,7895],"./ion-segment_2.entry.js":[6164,8592,6164],"./ion-select_3.entry.js":[592,8592,592],"./ion-slide_2.entry.js":[7162,7162],"./ion-spinner.entry.js":[1374,8592,1374],"./ion-split-pane.entry.js":[7896,7896],"./ion-tab-bar_2.entry.js":[5043,8592,5043],"./ion-tab_2.entry.js":[7802,8592,7802],"./ion-text.entry.js":[9072,8592,9072],"./ion-textarea.entry.js":[2191,8592,2191],"./ion-toast.entry.js":[801,8592,801],"./ion-toggle.entry.js":[7110,8592,7110],"./ion-virtual-scroll.entry.js":[431,431]};function s(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(s))}s.keys=()=>Object.keys(r),s.id=863,e.exports=s},4762:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function s(e,t,n,r){return new(n||(n=Promise))(function(s,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function i(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(a){i=[6,a],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,s,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function c(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:()=>r,mG:()=>s,Jh:()=>i,XA:()=>o,CR:()=>a,ev:()=>c})}},e=>{"use strict";e(e.s=9198)}]);